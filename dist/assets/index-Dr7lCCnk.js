var hD=Object.defineProperty;var fD=(t,e,r)=>e in t?hD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ti=(t,e,r)=>fD(t,typeof e!="symbol"?e+"":e,r);function pw(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function mw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var XC={exports:{}},Ff={},YC={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Symbol.for("react.element"),mD=Symbol.for("react.portal"),gD=Symbol.for("react.fragment"),yD=Symbol.for("react.strict_mode"),vD=Symbol.for("react.profiler"),wD=Symbol.for("react.provider"),bD=Symbol.for("react.context"),SD=Symbol.for("react.forward_ref"),xD=Symbol.for("react.suspense"),ED=Symbol.for("react.memo"),_D=Symbol.for("react.lazy"),rS=Symbol.iterator;function kD(t){return t===null||typeof t!="object"?null:(t=rS&&t[rS]||t["@@iterator"],typeof t=="function"?t:null)}var QC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZC=Object.assign,eA={};function ul(t,e,r){this.props=t,this.context=e,this.refs=eA,this.updater=r||QC}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tA(){}tA.prototype=ul.prototype;function gw(t,e,r){this.props=t,this.context=e,this.refs=eA,this.updater=r||QC}var yw=gw.prototype=new tA;yw.constructor=gw;ZC(yw,ul.prototype);yw.isPureReactComponent=!0;var nS=Array.isArray,rA=Object.prototype.hasOwnProperty,vw={current:null},nA={key:!0,ref:!0,__self:!0,__source:!0};function iA(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rA.call(e,n)&&!nA.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:wc,type:t,key:s,ref:o,props:i,_owner:vw.current}}function TD(t,e){return{$$typeof:wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===wc}function CD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var iS=/\/+/g;function Bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CD(""+t.key):e.toString(36)}function Wd(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wc:case mD:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Bp(o,0):n,nS(i)?(r="",t!=null&&(r=t.replace(iS,"$&/")+"/"),Wd(i,e,r,"",function(u){return u})):i!=null&&(ww(i)&&(i=TD(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",nS(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Bp(s,a);o+=Wd(s,e,r,l,i)}else if(l=kD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Bp(s,a++),o+=Wd(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qc(t,e,r){if(t==null)return t;var n=[],i=0;return Wd(t,n,"","",function(s){return e.call(r,s,i++)}),n}function AD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sr={current:null},qd={transition:null},RD={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:qd,ReactCurrentOwner:vw};function sA(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:qc,forEach:function(t,e,r){qc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=ul;qe.Fragment=gD;qe.Profiler=vD;qe.PureComponent=gw;qe.StrictMode=yD;qe.Suspense=xD;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RD;qe.act=sA;qe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ZC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rA.call(e,l)&&!nA.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:wc,type:t.type,key:i,ref:s,props:n,_owner:o}};qe.createContext=function(t){return t={$$typeof:bD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wD,_context:t},t.Consumer=t};qe.createElement=iA;qe.createFactory=function(t){var e=iA.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:SD,render:t}};qe.isValidElement=ww;qe.lazy=function(t){return{$$typeof:_D,_payload:{_status:-1,_result:t},_init:AD}};qe.memo=function(t,e){return{$$typeof:ED,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};qe.unstable_act=sA;qe.useCallback=function(t,e){return Sr.current.useCallback(t,e)};qe.useContext=function(t){return Sr.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Sr.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Sr.current.useEffect(t,e)};qe.useId=function(){return Sr.current.useId()};qe.useImperativeHandle=function(t,e,r){return Sr.current.useImperativeHandle(t,e,r)};qe.useInsertionEffect=function(t,e){return Sr.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Sr.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Sr.current.useMemo(t,e)};qe.useReducer=function(t,e,r){return Sr.current.useReducer(t,e,r)};qe.useRef=function(t){return Sr.current.useRef(t)};qe.useState=function(t){return Sr.current.useState(t)};qe.useSyncExternalStore=function(t,e,r){return Sr.current.useSyncExternalStore(t,e,r)};qe.useTransition=function(){return Sr.current.useTransition()};qe.version="18.3.1";YC.exports=qe;var ee=YC.exports;const Qe=mw(ee),OD=pw({__proto__:null,default:Qe},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD=ee,ND=Symbol.for("react.element"),ID=Symbol.for("react.fragment"),MD=Object.prototype.hasOwnProperty,DD=PD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LD={key:!0,ref:!0,__self:!0,__source:!0};function oA(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)MD.call(e,n)&&!LD.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:ND,type:t,key:s,ref:o,props:i,_owner:DD.current}}Ff.Fragment=ID;Ff.jsx=oA;Ff.jsxs=oA;XC.exports=Ff;var B=XC.exports,aA={exports:{}},Kr={},lA={exports:{}},uA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,Y){var le=K.length;K.push(Y);e:for(;0<le;){var q=le-1>>>1,D=K[q];if(0<i(D,Y))K[q]=Y,K[le]=D,le=q;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var Y=K[0],le=K.pop();if(le!==Y){K[0]=le;e:for(var q=0,D=K.length,Q=D>>>1;q<Q;){var te=2*(q+1)-1,ae=K[te],J=te+1,O=K[J];if(0>i(ae,le))J<D&&0>i(O,ae)?(K[q]=O,K[J]=le,q=J):(K[q]=ae,K[te]=le,q=te);else if(J<D&&0>i(O,le))K[q]=O,K[J]=le,q=J;else break e}}return Y}function i(K,Y){var le=K.sortIndex-Y.sortIndex;return le!==0?le:K.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(K){for(var Y=r(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=K)n(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=r(u)}}function b(K){if(g=!1,v(K),!p)if(r(l)!==null)p=!0,ie(E);else{var Y=r(u);Y!==null&&$(b,Y.startTime-K)}}function E(K,Y){p=!1,g&&(g=!1,m(I),I=-1),f=!0;var le=h;try{for(v(Y),d=r(l);d!==null&&(!(d.expirationTime>Y)||K&&!ne());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var D=q(d.expirationTime<=Y);Y=t.unstable_now(),typeof D=="function"?d.callback=D:d===r(l)&&n(l),v(Y)}else n(l);d=r(l)}if(d!==null)var Q=!0;else{var te=r(u);te!==null&&$(b,te.startTime-Y),Q=!1}return Q}finally{d=null,h=le,f=!1}}var N=!1,_=null,I=-1,R=5,F=-1;function ne(){return!(t.unstable_now()-F<R)}function M(){if(_!==null){var K=t.unstable_now();F=K;var Y=!0;try{Y=_(!0,K)}finally{Y?U():(N=!1,_=null)}}else N=!1}var U;if(typeof y=="function")U=function(){y(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,G=C.port2;C.port1.onmessage=M,U=function(){G.postMessage(null)}}else U=function(){w(M,0)};function ie(K){_=K,N||(N=!0,U())}function $(K,Y){I=w(function(){K(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ie(E))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(K){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var le=h;h=Y;try{return K()}finally{h=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=h;h=K;try{return Y()}finally{h=le}},t.unstable_scheduleCallback=function(K,Y,le){var q=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?q+le:q):le=q,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=le+D,K={id:c++,callback:Y,priorityLevel:K,startTime:le,expirationTime:D,sortIndex:-1},le>q?(K.sortIndex=le,e(u,K),r(l)===null&&K===r(u)&&(g?(m(I),I=-1):g=!0,$(b,le-q))):(K.sortIndex=D,e(l,K),p||f||(p=!0,ie(E))),K},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(K){var Y=h;return function(){var le=h;h=Y;try{return K.apply(this,arguments)}finally{h=le}}}})(uA);lA.exports=uA;var jD=lA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BD=ee,qr=jD;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cA=new Set,Ru={};function No(t,e){za(t,e),za(t+"Capture",e)}function za(t,e){for(Ru[t]=e,t=0;t<e.length;t++)cA.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=Object.prototype.hasOwnProperty,FD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sS={},oS={};function UD(t){return t0.call(oS,t)?!0:t0.call(sS,t)?!1:FD.test(t)?oS[t]=!0:(sS[t]=!0,!1)}function zD(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VD(t,e,r,n){if(e===null||typeof e>"u"||zD(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nr[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nr[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nr[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var bw=/[\-:]([a-z])/g;function Sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bw,Sw);nr[e]=new xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bw,Sw);nr[e]=new xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bw,Sw);nr[e]=new xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});nr.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nr[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function xw(t,e,r,n){var i=nr.hasOwnProperty(e)?nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VD(e,r,i,n)&&(r=null),n||i===null?UD(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ti=BD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),la=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),Ew=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),dA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),_w=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),i0=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),fA=Symbol.for("react.offscreen"),aS=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=aS&&t[aS]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Fp;function Hl(t){if(Fp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Fp=e&&e[1]||""}return`
`+Fp+t}var Up=!1;function zp(t,e){if(!t||Up)return"";Up=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Up=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hl(t):""}function $D(t){switch(t.tag){case 5:return Hl(t.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return t=zp(t.type,!1),t;case 11:return t=zp(t.type.render,!1),t;case 1:return t=zp(t.type,!0),t;default:return""}}function s0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ua:return"Fragment";case la:return"Portal";case r0:return"Profiler";case Ew:return"StrictMode";case n0:return"Suspense";case i0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hA:return(t.displayName||"Context")+".Consumer";case dA:return(t._context.displayName||"Context")+".Provider";case _w:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kw:return e=t.displayName||null,e!==null?e:s0(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return s0(t(e))}catch{}}return null}function HD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s0(e);case 8:return e===Ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WD(t){var e=pA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gc(t){t._valueTracker||(t._valueTracker=WD(t))}function mA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=pA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function o0(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function lS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gA(t,e){e=e.checked,e!=null&&xw(t,"checked",e,!1)}function a0(t,e){gA(t,e);var r=fs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l0(t,e.type,r):e.hasOwnProperty("defaultValue")&&l0(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function l0(t,e,r){(e!=="number"||ph(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Wl=Array.isArray;function Ca(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function u0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(Wl(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fs(r)}}function yA(t,e){var r=fs(e.value),n=fs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function dS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jc,wA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ou(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qD=["Webkit","ms","Moz","O"];Object.keys(tu).forEach(function(t){qD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tu[e]=tu[t]})});function bA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||tu.hasOwnProperty(t)&&tu[t]?(""+e).trim():e+"px"}function SA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=bA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var KD=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d0(t,e){if(e){if(KD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function h0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=null;function Tw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p0=null,Aa=null,Ra=null;function hS(t){if(t=xc(t)){if(typeof p0!="function")throw Error(we(280));var e=t.stateNode;e&&(e=Hf(e),p0(t.stateNode,t.type,e))}}function xA(t){Aa?Ra?Ra.push(t):Ra=[t]:Aa=t}function EA(){if(Aa){var t=Aa,e=Ra;if(Ra=Aa=null,hS(t),e)for(t=0;t<e.length;t++)hS(e[t])}}function _A(t,e){return t(e)}function kA(){}var Vp=!1;function TA(t,e,r){if(Vp)return t(e,r);Vp=!0;try{return _A(t,e,r)}finally{Vp=!1,(Aa!==null||Ra!==null)&&(kA(),EA())}}function Pu(t,e){var r=t.stateNode;if(r===null)return null;var n=Hf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var m0=!1;if(bi)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){m0=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{m0=!1}function GD(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var ru=!1,mh=null,gh=!1,g0=null,JD={onError:function(t){ru=!0,mh=t}};function XD(t,e,r,n,i,s,o,a,l){ru=!1,mh=null,GD.apply(JD,arguments)}function YD(t,e,r,n,i,s,o,a,l){if(XD.apply(this,arguments),ru){if(ru){var u=mh;ru=!1,mh=null}else throw Error(we(198));gh||(gh=!0,g0=u)}}function Io(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function CA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fS(t){if(Io(t)!==t)throw Error(we(188))}function QD(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return fS(i),t;if(s===n)return fS(i),e;s=s.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function AA(t){return t=QD(t),t!==null?RA(t):null}function RA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RA(t);if(e!==null)return e;t=t.sibling}return null}var OA=qr.unstable_scheduleCallback,pS=qr.unstable_cancelCallback,ZD=qr.unstable_shouldYield,e3=qr.unstable_requestPaint,Rt=qr.unstable_now,t3=qr.unstable_getCurrentPriorityLevel,Cw=qr.unstable_ImmediatePriority,PA=qr.unstable_UserBlockingPriority,yh=qr.unstable_NormalPriority,r3=qr.unstable_LowPriority,NA=qr.unstable_IdlePriority,Uf=null,Hn=null;function n3(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Uf,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:o3,i3=Math.log,s3=Math.LN2;function o3(t){return t>>>=0,t===0?32:31-(i3(t)/s3|0)|0}var Xc=64,Yc=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=ql(a):(s&=o,s!==0&&(n=ql(s)))}else o=r&~i,o!==0?n=ql(o):s!==0&&(n=ql(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Rn(e),i=1<<r,n|=t[r],e&=~i;return n}function a3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=a3(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function y0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IA(){var t=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),t}function $p(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function bc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=r}function u3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Rn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Aw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Rn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var tt=0;function MA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DA,Rw,LA,jA,BA,v0=!1,Qc=[],Zi=null,es=null,ts=null,Nu=new Map,Iu=new Map,Vi=[],c3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mS(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Cl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xc(e),e!==null&&Rw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function d3(t,e,r,n,i){switch(e){case"focusin":return Zi=Cl(Zi,t,e,r,n,i),!0;case"dragenter":return es=Cl(es,t,e,r,n,i),!0;case"mouseover":return ts=Cl(ts,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Nu.set(s,Cl(Nu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Iu.set(s,Cl(Iu.get(s)||null,t,e,r,n,i)),!0}return!1}function FA(t){var e=Ys(t.target);if(e!==null){var r=Io(e);if(r!==null){if(e=r.tag,e===13){if(e=CA(r),e!==null){t.blockedOn=e,BA(t.priority,function(){LA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=w0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);f0=n,r.target.dispatchEvent(n),f0=null}else return e=xc(r),e!==null&&Rw(e),t.blockedOn=r,!1;e.shift()}return!0}function gS(t,e,r){Kd(t)&&r.delete(e)}function h3(){v0=!1,Zi!==null&&Kd(Zi)&&(Zi=null),es!==null&&Kd(es)&&(es=null),ts!==null&&Kd(ts)&&(ts=null),Nu.forEach(gS),Iu.forEach(gS)}function Al(t,e){t.blockedOn===e&&(t.blockedOn=null,v0||(v0=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,h3)))}function Mu(t){function e(i){return Al(i,t)}if(0<Qc.length){Al(Qc[0],t);for(var r=1;r<Qc.length;r++){var n=Qc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zi!==null&&Al(Zi,t),es!==null&&Al(es,t),ts!==null&&Al(ts,t),Nu.forEach(e),Iu.forEach(e),r=0;r<Vi.length;r++)n=Vi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vi.length&&(r=Vi[0],r.blockedOn===null);)FA(r),r.blockedOn===null&&Vi.shift()}var Oa=Ti.ReactCurrentBatchConfig,wh=!0;function f3(t,e,r,n){var i=tt,s=Oa.transition;Oa.transition=null;try{tt=1,Ow(t,e,r,n)}finally{tt=i,Oa.transition=s}}function p3(t,e,r,n){var i=tt,s=Oa.transition;Oa.transition=null;try{tt=4,Ow(t,e,r,n)}finally{tt=i,Oa.transition=s}}function Ow(t,e,r,n){if(wh){var i=w0(t,e,r,n);if(i===null)Zp(t,e,n,bh,r),mS(t,n);else if(d3(i,t,e,r,n))n.stopPropagation();else if(mS(t,n),e&4&&-1<c3.indexOf(t)){for(;i!==null;){var s=xc(i);if(s!==null&&DA(s),s=w0(t,e,r,n),s===null&&Zp(t,e,n,bh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Zp(t,e,n,null,r)}}var bh=null;function w0(t,e,r,n){if(bh=null,t=Tw(n),t=Ys(t),t!==null)if(e=Io(t),e===null)t=null;else if(r=e.tag,r===13){if(t=CA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bh=t,null}function UA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t3()){case Cw:return 1;case PA:return 4;case yh:case r3:return 16;case NA:return 536870912;default:return 16}default:return 16}}var Ki=null,Pw=null,Gd=null;function zA(){if(Gd)return Gd;var t,e=Pw,r=e.length,n,i="value"in Ki?Ki.value:Ki.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Gd=i.slice(t,1<n?1-n:void 0)}function Jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function yS(){return!1}function Gr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zc:yS,this.isPropagationStopped=yS,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nw=Gr(cl),Sc=vt({},cl,{view:0,detail:0}),m3=Gr(Sc),Hp,Wp,Rl,zf=vt({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rl&&(Rl&&t.type==="mousemove"?(Hp=t.screenX-Rl.screenX,Wp=t.screenY-Rl.screenY):Wp=Hp=0,Rl=t),Hp)},movementY:function(t){return"movementY"in t?t.movementY:Wp}}),vS=Gr(zf),g3=vt({},zf,{dataTransfer:0}),y3=Gr(g3),v3=vt({},Sc,{relatedTarget:0}),qp=Gr(v3),w3=vt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),b3=Gr(w3),S3=vt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x3=Gr(S3),E3=vt({},cl,{data:0}),wS=Gr(E3),_3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T3[t])?!!e[t]:!1}function Iw(){return C3}var A3=vt({},Sc,{key:function(t){if(t.key){var e=_3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iw,charCode:function(t){return t.type==="keypress"?Jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R3=Gr(A3),O3=vt({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bS=Gr(O3),P3=vt({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iw}),N3=Gr(P3),I3=vt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),M3=Gr(I3),D3=vt({},zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L3=Gr(D3),j3=[9,13,27,32],Mw=bi&&"CompositionEvent"in window,nu=null;bi&&"documentMode"in document&&(nu=document.documentMode);var B3=bi&&"TextEvent"in window&&!nu,VA=bi&&(!Mw||nu&&8<nu&&11>=nu),SS=" ",xS=!1;function $A(t,e){switch(t){case"keyup":return j3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function F3(t,e){switch(t){case"compositionend":return HA(e);case"keypress":return e.which!==32?null:(xS=!0,SS);case"textInput":return t=e.data,t===SS&&xS?null:t;default:return null}}function U3(t,e){if(ca)return t==="compositionend"||!Mw&&$A(t,e)?(t=zA(),Gd=Pw=Ki=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VA&&e.locale!=="ko"?null:e.data;default:return null}}var z3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ES(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z3[t.type]:e==="textarea"}function WA(t,e,r,n){xA(n),e=Sh(e,"onChange"),0<e.length&&(r=new Nw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var iu=null,Du=null;function V3(t){rR(t,0)}function Vf(t){var e=fa(t);if(mA(e))return t}function $3(t,e){if(t==="change")return e}var qA=!1;if(bi){var Kp;if(bi){var Gp="oninput"in document;if(!Gp){var _S=document.createElement("div");_S.setAttribute("oninput","return;"),Gp=typeof _S.oninput=="function"}Kp=Gp}else Kp=!1;qA=Kp&&(!document.documentMode||9<document.documentMode)}function kS(){iu&&(iu.detachEvent("onpropertychange",KA),Du=iu=null)}function KA(t){if(t.propertyName==="value"&&Vf(Du)){var e=[];WA(e,Du,t,Tw(t)),TA(V3,e)}}function H3(t,e,r){t==="focusin"?(kS(),iu=e,Du=r,iu.attachEvent("onpropertychange",KA)):t==="focusout"&&kS()}function W3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vf(Du)}function q3(t,e){if(t==="click")return Vf(e)}function K3(t,e){if(t==="input"||t==="change")return Vf(e)}function G3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:G3;function Lu(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!t0.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function TS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CS(t,e){var r=TS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=TS(r)}}function GA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JA(){for(var t=window,e=ph();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ph(t.document)}return e}function Dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J3(t){var e=JA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&GA(r.ownerDocument.documentElement,r)){if(n!==null&&Dw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=CS(r,s);var o=CS(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X3=bi&&"documentMode"in document&&11>=document.documentMode,da=null,b0=null,su=null,S0=!1;function AS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;S0||da==null||da!==ph(n)||(n=da,"selectionStart"in n&&Dw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),su&&Lu(su,n)||(su=n,n=Sh(b0,"onSelect"),0<n.length&&(e=new Nw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=da)))}function ed(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ha={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},Jp={},XA={};bi&&(XA=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function $f(t){if(Jp[t])return Jp[t];if(!ha[t])return t;var e=ha[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in XA)return Jp[t]=e[r];return t}var YA=$f("animationend"),QA=$f("animationiteration"),ZA=$f("animationstart"),eR=$f("transitionend"),tR=new Map,RS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){tR.set(t,e),No(e,[t])}for(var Xp=0;Xp<RS.length;Xp++){var Yp=RS[Xp],Y3=Yp.toLowerCase(),Q3=Yp[0].toUpperCase()+Yp.slice(1);vs(Y3,"on"+Q3)}vs(YA,"onAnimationEnd");vs(QA,"onAnimationIteration");vs(ZA,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(eR,"onTransitionEnd");za("onMouseEnter",["mouseout","mouseover"]);za("onMouseLeave",["mouseout","mouseover"]);za("onPointerEnter",["pointerout","pointerover"]);za("onPointerLeave",["pointerout","pointerover"]);No("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));No("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));No("onBeforeInput",["compositionend","keypress","textInput","paste"]);No("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));No("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));No("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function OS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,YD(n,e,void 0,t),t.currentTarget=null}function rR(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;OS(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;OS(i,a,u),s=l}}}if(gh)throw t=g0,gh=!1,g0=null,t}function lt(t,e){var r=e[T0];r===void 0&&(r=e[T0]=new Set);var n=t+"__bubble";r.has(n)||(nR(e,t,2,!1),r.add(n))}function Qp(t,e,r){var n=0;e&&(n|=4),nR(r,t,n,e)}var td="_reactListening"+Math.random().toString(36).slice(2);function ju(t){if(!t[td]){t[td]=!0,cA.forEach(function(r){r!=="selectionchange"&&(Z3.has(r)||Qp(r,!1,t),Qp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[td]||(e[td]=!0,Qp("selectionchange",!1,e))}}function nR(t,e,r,n){switch(UA(e)){case 1:var i=f3;break;case 4:i=p3;break;default:i=Ow}r=i.bind(null,e,r,t),i=void 0,!m0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Zp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}TA(function(){var u=s,c=Tw(r),d=[];e:{var h=tR.get(t);if(h!==void 0){var f=Nw,p=t;switch(t){case"keypress":if(Jd(r)===0)break e;case"keydown":case"keyup":f=R3;break;case"focusin":p="focus",f=qp;break;case"focusout":p="blur",f=qp;break;case"beforeblur":case"afterblur":f=qp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=y3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=N3;break;case YA:case QA:case ZA:f=b3;break;case eR:f=M3;break;case"scroll":f=m3;break;case"wheel":f=L3;break;case"copy":case"cut":case"paste":f=x3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bS}var g=(e&4)!==0,w=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,v;y!==null;){v=y;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,m!==null&&(b=Pu(y,m),b!=null&&g.push(Bu(y,b,v)))),w)break;y=y.return}0<g.length&&(h=new f(h,p,null,r,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==f0&&(p=r.relatedTarget||r.fromElement)&&(Ys(p)||p[Si]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=u,p=p?Ys(p):null,p!==null&&(w=Io(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=vS,b="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=bS,b="onPointerLeave",m="onPointerEnter",y="pointer"),w=f==null?h:fa(f),v=p==null?h:fa(p),h=new g(b,y+"leave",f,r,c),h.target=w,h.relatedTarget=v,b=null,Ys(c)===u&&(g=new g(m,y+"enter",p,r,c),g.target=v,g.relatedTarget=w,b=g),w=b,f&&p)t:{for(g=f,m=p,y=0,v=g;v;v=Ho(v))y++;for(v=0,b=m;b;b=Ho(b))v++;for(;0<y-v;)g=Ho(g),y--;for(;0<v-y;)m=Ho(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Ho(g),m=Ho(m)}g=null}else g=null;f!==null&&PS(d,h,f,g,!1),p!==null&&w!==null&&PS(d,w,p,g,!0)}}e:{if(h=u?fa(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=$3;else if(ES(h))if(qA)E=K3;else{E=W3;var N=H3}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=q3);if(E&&(E=E(t,u))){WA(d,E,r,c);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&l0(h,"number",h.value)}switch(N=u?fa(u):window,t){case"focusin":(ES(N)||N.contentEditable==="true")&&(da=N,b0=u,su=null);break;case"focusout":su=b0=da=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,AS(d,r,c);break;case"selectionchange":if(X3)break;case"keydown":case"keyup":AS(d,r,c)}var _;if(Mw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ca?$A(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(VA&&r.locale!=="ko"&&(ca||I!=="onCompositionStart"?I==="onCompositionEnd"&&ca&&(_=zA()):(Ki=c,Pw="value"in Ki?Ki.value:Ki.textContent,ca=!0)),N=Sh(u,I),0<N.length&&(I=new wS(I,t,null,r,c),d.push({event:I,listeners:N}),_?I.data=_:(_=HA(r),_!==null&&(I.data=_)))),(_=B3?F3(t,r):U3(t,r))&&(u=Sh(u,"onBeforeInput"),0<u.length&&(c=new wS("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=_))}rR(d,e)})}function Bu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Sh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pu(t,r),s!=null&&n.unshift(Bu(t,s,i)),s=Pu(t,e),s!=null&&n.push(Bu(t,s,i))),t=t.return}return n}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PS(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Pu(r,s),l!=null&&o.unshift(Bu(r,l,a))):i||(l=Pu(r,s),l!=null&&o.push(Bu(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var eL=/\r\n?/g,tL=/\u0000|\uFFFD/g;function NS(t){return(typeof t=="string"?t:""+t).replace(eL,`
`).replace(tL,"")}function rd(t,e,r){if(e=NS(e),NS(t)!==e&&r)throw Error(we(425))}function xh(){}var x0=null,E0=null;function _0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k0=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,IS=typeof Promise=="function"?Promise:void 0,nL=typeof queueMicrotask=="function"?queueMicrotask:typeof IS<"u"?function(t){return IS.resolve(null).then(t).catch(iL)}:k0;function iL(t){setTimeout(function(){throw t})}function em(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Mu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Mu(e)}function rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var dl=Math.random().toString(36).slice(2),zn="__reactFiber$"+dl,Fu="__reactProps$"+dl,Si="__reactContainer$"+dl,T0="__reactEvents$"+dl,sL="__reactListeners$"+dl,oL="__reactHandles$"+dl;function Ys(t){var e=t[zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Si]||r[zn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=MS(t);t!==null;){if(r=t[zn])return r;t=MS(t)}return e}t=r,r=t.parentNode}return null}function xc(t){return t=t[zn]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function Hf(t){return t[Fu]||null}var C0=[],pa=-1;function ws(t){return{current:t}}function ct(t){0>pa||(t.current=C0[pa],C0[pa]=null,pa--)}function ot(t,e){pa++,C0[pa]=t.current,t.current=e}var ps={},cr=ws(ps),Rr=ws(!1),bo=ps;function Va(t,e){var r=t.type.contextTypes;if(!r)return ps;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function Eh(){ct(Rr),ct(cr)}function DS(t,e,r){if(cr.current!==ps)throw Error(we(168));ot(cr,e),ot(Rr,r)}function iR(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,HD(t)||"Unknown",i));return vt({},r,n)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,bo=cr.current,ot(cr,t),ot(Rr,Rr.current),!0}function LS(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=iR(t,e,bo),n.__reactInternalMemoizedMergedChildContext=t,ct(Rr),ct(cr),ot(cr,t)):ct(Rr),ot(Rr,r)}var di=null,Wf=!1,tm=!1;function sR(t){di===null?di=[t]:di.push(t)}function aL(t){Wf=!0,sR(t)}function bs(){if(!tm&&di!==null){tm=!0;var t=0,e=tt;try{var r=di;for(tt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}di=null,Wf=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),OA(Cw,bs),i}finally{tt=e,tm=!1}}return null}var ma=[],ga=0,kh=null,Th=0,nn=[],sn=0,So=null,hi=1,fi="";function Us(t,e){ma[ga++]=Th,ma[ga++]=kh,kh=t,Th=e}function oR(t,e,r){nn[sn++]=hi,nn[sn++]=fi,nn[sn++]=So,So=t;var n=hi;t=fi;var i=32-Rn(n)-1;n&=~(1<<i),r+=1;var s=32-Rn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,hi=1<<32-Rn(e)+i|r<<i|n,fi=s+t}else hi=1<<s|r<<i|n,fi=t}function Lw(t){t.return!==null&&(Us(t,1),oR(t,1,0))}function jw(t){for(;t===kh;)kh=ma[--ga],ma[ga]=null,Th=ma[--ga],ma[ga]=null;for(;t===So;)So=nn[--sn],nn[sn]=null,fi=nn[--sn],nn[sn]=null,hi=nn[--sn],nn[sn]=null}var Hr=null,Vr=null,ht=!1,Tn=null;function aR(t,e){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function jS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hr=t,Vr=rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hr=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=So!==null?{id:hi,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hr=t,Vr=null,!0):!1;default:return!1}}function A0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R0(t){if(ht){var e=Vr;if(e){var r=e;if(!jS(t,e)){if(A0(t))throw Error(we(418));e=rs(r.nextSibling);var n=Hr;e&&jS(t,e)?aR(n,r):(t.flags=t.flags&-4097|2,ht=!1,Hr=t)}}else{if(A0(t))throw Error(we(418));t.flags=t.flags&-4097|2,ht=!1,Hr=t}}}function BS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function nd(t){if(t!==Hr)return!1;if(!ht)return BS(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_0(t.type,t.memoizedProps)),e&&(e=Vr)){if(A0(t))throw lR(),Error(we(418));for(;e;)aR(t,e),e=rs(e.nextSibling)}if(BS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Vr=rs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Hr?rs(t.stateNode.nextSibling):null;return!0}function lR(){for(var t=Vr;t;)t=rs(t.nextSibling)}function $a(){Vr=Hr=null,ht=!1}function Bw(t){Tn===null?Tn=[t]:Tn.push(t)}var lL=Ti.ReactCurrentBatchConfig;function Ol(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function id(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FS(t){var e=t._init;return e(t._payload)}function uR(t){function e(m,y){if(t){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function r(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=as(m,y),m.index=0,m.sibling=null,m}function s(m,y,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,b){return y===null||y.tag!==6?(y=lm(v,m.mode,b),y.return=m,y):(y=i(y,v),y.return=m,y)}function l(m,y,v,b){var E=v.type;return E===ua?c(m,y,v.props.children,b,v.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ji&&FS(E)===y.type)?(b=i(y,v.props),b.ref=Ol(m,y,v),b.return=m,b):(b=rh(v.type,v.key,v.props,null,m.mode,b),b.ref=Ol(m,y,v),b.return=m,b)}function u(m,y,v,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=um(v,m.mode,b),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function c(m,y,v,b,E){return y===null||y.tag!==7?(y=ho(v,m.mode,b,E),y.return=m,y):(y=i(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lm(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kc:return v=rh(y.type,y.key,y.props,null,m.mode,v),v.ref=Ol(m,null,y),v.return=m,v;case la:return y=um(y,m.mode,v),y.return=m,y;case ji:var b=y._init;return d(m,b(y._payload),v)}if(Wl(y)||kl(y))return y=ho(y,m.mode,v,null),y.return=m,y;id(m,y)}return null}function h(m,y,v,b){var E=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(m,y,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kc:return v.key===E?l(m,y,v,b):null;case la:return v.key===E?u(m,y,v,b):null;case ji:return E=v._init,h(m,y,E(v._payload),b)}if(Wl(v)||kl(v))return E!==null?null:c(m,y,v,b,null);id(m,v)}return null}function f(m,y,v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(v)||null,a(y,m,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kc:return m=m.get(b.key===null?v:b.key)||null,l(y,m,b,E);case la:return m=m.get(b.key===null?v:b.key)||null,u(y,m,b,E);case ji:var N=b._init;return f(m,y,v,N(b._payload),E)}if(Wl(b)||kl(b))return m=m.get(v)||null,c(y,m,b,E,null);id(y,b)}return null}function p(m,y,v,b){for(var E=null,N=null,_=y,I=y=0,R=null;_!==null&&I<v.length;I++){_.index>I?(R=_,_=null):R=_.sibling;var F=h(m,_,v[I],b);if(F===null){_===null&&(_=R);break}t&&_&&F.alternate===null&&e(m,_),y=s(F,y,I),N===null?E=F:N.sibling=F,N=F,_=R}if(I===v.length)return r(m,_),ht&&Us(m,I),E;if(_===null){for(;I<v.length;I++)_=d(m,v[I],b),_!==null&&(y=s(_,y,I),N===null?E=_:N.sibling=_,N=_);return ht&&Us(m,I),E}for(_=n(m,_);I<v.length;I++)R=f(_,m,I,v[I],b),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?I:R.key),y=s(R,y,I),N===null?E=R:N.sibling=R,N=R);return t&&_.forEach(function(ne){return e(m,ne)}),ht&&Us(m,I),E}function g(m,y,v,b){var E=kl(v);if(typeof E!="function")throw Error(we(150));if(v=E.call(v),v==null)throw Error(we(151));for(var N=E=null,_=y,I=y=0,R=null,F=v.next();_!==null&&!F.done;I++,F=v.next()){_.index>I?(R=_,_=null):R=_.sibling;var ne=h(m,_,F.value,b);if(ne===null){_===null&&(_=R);break}t&&_&&ne.alternate===null&&e(m,_),y=s(ne,y,I),N===null?E=ne:N.sibling=ne,N=ne,_=R}if(F.done)return r(m,_),ht&&Us(m,I),E;if(_===null){for(;!F.done;I++,F=v.next())F=d(m,F.value,b),F!==null&&(y=s(F,y,I),N===null?E=F:N.sibling=F,N=F);return ht&&Us(m,I),E}for(_=n(m,_);!F.done;I++,F=v.next())F=f(_,m,I,F.value,b),F!==null&&(t&&F.alternate!==null&&_.delete(F.key===null?I:F.key),y=s(F,y,I),N===null?E=F:N.sibling=F,N=F);return t&&_.forEach(function(M){return e(m,M)}),ht&&Us(m,I),E}function w(m,y,v,b){if(typeof v=="object"&&v!==null&&v.type===ua&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Kc:e:{for(var E=v.key,N=y;N!==null;){if(N.key===E){if(E=v.type,E===ua){if(N.tag===7){r(m,N.sibling),y=i(N,v.props.children),y.return=m,m=y;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ji&&FS(E)===N.type){r(m,N.sibling),y=i(N,v.props),y.ref=Ol(m,N,v),y.return=m,m=y;break e}r(m,N);break}else e(m,N);N=N.sibling}v.type===ua?(y=ho(v.props.children,m.mode,b,v.key),y.return=m,m=y):(b=rh(v.type,v.key,v.props,null,m.mode,b),b.ref=Ol(m,y,v),b.return=m,m=b)}return o(m);case la:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else e(m,y);y=y.sibling}y=um(v,m.mode,b),y.return=m,m=y}return o(m);case ji:return N=v._init,w(m,y,N(v._payload),b)}if(Wl(v))return p(m,y,v,b);if(kl(v))return g(m,y,v,b);id(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(m,y.sibling),y=i(y,v),y.return=m,m=y):(r(m,y),y=lm(v,m.mode,b),y.return=m,m=y),o(m)):r(m,y)}return w}var Ha=uR(!0),cR=uR(!1),Ch=ws(null),Ah=null,ya=null,Fw=null;function Uw(){Fw=ya=Ah=null}function zw(t){var e=Ch.current;ct(Ch),t._currentValue=e}function O0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pa(t,e){Ah=t,Fw=ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Fw!==t)if(t={context:t,memoizedValue:e,next:null},ya===null){if(Ah===null)throw Error(we(308));ya=t,Ah.dependencies={lanes:0,firstContext:t}}else ya=ya.next=t;return e}var Qs=null;function Vw(t){Qs===null?Qs=[t]:Qs.push(t)}function dR(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Vw(e)):(r.next=i.next,i.next=r),e.interleaved=r,xi(t,n)}function xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Bi=!1;function $w(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xi(t,r)}return i=n.interleaved,i===null?(e.next=e,Vw(n)):(e.next=i.next,i.next=e),n.interleaved=e,xi(t,r)}function Xd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Aw(t,r)}}function US(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Rh(t,e,r,n){var i=t.updateQueue;Bi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=vt({},d,h);break e;case 2:Bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Eo|=o,t.lanes=o,t.memoizedState=d}}function zS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var Ec={},Wn=ws(Ec),Uu=ws(Ec),zu=ws(Ec);function Zs(t){if(t===Ec)throw Error(we(174));return t}function Hw(t,e){switch(ot(zu,e),ot(Uu,t),ot(Wn,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=c0(e,t)}ct(Wn),ot(Wn,e)}function Wa(){ct(Wn),ct(Uu),ct(zu)}function fR(t){Zs(zu.current);var e=Zs(Wn.current),r=c0(e,t.type);e!==r&&(ot(Uu,t),ot(Wn,r))}function Ww(t){Uu.current===t&&(ct(Wn),ct(Uu))}var mt=ws(0);function Oh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rm=[];function qw(){for(var t=0;t<rm.length;t++)rm[t]._workInProgressVersionPrimary=null;rm.length=0}var Yd=Ti.ReactCurrentDispatcher,nm=Ti.ReactCurrentBatchConfig,xo=0,yt=null,Ft=null,zt=null,Ph=!1,ou=!1,Vu=0,uL=0;function ir(){throw Error(we(321))}function Kw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Pn(t[r],e[r]))return!1;return!0}function Gw(t,e,r,n,i,s){if(xo=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?fL:pL,t=r(n,i),ou){s=0;do{if(ou=!1,Vu=0,25<=s)throw Error(we(301));s+=1,zt=Ft=null,e.updateQueue=null,Yd.current=mL,t=r(n,i)}while(ou)}if(Yd.current=Nh,e=Ft!==null&&Ft.next!==null,xo=0,zt=Ft=yt=null,Ph=!1,e)throw Error(we(300));return t}function Jw(){var t=Vu!==0;return Vu=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?yt.memoizedState=zt=t:zt=zt.next=t,zt}function pn(){if(Ft===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=zt===null?yt.memoizedState:zt.next;if(e!==null)zt=e,Ft=t;else{if(t===null)throw Error(we(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},zt===null?yt.memoizedState=zt=t:zt=zt.next=t}return zt}function $u(t,e){return typeof e=="function"?e(t):e}function im(t){var e=pn(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=Ft,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((xo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,yt.lanes|=c,Eo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Pn(n,e.memoizedState)||(Tr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,yt.lanes|=s,Eo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sm(t){var e=pn(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(Tr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function pR(){}function mR(t,e){var r=yt,n=pn(),i=e(),s=!Pn(n.memoizedState,i);if(s&&(n.memoizedState=i,Tr=!0),n=n.queue,Xw(vR.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||zt!==null&&zt.memoizedState.tag&1){if(r.flags|=2048,Hu(9,yR.bind(null,r,n,i,e),void 0,null),$t===null)throw Error(we(349));xo&30||gR(r,e,i)}return i}function gR(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function yR(t,e,r,n){e.value=r,e.getSnapshot=n,wR(e)&&bR(t)}function vR(t,e,r){return r(function(){wR(e)&&bR(t)})}function wR(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Pn(t,r)}catch{return!0}}function bR(t){var e=xi(t,1);e!==null&&On(e,t,1,-1)}function VS(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:t},e.queue=t,t=t.dispatch=hL.bind(null,yt,t),[e.memoizedState,t]}function Hu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function SR(){return pn().memoizedState}function Qd(t,e,r,n){var i=Ln();yt.flags|=t,i.memoizedState=Hu(1|e,r,void 0,n===void 0?null:n)}function qf(t,e,r,n){var i=pn();n=n===void 0?null:n;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,n!==null&&Kw(n,o.deps)){i.memoizedState=Hu(e,r,s,n);return}}yt.flags|=t,i.memoizedState=Hu(1|e,r,s,n)}function $S(t,e){return Qd(8390656,8,t,e)}function Xw(t,e){return qf(2048,8,t,e)}function xR(t,e){return qf(4,2,t,e)}function ER(t,e){return qf(4,4,t,e)}function _R(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kR(t,e,r){return r=r!=null?r.concat([t]):null,qf(4,4,_R.bind(null,e,t),r)}function Yw(){}function TR(t,e){var r=pn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function CR(t,e){var r=pn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function AR(t,e,r){return xo&21?(Pn(r,e)||(r=IA(),yt.lanes|=r,Eo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=r)}function cL(t,e){var r=tt;tt=r!==0&&4>r?r:4,t(!0);var n=nm.transition;nm.transition={};try{t(!1),e()}finally{tt=r,nm.transition=n}}function RR(){return pn().memoizedState}function dL(t,e,r){var n=ss(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},OR(t))PR(e,r);else if(r=dR(t,e,r,n),r!==null){var i=yr();On(r,t,n,i),NR(r,e,n)}}function hL(t,e,r){var n=ss(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(OR(t))PR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(i.next=i,Vw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=dR(t,e,i,n),r!==null&&(i=yr(),On(r,t,n,i),NR(r,e,n))}}function OR(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function PR(t,e){ou=Ph=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function NR(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Aw(t,r)}}var Nh={readContext:fn,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},fL={readContext:fn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:$S,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qd(4194308,4,_R.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qd(4,2,t,e)},useMemo:function(t,e){var r=Ln();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ln();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=dL.bind(null,yt,t),[n.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:VS,useDebugValue:Yw,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=VS(!1),e=t[0];return t=cL.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=yt,i=Ln();if(ht){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),$t===null)throw Error(we(349));xo&30||gR(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,$S(vR.bind(null,n,s,t),[t]),n.flags|=2048,Hu(9,yR.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ln(),e=$t.identifierPrefix;if(ht){var r=fi,n=hi;r=(n&~(1<<32-Rn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=uL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pL={readContext:fn,useCallback:TR,useContext:fn,useEffect:Xw,useImperativeHandle:kR,useInsertionEffect:xR,useLayoutEffect:ER,useMemo:CR,useReducer:im,useRef:SR,useState:function(){return im($u)},useDebugValue:Yw,useDeferredValue:function(t){var e=pn();return AR(e,Ft.memoizedState,t)},useTransition:function(){var t=im($u)[0],e=pn().memoizedState;return[t,e]},useMutableSource:pR,useSyncExternalStore:mR,useId:RR,unstable_isNewReconciler:!1},mL={readContext:fn,useCallback:TR,useContext:fn,useEffect:Xw,useImperativeHandle:kR,useInsertionEffect:xR,useLayoutEffect:ER,useMemo:CR,useReducer:sm,useRef:SR,useState:function(){return sm($u)},useDebugValue:Yw,useDeferredValue:function(t){var e=pn();return Ft===null?e.memoizedState=t:AR(e,Ft.memoizedState,t)},useTransition:function(){var t=sm($u)[0],e=pn().memoizedState;return[t,e]},useMutableSource:pR,useSyncExternalStore:mR,useId:RR,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function P0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Kf={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=yr(),i=ss(t),s=gi(n,i);s.payload=e,r!=null&&(s.callback=r),e=ns(t,s,i),e!==null&&(On(e,t,i,n),Xd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=yr(),i=ss(t),s=gi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ns(t,s,i),e!==null&&(On(e,t,i,n),Xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=yr(),n=ss(t),i=gi(r,n);i.tag=2,e!=null&&(i.callback=e),e=ns(t,i,n),e!==null&&(On(e,t,n,r),Xd(e,t,n))}};function HS(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lu(r,n)||!Lu(i,s):!0}function IR(t,e,r){var n=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(i=Or(e)?bo:cr.current,n=e.contextTypes,s=(n=n!=null)?Va(t,i):ps),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function WS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Kf.enqueueReplaceState(e,e.state,null)}function N0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},$w(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fn(s):(s=Or(e)?bo:cr.current,i.context=Va(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(P0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kf.enqueueReplaceState(i,i.state,null),Rh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qa(t,e){try{var r="",n=e;do r+=$D(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function om(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function I0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var gL=typeof WeakMap=="function"?WeakMap:Map;function MR(t,e,r){r=gi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Mh||(Mh=!0,$0=n),I0(t,e)},r}function DR(t,e,r){r=gi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){I0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){I0(t,e),typeof n!="function"&&(is===null?is=new Set([this]):is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function qS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new gL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=OL.bind(null,t,e,r),e.then(t,t))}function KS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gi(-1,1),e.tag=2,ns(r,e,1))),r.lanes|=1),t)}var yL=Ti.ReactCurrentOwner,Tr=!1;function pr(t,e,r,n){e.child=t===null?cR(e,null,r,n):Ha(e,t.child,r,n)}function JS(t,e,r,n,i){r=r.render;var s=e.ref;return Pa(e,i),n=Gw(t,e,r,n,s,i),r=Jw(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ht&&r&&Lw(e),e.flags|=1,pr(t,e,n,i),e.child)}function XS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!s1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,LR(t,e,s,n,i)):(t=rh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Lu,r(o,n)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=as(s,n),t.ref=e.ref,t.return=e,e.child=t}function LR(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Lu(s,n)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return M0(t,e,r,n,i)}function jR(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(wa,jr),jr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(wa,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ot(wa,jr),jr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ot(wa,jr),jr|=n;return pr(t,e,i,r),e.child}function BR(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function M0(t,e,r,n,i){var s=Or(r)?bo:cr.current;return s=Va(e,s),Pa(e,i),r=Gw(t,e,r,n,s,i),n=Jw(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ht&&n&&Lw(e),e.flags|=1,pr(t,e,r,i),e.child)}function YS(t,e,r,n,i){if(Or(r)){var s=!0;_h(e)}else s=!1;if(Pa(e,i),e.stateNode===null)Zd(t,e),IR(e,r,n),N0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Or(r)?bo:cr.current,u=Va(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&WS(e,o,n,u),Bi=!1;var h=e.memoizedState;o.state=h,Rh(e,n,o,i),l=e.memoizedState,a!==n||h!==l||Rr.current||Bi?(typeof c=="function"&&(P0(e,r,c,n),l=e.memoizedState),(a=Bi||HS(e,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,hR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Or(r)?bo:cr.current,l=Va(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&WS(e,o,n,l),Bi=!1,h=e.memoizedState,o.state=h,Rh(e,n,o,i);var p=e.memoizedState;a!==d||h!==p||Rr.current||Bi?(typeof f=="function"&&(P0(e,r,f,n),p=e.memoizedState),(u=Bi||HS(e,r,u,n,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return D0(t,e,r,n,s,i)}function D0(t,e,r,n,i,s){BR(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&LS(e,r,!1),Ei(t,e,s);n=e.stateNode,yL.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ha(e,t.child,null,s),e.child=Ha(e,null,a,s)):pr(t,e,a,s),e.memoizedState=n.state,i&&LS(e,r,!0),e.child}function FR(t){var e=t.stateNode;e.pendingContext?DS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DS(t,e.context,!1),Hw(t,e.containerInfo)}function QS(t,e,r,n,i){return $a(),Bw(i),e.flags|=256,pr(t,e,r,n),e.child}var L0={dehydrated:null,treeContext:null,retryLane:0};function j0(t){return{baseLanes:t,cachePool:null,transitions:null}}function UR(t,e,r){var n=e.pendingProps,i=mt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(mt,i&1),t===null)return R0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xf(o,n,0,null),t=ho(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=j0(r),e.memoizedState=L0,t):Qw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vL(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=as(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=as(a,s):(s=ho(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?j0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=L0,n}return s=t.child,t=s.sibling,n=as(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Qw(t,e){return e=Xf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sd(t,e,r,n){return n!==null&&Bw(n),Ha(e,t.child,null,r),t=Qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vL(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=om(Error(we(422))),sd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Xf({mode:"visible",children:n.children},i,0,null),s=ho(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ha(e,t.child,null,o),e.child.memoizedState=j0(o),e.memoizedState=L0,s);if(!(e.mode&1))return sd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(we(419)),n=om(s,n,void 0),sd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Tr||a){if(n=$t,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(t,i),On(n,t,i,-1))}return i1(),n=om(Error(we(421))),sd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vr=rs(i.nextSibling),Hr=e,ht=!0,Tn=null,t!==null&&(nn[sn++]=hi,nn[sn++]=fi,nn[sn++]=So,hi=t.id,fi=t.overflow,So=e),e=Qw(e,n.children),e.flags|=4096,e)}function ZS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),O0(t.return,e,r)}function am(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function zR(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(pr(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZS(t,r,e);else if(t.tag===19)ZS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ot(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Oh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),am(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}am(e,!0,r,null,s);break;case"together":am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=as(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=as(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function wL(t,e,r){switch(e.tag){case 3:FR(e),$a();break;case 5:fR(e);break;case 1:Or(e.type)&&_h(e);break;case 4:Hw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ot(Ch,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ot(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?UR(t,e,r):(ot(mt,mt.current&1),t=Ei(t,e,r),t!==null?t.sibling:null);ot(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zR(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,jR(t,e,r)}return Ei(t,e,r)}var VR,B0,$R,HR;VR=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};B0=function(){};$R=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Zs(Wn.current);var s=null;switch(r){case"input":i=o0(t,i),n=o0(t,n),s=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),s=[];break;case"textarea":i=u0(t,i),n=u0(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xh)}d0(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ru.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};HR=function(t,e,r,n){r!==n&&(e.flags|=4)};function Pl(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bL(t,e,r){var n=e.pendingProps;switch(jw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(e),null;case 1:return Or(e.type)&&Eh(),sr(e),null;case 3:return n=e.stateNode,Wa(),ct(Rr),ct(cr),qw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(q0(Tn),Tn=null))),B0(t,e),sr(e),null;case 5:Ww(e);var i=Zs(zu.current);if(r=e.type,t!==null&&e.stateNode!=null)$R(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return sr(e),null}if(t=Zs(Wn.current),nd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zn]=e,n[Fu]=s,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<Kl.length;i++)lt(Kl[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":lS(n,s),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},lt("invalid",n);break;case"textarea":cS(n,s),lt("invalid",n)}d0(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&rd(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rd(n.textContent,a,t),i=["children",""+a]):Ru.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&lt("scroll",n)}switch(r){case"input":Gc(n),uS(n,s,!0);break;case"textarea":Gc(n),dS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=xh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zn]=e,t[Fu]=n,VR(t,e,!1,!1),e.stateNode=t;e:{switch(o=h0(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Kl.length;i++)lt(Kl[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":lS(t,n),i=o0(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":cS(t,n),i=u0(t,n),lt("invalid",t);break;default:i=n}d0(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?SA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wA(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ou(t,l):typeof l=="number"&&Ou(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ru.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lt("scroll",t):l!=null&&xw(t,s,l,o))}switch(r){case"input":Gc(t),uS(t,n,!1);break;case"textarea":Gc(t),dS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ca(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ca(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sr(e),null;case 6:if(t&&e.stateNode!=null)HR(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=Zs(zu.current),Zs(Wn.current),nd(e)){if(n=e.stateNode,r=e.memoizedProps,n[zn]=e,(s=n.nodeValue!==r)&&(t=Hr,t!==null))switch(t.tag){case 3:rd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=e,e.stateNode=n}return sr(e),null;case 13:if(ct(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Vr!==null&&e.mode&1&&!(e.flags&128))lR(),$a(),e.flags|=98560,s=!1;else if(s=nd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(we(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(we(317));s[zn]=e}else $a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sr(e),s=!1}else Tn!==null&&(q0(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ut===0&&(Ut=3):i1())),e.updateQueue!==null&&(e.flags|=4),sr(e),null);case 4:return Wa(),B0(t,e),t===null&&ju(e.stateNode.containerInfo),sr(e),null;case 10:return zw(e.type._context),sr(e),null;case 17:return Or(e.type)&&Eh(),sr(e),null;case 19:if(ct(mt),s=e.memoizedState,s===null)return sr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Pl(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oh(t),o!==null){for(e.flags|=128,Pl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ot(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>Ka&&(e.flags|=128,n=!0,Pl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Oh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ht)return sr(e),null}else 2*Rt()-s.renderingStartTime>Ka&&r!==1073741824&&(e.flags|=128,n=!0,Pl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,r=mt.current,ot(mt,n?r&1|2:r&1),e):(sr(e),null);case 22:case 23:return n1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jr&1073741824&&(sr(e),e.subtreeFlags&6&&(e.flags|=8192)):sr(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function SL(t,e){switch(jw(e),e.tag){case 1:return Or(e.type)&&Eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wa(),ct(Rr),ct(cr),qw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ww(e),null;case 13:if(ct(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));$a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(mt),null;case 4:return Wa(),null;case 10:return zw(e.type._context),null;case 22:case 23:return n1(),null;case 24:return null;default:return null}}var od=!1,ar=!1,xL=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function va(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(t,e,n)}else r.current=null}function F0(t,e,r){try{r()}catch(n){kt(t,e,n)}}var ex=!1;function EL(t,e){if(x0=wh,t=JA(),Dw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++u===i&&(a=o),h===s&&++c===n&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(E0={focusedElem:t,selectionRange:r},wh=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:xn(e.type,g),w);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(b){kt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return p=ex,ex=!1,p}function au(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&F0(e,r,s)}i=i.next}while(i!==n)}}function Gf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function U0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function WR(t){var e=t.alternate;e!==null&&(t.alternate=null,WR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Fu],delete e[T0],delete e[sL],delete e[oL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qR(t){return t.tag===5||t.tag===3||t.tag===4}function tx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xh));else if(n!==4&&(t=t.child,t!==null))for(z0(t,e,r),t=t.sibling;t!==null;)z0(t,e,r),t=t.sibling}function V0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(V0(t,e,r),t=t.sibling;t!==null;)V0(t,e,r),t=t.sibling}var Yt=null,_n=!1;function Ri(t,e,r){for(r=r.child;r!==null;)KR(t,e,r),r=r.sibling}function KR(t,e,r){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Uf,r)}catch{}switch(r.tag){case 5:ar||va(r,e);case 6:var n=Yt,i=_n;Yt=null,Ri(t,e,r),Yt=n,_n=i,Yt!==null&&(_n?(t=Yt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Yt.removeChild(r.stateNode));break;case 18:Yt!==null&&(_n?(t=Yt,r=r.stateNode,t.nodeType===8?em(t.parentNode,r):t.nodeType===1&&em(t,r),Mu(t)):em(Yt,r.stateNode));break;case 4:n=Yt,i=_n,Yt=r.stateNode.containerInfo,_n=!0,Ri(t,e,r),Yt=n,_n=i;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&F0(r,e,o),i=i.next}while(i!==n)}Ri(t,e,r);break;case 1:if(!ar&&(va(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){kt(r,e,a)}Ri(t,e,r);break;case 21:Ri(t,e,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,Ri(t,e,r),ar=n):Ri(t,e,r);break;default:Ri(t,e,r)}}function rx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xL),e.forEach(function(n){var i=NL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function yn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,_n=!1;break e;case 3:Yt=a.stateNode.containerInfo,_n=!0;break e;case 4:Yt=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(Yt===null)throw Error(we(160));KR(s,o,i),Yt=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){kt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GR(e,t),e=e.sibling}function GR(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),In(t),n&4){try{au(3,t,t.return),Gf(3,t)}catch(g){kt(t,t.return,g)}try{au(5,t,t.return)}catch(g){kt(t,t.return,g)}}break;case 1:yn(e,t),In(t),n&512&&r!==null&&va(r,r.return);break;case 5:if(yn(e,t),In(t),n&512&&r!==null&&va(r,r.return),t.flags&32){var i=t.stateNode;try{Ou(i,"")}catch(g){kt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gA(i,s),h0(a,o);var u=h0(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?SA(i,d):c==="dangerouslySetInnerHTML"?wA(i,d):c==="children"?Ou(i,d):xw(i,c,d,u)}switch(a){case"input":a0(i,s);break;case"textarea":yA(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ca(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ca(i,!!s.multiple,s.defaultValue,!0):Ca(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fu]=s}catch(g){kt(t,t.return,g)}}break;case 6:if(yn(e,t),In(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){kt(t,t.return,g)}}break;case 3:if(yn(e,t),In(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mu(e.containerInfo)}catch(g){kt(t,t.return,g)}break;case 4:yn(e,t),In(t);break;case 13:yn(e,t),In(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t1=Rt())),n&4&&rx(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ar=(u=ar)||c,yn(e,t),ar=u):yn(e,t),In(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ee=t,c=t.child;c!==null;){for(d=Ee=c;Ee!==null;){switch(h=Ee,f=h.child,h.tag){case 0:case 11:case 14:case 15:au(4,h,h.return);break;case 1:va(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){kt(n,r,g)}}break;case 5:va(h,h.return);break;case 22:if(h.memoizedState!==null){ix(d);continue}}f!==null?(f.return=h,Ee=f):ix(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bA("display",o))}catch(g){kt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(e,t),In(t),n&4&&rx(t);break;case 21:break;default:yn(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qR(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ou(i,""),n.flags&=-33);var s=tx(t);V0(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tx(t);z0(t,a,o);break;default:throw Error(we(161))}}catch(l){kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _L(t,e,r){Ee=t,JR(t)}function JR(t,e,r){for(var n=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||od;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ar;a=od;var u=ar;if(od=o,(ar=l)&&!u)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?sx(i):l!==null?(l.return=o,Ee=l):sx(i);for(;s!==null;)Ee=s,JR(s),s=s.sibling;Ee=i,od=a,ar=u}nx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):nx(t)}}function nx(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ar||Gf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ar)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:xn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zS(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}zS(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Mu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}ar||e.flags&512&&U0(e)}catch(h){kt(e,e.return,h)}}if(e===t){Ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ee=r;break}Ee=e.return}}function ix(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ee=r;break}Ee=e.return}}function sx(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Gf(4,e)}catch(l){kt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){kt(e,i,l)}}var s=e.return;try{U0(e)}catch(l){kt(e,s,l)}break;case 5:var o=e.return;try{U0(e)}catch(l){kt(e,o,l)}}}catch(l){kt(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var kL=Math.ceil,Ih=Ti.ReactCurrentDispatcher,Zw=Ti.ReactCurrentOwner,un=Ti.ReactCurrentBatchConfig,Je=0,$t=null,Lt=null,rr=0,jr=0,wa=ws(0),Ut=0,Wu=null,Eo=0,Jf=0,e1=0,lu=null,_r=null,t1=0,Ka=1/0,li=null,Mh=!1,$0=null,is=null,ad=!1,Gi=null,Dh=0,uu=0,H0=null,eh=-1,th=0;function yr(){return Je&6?Rt():eh!==-1?eh:eh=Rt()}function ss(t){return t.mode&1?Je&2&&rr!==0?rr&-rr:lL.transition!==null?(th===0&&(th=IA()),th):(t=tt,t!==0||(t=window.event,t=t===void 0?16:UA(t.type)),t):1}function On(t,e,r,n){if(50<uu)throw uu=0,H0=null,Error(we(185));bc(t,r,n),(!(Je&2)||t!==$t)&&(t===$t&&(!(Je&2)&&(Jf|=r),Ut===4&&$i(t,rr)),Pr(t,n),r===1&&Je===0&&!(e.mode&1)&&(Ka=Rt()+500,Wf&&bs()))}function Pr(t,e){var r=t.callbackNode;l3(t,e);var n=vh(t,t===$t?rr:0);if(n===0)r!==null&&pS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&pS(r),e===1)t.tag===0?aL(ox.bind(null,t)):sR(ox.bind(null,t)),nL(function(){!(Je&6)&&bs()}),r=null;else{switch(MA(n)){case 1:r=Cw;break;case 4:r=PA;break;case 16:r=yh;break;case 536870912:r=NA;break;default:r=yh}r=nO(r,XR.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function XR(t,e){if(eh=-1,th=0,Je&6)throw Error(we(327));var r=t.callbackNode;if(Na()&&t.callbackNode!==r)return null;var n=vh(t,t===$t?rr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lh(t,n);else{e=n;var i=Je;Je|=2;var s=QR();($t!==t||rr!==e)&&(li=null,Ka=Rt()+500,co(t,e));do try{AL();break}catch(a){YR(t,a)}while(!0);Uw(),Ih.current=s,Je=i,Lt!==null?e=0:($t=null,rr=0,e=Ut)}if(e!==0){if(e===2&&(i=y0(t),i!==0&&(n=i,e=W0(t,i))),e===1)throw r=Wu,co(t,0),$i(t,n),Pr(t,Rt()),r;if(e===6)$i(t,n);else{if(i=t.current.alternate,!(n&30)&&!TL(i)&&(e=Lh(t,n),e===2&&(s=y0(t),s!==0&&(n=s,e=W0(t,s))),e===1))throw r=Wu,co(t,0),$i(t,n),Pr(t,Rt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:zs(t,_r,li);break;case 3:if($i(t,n),(n&130023424)===n&&(e=t1+500-Rt(),10<e)){if(vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){yr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=k0(zs.bind(null,t,_r,li),e);break}zs(t,_r,li);break;case 4:if($i(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Rn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kL(n/1960))-n,10<n){t.timeoutHandle=k0(zs.bind(null,t,_r,li),n);break}zs(t,_r,li);break;case 5:zs(t,_r,li);break;default:throw Error(we(329))}}}return Pr(t,Rt()),t.callbackNode===r?XR.bind(null,t):null}function W0(t,e){var r=lu;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=Lh(t,e),t!==2&&(e=_r,_r=r,e!==null&&q0(e)),t}function q0(t){_r===null?_r=t:_r.push.apply(_r,t)}function TL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~e1,e&=~Jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Rn(e),n=1<<r;t[r]=-1,e&=~n}}function ox(t){if(Je&6)throw Error(we(327));Na();var e=vh(t,0);if(!(e&1))return Pr(t,Rt()),null;var r=Lh(t,e);if(t.tag!==0&&r===2){var n=y0(t);n!==0&&(e=n,r=W0(t,n))}if(r===1)throw r=Wu,co(t,0),$i(t,e),Pr(t,Rt()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,_r,li),Pr(t,Rt()),null}function r1(t,e){var r=Je;Je|=1;try{return t(e)}finally{Je=r,Je===0&&(Ka=Rt()+500,Wf&&bs())}}function _o(t){Gi!==null&&Gi.tag===0&&!(Je&6)&&Na();var e=Je;Je|=1;var r=un.transition,n=tt;try{if(un.transition=null,tt=1,t)return t()}finally{tt=n,un.transition=r,Je=e,!(Je&6)&&bs()}}function n1(){jr=wa.current,ct(wa)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,rL(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(jw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Eh();break;case 3:Wa(),ct(Rr),ct(cr),qw();break;case 5:Ww(n);break;case 4:Wa();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:zw(n.type._context);break;case 22:case 23:n1()}r=r.return}if($t=t,Lt=t=as(t.current,null),rr=jr=e,Ut=0,Wu=null,e1=Jf=Eo=0,_r=lu=null,Qs!==null){for(e=0;e<Qs.length;e++)if(r=Qs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Qs=null}return t}function YR(t,e){do{var r=Lt;try{if(Uw(),Yd.current=Nh,Ph){for(var n=yt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ph=!1}if(xo=0,zt=Ft=yt=null,ou=!1,Vu=0,Zw.current=null,r===null||r.return===null){Ut=1,Wu=e,Lt=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=KS(o);if(f!==null){f.flags&=-257,GS(f,o,a,s,e),f.mode&1&&qS(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){qS(s,u,e),i1();break e}l=Error(we(426))}}else if(ht&&a.mode&1){var w=KS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),GS(w,o,a,s,e),Bw(qa(l,a));break e}}s=l=qa(l,a),Ut!==4&&(Ut=2),lu===null?lu=[s]:lu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=MR(s,l,e);US(s,m);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(is===null||!is.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=DR(s,a,e);US(s,b);break e}}s=s.return}while(s!==null)}eO(r)}catch(E){e=E,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function QR(){var t=Ih.current;return Ih.current=Nh,t===null?Nh:t}function i1(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),$t===null||!(Eo&268435455)&&!(Jf&268435455)||$i($t,rr)}function Lh(t,e){var r=Je;Je|=2;var n=QR();($t!==t||rr!==e)&&(li=null,co(t,e));do try{CL();break}catch(i){YR(t,i)}while(!0);if(Uw(),Je=r,Ih.current=n,Lt!==null)throw Error(we(261));return $t=null,rr=0,Ut}function CL(){for(;Lt!==null;)ZR(Lt)}function AL(){for(;Lt!==null&&!ZD();)ZR(Lt)}function ZR(t){var e=rO(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?eO(t):Lt=e,Zw.current=null}function eO(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=SL(r,e),r!==null){r.flags&=32767,Lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Lt=null;return}}else if(r=bL(r,e,jr),r!==null){Lt=r;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Ut===0&&(Ut=5)}function zs(t,e,r){var n=tt,i=un.transition;try{un.transition=null,tt=1,RL(t,e,r,n)}finally{un.transition=i,tt=n}return null}function RL(t,e,r,n){do Na();while(Gi!==null);if(Je&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(u3(t,s),t===$t&&(Lt=$t=null,rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ad||(ad=!0,nO(yh,function(){return Na(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=tt;tt=1;var a=Je;Je|=4,Zw.current=null,EL(t,r),GR(r,t),J3(E0),wh=!!x0,E0=x0=null,t.current=r,_L(r),e3(),Je=a,tt=o,un.transition=s}else t.current=r;if(ad&&(ad=!1,Gi=t,Dh=i),s=t.pendingLanes,s===0&&(is=null),n3(r.stateNode),Pr(t,Rt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mh)throw Mh=!1,t=$0,$0=null,t;return Dh&1&&t.tag!==0&&Na(),s=t.pendingLanes,s&1?t===H0?uu++:(uu=0,H0=t):uu=0,bs(),null}function Na(){if(Gi!==null){var t=MA(Dh),e=un.transition,r=tt;try{if(un.transition=null,tt=16>t?16:t,Gi===null)var n=!1;else{if(t=Gi,Gi=null,Dh=0,Je&6)throw Error(we(331));var i=Je;for(Je|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ee=u;Ee!==null;){var c=Ee;switch(c.tag){case 0:case 11:case 15:au(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ee=d;else for(;Ee!==null;){c=Ee;var h=c.sibling,f=c.return;if(WR(c),c===u){Ee=null;break}if(h!==null){h.return=f,Ee=h;break}Ee=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:au(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ee=m;break e}Ee=s.return}}var y=t.current;for(Ee=y;Ee!==null;){o=Ee;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ee=v;else e:for(o=y;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gf(9,a)}}catch(E){kt(a,a.return,E)}if(a===o){Ee=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Ee=b;break e}Ee=a.return}}if(Je=i,bs(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Uf,t)}catch{}n=!0}return n}finally{tt=r,un.transition=e}}return!1}function ax(t,e,r){e=qa(r,e),e=MR(t,e,1),t=ns(t,e,1),e=yr(),t!==null&&(bc(t,1,e),Pr(t,e))}function kt(t,e,r){if(t.tag===3)ax(t,t,r);else for(;e!==null;){if(e.tag===3){ax(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(is===null||!is.has(n))){t=qa(r,t),t=DR(e,t,1),e=ns(e,t,1),t=yr(),e!==null&&(bc(e,1,t),Pr(e,t));break}}e=e.return}}function OL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=yr(),t.pingedLanes|=t.suspendedLanes&r,$t===t&&(rr&r)===r&&(Ut===4||Ut===3&&(rr&130023424)===rr&&500>Rt()-t1?co(t,0):e1|=r),Pr(t,e)}function tO(t,e){e===0&&(t.mode&1?(e=Yc,Yc<<=1,!(Yc&130023424)&&(Yc=4194304)):e=1);var r=yr();t=xi(t,e),t!==null&&(bc(t,e,r),Pr(t,r))}function PL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),tO(t,r)}function NL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),tO(t,r)}var rO;rO=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rr.current)Tr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Tr=!1,wL(t,e,r);Tr=!!(t.flags&131072)}else Tr=!1,ht&&e.flags&1048576&&oR(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zd(t,e),t=e.pendingProps;var i=Va(e,cr.current);Pa(e,r),i=Gw(null,e,n,t,i,r);var s=Jw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(s=!0,_h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$w(e),i.updater=Kf,e.stateNode=i,i._reactInternals=e,N0(e,n,t,r),e=D0(null,e,n,!0,s,r)):(e.tag=0,ht&&s&&Lw(e),pr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=ML(n),t=xn(n,t),i){case 0:e=M0(null,e,n,t,r);break e;case 1:e=YS(null,e,n,t,r);break e;case 11:e=JS(null,e,n,t,r);break e;case 14:e=XS(null,e,n,xn(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),M0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),YS(t,e,n,i,r);case 3:e:{if(FR(e),t===null)throw Error(we(387));n=e.pendingProps,s=e.memoizedState,i=s.element,hR(t,e),Rh(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qa(Error(we(423)),e),e=QS(t,e,n,r,i);break e}else if(n!==i){i=qa(Error(we(424)),e),e=QS(t,e,n,r,i);break e}else for(Vr=rs(e.stateNode.containerInfo.firstChild),Hr=e,ht=!0,Tn=null,r=cR(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($a(),n===i){e=Ei(t,e,r);break e}pr(t,e,n,r)}e=e.child}return e;case 5:return fR(e),t===null&&R0(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,_0(n,i)?o=null:s!==null&&_0(n,s)&&(e.flags|=32),BR(t,e),pr(t,e,o,r),e.child;case 6:return t===null&&R0(e),null;case 13:return UR(t,e,r);case 4:return Hw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ha(e,null,n,r):pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),JS(t,e,n,i,r);case 7:return pr(t,e,e.pendingProps,r),e.child;case 8:return pr(t,e,e.pendingProps.children,r),e.child;case 12:return pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ot(Ch,n._currentValue),n._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!Rr.current){e=Ei(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=gi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),O0(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(we(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),O0(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Pa(e,r),i=fn(i),n=n(i),e.flags|=1,pr(t,e,n,r),e.child;case 14:return n=e.type,i=xn(n,e.pendingProps),i=xn(n.type,i),XS(t,e,n,i,r);case 15:return LR(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),Zd(t,e),e.tag=1,Or(n)?(t=!0,_h(e)):t=!1,Pa(e,r),IR(e,n,i),N0(e,n,i,r),D0(null,e,n,!0,t,r);case 19:return zR(t,e,r);case 22:return jR(t,e,r)}throw Error(we(156,e.tag))};function nO(t,e){return OA(t,e)}function IL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,r,n){return new IL(t,e,r,n)}function s1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ML(t){if(typeof t=="function")return s1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_w)return 11;if(t===kw)return 14}return 2}function as(t,e){var r=t.alternate;return r===null?(r=an(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function rh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")s1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ua:return ho(r.children,i,s,e);case Ew:o=8,i|=8;break;case r0:return t=an(12,r,e,i|2),t.elementType=r0,t.lanes=s,t;case n0:return t=an(13,r,e,i),t.elementType=n0,t.lanes=s,t;case i0:return t=an(19,r,e,i),t.elementType=i0,t.lanes=s,t;case fA:return Xf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dA:o=10;break e;case hA:o=9;break e;case _w:o=11;break e;case kw:o=14;break e;case ji:o=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=an(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ho(t,e,r,n){return t=an(7,t,n,e),t.lanes=r,t}function Xf(t,e,r,n){return t=an(22,t,n,e),t.elementType=fA,t.lanes=r,t.stateNode={isHidden:!1},t}function lm(t,e,r){return t=an(6,t,null,e),t.lanes=r,t}function um(t,e,r){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$p(0),this.expirationTimes=$p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o1(t,e,r,n,i,s,o,a,l){return t=new DL(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$w(s),t}function LL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function iO(t){if(!t)return ps;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Or(r))return iR(t,r,e)}return e}function sO(t,e,r,n,i,s,o,a,l){return t=o1(r,n,!0,t,i,s,o,a,l),t.context=iO(null),r=t.current,n=yr(),i=ss(r),s=gi(n,i),s.callback=e??null,ns(r,s,i),t.current.lanes=i,bc(t,i,n),Pr(t,n),t}function Yf(t,e,r,n){var i=e.current,s=yr(),o=ss(i);return r=iO(r),e.context===null?e.context=r:e.pendingContext=r,e=gi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ns(i,e,o),t!==null&&(On(t,i,o,s),Xd(t,i,o)),o}function jh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function a1(t,e){lx(t,e),(t=t.alternate)&&lx(t,e)}function jL(){return null}var oO=typeof reportError=="function"?reportError:function(t){console.error(t)};function l1(t){this._internalRoot=t}Qf.prototype.render=l1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));Yf(t,e,null,null)};Qf.prototype.unmount=l1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_o(function(){Yf(null,t,null,null)}),e[Si]=null}};function Qf(t){this._internalRoot=t}Qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=jA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vi.length&&e!==0&&e<Vi[r].priority;r++);Vi.splice(r,0,t),r===0&&FA(t)}};function u1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ux(){}function BL(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=jh(o);s.call(u)}}var o=sO(e,n,t,0,null,!1,!1,"",ux);return t._reactRootContainer=o,t[Si]=o.current,ju(t.nodeType===8?t.parentNode:t),_o(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=jh(l);a.call(u)}}var l=o1(t,0,!1,null,null,!1,!1,"",ux);return t._reactRootContainer=l,t[Si]=l.current,ju(t.nodeType===8?t.parentNode:t),_o(function(){Yf(e,l,r,n)}),l}function ep(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=jh(o);a.call(l)}}Yf(e,o,t,i)}else o=BL(r,e,t,i,n);return jh(o)}DA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ql(e.pendingLanes);r!==0&&(Aw(e,r|1),Pr(e,Rt()),!(Je&6)&&(Ka=Rt()+500,bs()))}break;case 13:_o(function(){var n=xi(t,1);if(n!==null){var i=yr();On(n,t,1,i)}}),a1(t,1)}};Rw=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var r=yr();On(e,t,134217728,r)}a1(t,134217728)}};LA=function(t){if(t.tag===13){var e=ss(t),r=xi(t,e);if(r!==null){var n=yr();On(r,t,e,n)}a1(t,e)}};jA=function(){return tt};BA=function(t,e){var r=tt;try{return tt=t,e()}finally{tt=r}};p0=function(t,e,r){switch(e){case"input":if(a0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Hf(n);if(!i)throw Error(we(90));mA(n),a0(n,i)}}}break;case"textarea":yA(t,r);break;case"select":e=r.value,e!=null&&Ca(t,!!r.multiple,e,!1)}};_A=r1;kA=_o;var FL={usingClientEntryPoint:!1,Events:[xc,fa,Hf,xA,EA,r1]},Nl={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UL={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AA(t),t===null?null:t.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||jL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Uf=ld.inject(UL),Hn=ld}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FL;Kr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u1(e))throw Error(we(200));return LL(t,e,null,r)};Kr.createRoot=function(t,e){if(!u1(t))throw Error(we(299));var r=!1,n="",i=oO;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o1(t,1,!1,null,null,r,!1,n,i),t[Si]=e.current,ju(t.nodeType===8?t.parentNode:t),new l1(e)};Kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=AA(e),t=t===null?null:t.stateNode,t};Kr.flushSync=function(t){return _o(t)};Kr.hydrate=function(t,e,r){if(!Zf(e))throw Error(we(200));return ep(null,t,e,!0,r)};Kr.hydrateRoot=function(t,e,r){if(!u1(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=oO;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=sO(e,null,t,1,r??null,i,!1,s,o),t[Si]=e.current,ju(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Qf(e)};Kr.render=function(t,e,r){if(!Zf(e))throw Error(we(200));return ep(null,t,e,!1,r)};Kr.unmountComponentAtNode=function(t){if(!Zf(t))throw Error(we(40));return t._reactRootContainer?(_o(function(){ep(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Kr.unstable_batchedUpdates=r1;Kr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zf(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return ep(t,e,r,!1,n)};Kr.version="18.3.1-next-f1338f8080-20240426";function aO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aO)}catch(t){console.error(t)}}aO(),aA.exports=Kr;var c1=aA.exports;const lO=mw(c1),zL=pw({__proto__:null,default:lO},[c1]);var uO,cx=c1;uO=cx.createRoot,cx.hydrateRoot;var K0=function(t,e){return K0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},K0(t,e)};function cO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Bh=function(){return Bh=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Bh.apply(this,arguments)};function hl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function dO(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function hO(t,e){return function(r,n){e(r,n,t)}}function fO(t,e,r,n,i,s){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,h=!1,f=r.length-1;f>=0;f--){var p={};for(var g in n)p[g]=g==="access"?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(m||null))};var w=(0,r[f])(a==="accessor"?{get:c.get,set:c.set}:c[l],p);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(d=o(w.get))&&(c.get=d),(d=o(w.set))&&(c.set=d),(d=o(w.init))&&i.unshift(d)}else(d=o(w))&&(a==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,n.name,c),h=!0}function pO(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function mO(t){return typeof t=="symbol"?t:"".concat(t)}function gO(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function yO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Re(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function vO(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var tp=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function wO(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tp(e,t,r)}function Fh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d1(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function bO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d1(arguments[e]));return t}function SO(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function xO(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Ga(t){return this instanceof Ga?(this.v=t,this):new Ga(t)}function EO(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){n[f]&&(i[f]=function(g){return new Promise(function(w,m){s.push([f,g,w,m])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{u(n[f](p))}catch(g){h(s[0][3],g)}}function u(f){f.value instanceof Ga?Promise.resolve(f.value.v).then(c,d):h(s[0][2],f)}function c(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function _O(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Ga(t[i](o)),done:!1}:s?s(o):o}:s}}function kO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Fh=="function"?Fh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function TO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var VL=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},G0=function(t){return G0=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},G0(t)};function CO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=G0(t),n=0;n<r.length;n++)r[n]!=="default"&&tp(e,t,r[n]);return VL(e,t),e}function AO(t){return t&&t.__esModule?t:{default:t}}function RO(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function OO(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function PO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function NO(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var $L=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function IO(t){function e(s){t.error=t.hasError?new $L(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function MO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const HL={__extends:cO,__assign:Bh,__rest:hl,__decorate:dO,__param:hO,__esDecorate:fO,__runInitializers:pO,__propKey:mO,__setFunctionName:gO,__metadata:yO,__awaiter:Re,__generator:vO,__createBinding:tp,__exportStar:wO,__values:Fh,__read:d1,__spread:bO,__spreadArrays:SO,__spreadArray:xO,__await:Ga,__asyncGenerator:EO,__asyncDelegator:_O,__asyncValues:kO,__makeTemplateObject:TO,__importStar:CO,__importDefault:AO,__classPrivateFieldGet:RO,__classPrivateFieldSet:OO,__classPrivateFieldIn:PO,__addDisposableResource:NO,__disposeResources:IO,__rewriteRelativeImportExtension:MO},WL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:NO,get __assign(){return Bh},__asyncDelegator:_O,__asyncGenerator:EO,__asyncValues:kO,__await:Ga,__awaiter:Re,__classPrivateFieldGet:RO,__classPrivateFieldIn:PO,__classPrivateFieldSet:OO,__createBinding:tp,__decorate:dO,__disposeResources:IO,__esDecorate:fO,__exportStar:wO,__extends:cO,__generator:vO,__importDefault:AO,__importStar:CO,__makeTemplateObject:TO,__metadata:yO,__param:hO,__propKey:mO,__read:d1,__rest:hl,__rewriteRelativeImportExtension:MO,__runInitializers:pO,__setFunctionName:gO,__spread:bO,__spreadArray:xO,__spreadArrays:SO,__values:Fh,default:HL},Symbol.toStringTag,{value:"Module"})),qL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class h1 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class KL extends h1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dx extends h1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hx extends h1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var J0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(J0||(J0={}));class GL{constructor(e,{headers:r={},customFetch:n,region:i=J0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=qL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Re(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let w=c;d&&(o=new AbortController,s=setTimeout(()=>o.abort(),d),c?(w=o.signal,c.addEventListener("abort",()=>o.abort())):w=o.signal);const m=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:w}).catch(E=>{throw new KL(E)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new dx(m);if(!m.ok)throw new hx(m);let v=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield m.json():v==="application/octet-stream"||v==="application/pdf"?b=yield m.blob():v==="text/event-stream"?b=m:v==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof hx||a instanceof dx?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var mr={};const fl=pD(WL);var ud={},cd={},dd={},hd={},fd={},pd={},fx;function DO(){if(fx)return pd;fx=1,Object.defineProperty(pd,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pd.default=t,pd}var px;function LO(){if(px)return fd;px=1,Object.defineProperty(fd,"__esModule",{value:!0});const e=fl.__importDefault(DO());class r{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let f=null,p=null,g=null,w=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=E:p=JSON.parse(E))}const v=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),b=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");v&&b&&b.length>1&&(g=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,w=406,m="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const v=await l.text();try{f=JSON.parse(v),Array.isArray(f)&&l.status===404&&(p=[],f=null,w=200,m="OK")}catch{l.status===404&&v===""?(w=204,m="No Content"):f={message:v}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,w=200,m="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:p,count:g,status:w,statusText:m}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=l==null?void 0:l.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}returns(){return this}overrideTypes(){return this}}return fd.default=r,fd}var mx;function jO(){if(mx)return hd;mx=1,Object.defineProperty(hd,"__esModule",{value:!0});const e=fl.__importDefault(LO());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return hd.default=r,hd}var gx;function f1(){if(gx)return dd;gx=1,Object.defineProperty(dd,"__esModule",{value:!0});const e=fl.__importDefault(jO()),r=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${u}fts${c}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return dd.default=n,dd}var yx;function BO(){if(yx)return cd;yx=1,Object.defineProperty(cd,"__esModule",{value:!0});const e=fl.__importDefault(f1());class r{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return cd.default=r,cd}var vx;function JL(){if(vx)return ud;vx=1,Object.defineProperty(ud,"__esModule",{value:!0});const t=fl,e=t.__importDefault(BO()),r=t.__importDefault(f1());class n{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${s}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([g,w])=>w!==void 0).map(([g,w])=>[g,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([g,w])=>{h.searchParams.append(g,w)})):(d="POST",f=o);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:d,url:h,headers:p,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return ud.default=n,ud}Object.defineProperty(mr,"__esModule",{value:!0});var FO=mr.PostgrestError=JO=mr.PostgrestBuilder=KO=mr.PostgrestTransformBuilder=WO=mr.PostgrestFilterBuilder=$O=mr.PostgrestQueryBuilder=zO=mr.PostgrestClient=void 0;const pl=fl,UO=pl.__importDefault(JL());var zO=mr.PostgrestClient=UO.default;const VO=pl.__importDefault(BO());var $O=mr.PostgrestQueryBuilder=VO.default;const HO=pl.__importDefault(f1());var WO=mr.PostgrestFilterBuilder=HO.default;const qO=pl.__importDefault(jO());var KO=mr.PostgrestTransformBuilder=qO.default;const GO=pl.__importDefault(LO());var JO=mr.PostgrestBuilder=GO.default;const XO=pl.__importDefault(DO());FO=mr.PostgrestError=XO.default;var YO=mr.default={PostgrestClient:UO.default,PostgrestQueryBuilder:VO.default,PostgrestFilterBuilder:HO.default,PostgrestTransformBuilder:qO.default,PostgrestBuilder:GO.default,PostgrestError:XO.default};const XL=pw({__proto__:null,get PostgrestBuilder(){return JO},get PostgrestClient(){return zO},get PostgrestError(){return FO},get PostgrestFilterBuilder(){return WO},get PostgrestQueryBuilder(){return $O},get PostgrestTransformBuilder(){return KO},default:YO},[mr]),{PostgrestClient:YL,PostgrestQueryBuilder:OQ,PostgrestFilterBuilder:PQ,PostgrestTransformBuilder:NQ,PostgrestBuilder:IQ,PostgrestError:MQ}=YO||XL;class QL{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ZL="2.81.1",ej=`realtime-js/${ZL}`,QO="1.0.0",tj="2.0.0",wx=QO,X0=1e4,rj=1e3,nj=100;var Hs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hs||(Hs={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var Y0;(function(t){t.websocket="websocket"})(Y0||(Y0={}));var Ws;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ws||(Ws={}));class ij{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:s,payload:o}=e,a=this.META_LENGTH+r.length+n.length+s.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let u=new DataView(l),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,r.length),u.setUint8(c++,n.length),u.setUint8(c++,s.length),u.setUint8(c++,i.length),Array.from(r,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(n,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(s,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(i,h=>u.setUint8(c++,h.charCodeAt(0)));var d=new Uint8Array(l.byteLength+o.byteLength);return d.set(new Uint8Array(l),0),d.set(new Uint8Array(o),l.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+a.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.userBroadcastPush),d.setUint8(h++,i.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,a.length),d.setUint8(h++,this.BINARY_ENCODING),Array.from(i,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(s,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(o,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(a,p=>d.setUint8(h++,p.charCodeAt(0)));var f=new Uint8Array(c.byteLength+l.byteLength);return f.set(new Uint8Array(c),0),f.set(new Uint8Array(l),c.byteLength),f.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,a.length),f.setUint8(p++,this.JSON_ENCODING),Array.from(i,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(s,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(o,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(a,w=>f.setUint8(p++,w.charCodeAt(0)));var g=new Uint8Array(h.byteLength+c.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(c),h.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,a,l]=n;return r({join_ref:i,ref:s,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(a,a+i));a=a+i;const u=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+o));a=a+o;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(l,l+i));l=l+i;const c=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+o));l=l+o;const h=n.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(n.decode(e.slice(l,e.byteLength))),p={status:h,response:f};return{join_ref:u,ref:c,topic:d,event:tn.reply,payload:p}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:u}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const c=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,p={type:this.BROADCAST,event:c,payload:f};return o>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:p}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class ZO{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const bx=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=sj(o,t,e,i),s),{}):{}},sj=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?eP(s,o):Q0(o)},eP=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return uj(e,r)}switch(t){case st.bool:return oj(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return aj(e);case st.json:case st.jsonb:return lj(e);case st.timestamp:return cj(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Q0(e);default:return Q0(e)}},Q0=t=>t,oj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uj=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>eP(e,a))}return t},cj=t=>typeof t=="string"?t.replace(" ","T"):t,tP=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cm{constructor(e,r,n={},i=X0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sx||(Sx={}));class cu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cu.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=cu.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=cu.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const h=c.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),p=c.filter(w=>f.indexOf(w.presence_ref)<0),g=d.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xx||(xx={}));var du;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(du||(du={}));var ui;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ui||(ui={}));class p1{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cm(this,tn.join,this.params,this.timeout),this.rejoinTimer=new ZO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new cu(this),this.broadcastEndpointURL=tP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[du.PRESENCE]&&this.bindings[du.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(ui.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(ui.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(ui.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,m=[];for(let y=0;y<w;y++){const v=g[y],{filter:{event:b,schema:E,table:N,filter:_}}=v,I=f&&f[y];if(I&&I.event===b&&I.schema===E&&I.table===N&&I.filter===_)m.push(Object.assign(Object.assign({},v),{id:I.id}));else{this.unsubscribe(),this.state=Bt.errored,e==null||e(ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ui.SUBSCRIBED);return}}).receive("error",f=>{this.state=Bt.errored,e==null||e(ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Bt.joined&&e===du.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new cm(this,tn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cm(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=tn;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,w;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(g=f.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,g,w,m,y,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,E=(p=f.filter)===null||p===void 0?void 0:p.event;return b&&((g=r.ids)===null||g===void 0?void 0:g.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(y=(m=f==null?void 0:f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:w,commit_timestamp:m,type:y,errors:v}=p;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:m,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(h,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&p1.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bx(e.columns,e.old_record)),r}}const dm=()=>{},md={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dj=[1e3,2e3,5e3,1e4],hj=1e4,fj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pj{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=X0,this.transport=null,this.heartbeatIntervalMs=md.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dm,this.ref=0,this.reconnectTimer=null,this.vsn=wx,this.logger=dm,this.conn=null,this.sendBuffer=[],this.serializer=new ij,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Y0.websocket}`,this.httpEndpoint=tP(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hs.connecting:return Ws.Connecting;case Hs.open:return Ws.Open;case Hs.closing:return Ws.Closing;default:return Ws.Closed}}isConnected(){return this.connectionState()===Ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new p1(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},md.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hs.open||this.conn.readyState===Hs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([fj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:ej};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ZO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},md.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,l,u,c,d,h,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:X0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:md.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:dm,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:wx,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:p=>dj[p-1]||hj,this.vsn){case QO:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(p,g)=>g(JSON.stringify(p)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case tj:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class m1 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mj extends m1{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z0 extends m1{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const g1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gj=()=>Response,ev=t=>{if(Array.isArray(t))return t.map(r=>ev(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=ev(n)}),e},yj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},vj=(t,e,r)=>Re(void 0,void 0,void 0,function*(){const n=yield gj();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new mj(hm(i),s,o))}).catch(i=>{e(new Z0(hm(i),i))}):e(new Z0(hm(t),t))}),wj=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(yj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function _c(t,e,r,n,i,s){return Re(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,wj(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>vj(l,a,n))})})}function qu(t,e,r,n){return Re(this,void 0,void 0,function*(){return _c(t,"GET",e,r,n)})}function En(t,e,r,n,i){return Re(this,void 0,void 0,function*(){return _c(t,"POST",e,n,i,r)})}function tv(t,e,r,n,i){return Re(this,void 0,void 0,function*(){return _c(t,"PUT",e,n,i,r)})}function bj(t,e,r,n){return Re(this,void 0,void 0,function*(){return _c(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function y1(t,e,r,n,i){return Re(this,void 0,void 0,function*(){return _c(t,"DELETE",e,n,i,r)})}class Sj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}})}}var rP;class xj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[rP]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sj(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}})}}rP=Symbol.toStringTag;const Ej={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ex={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _j{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=g1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Re(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ex),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(e=="PUT"?tv:En)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Re(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Ex.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield tv(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield En(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new m1("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield En(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield En(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Re(this,void 0,void 0,function*(){try{const i=yield En(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>qu(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new xj(l,this.shouldThrowOnError)}info(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield qu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ev(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}exists(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield bj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n)&&n instanceof Z0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield y1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Re(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Ej),r),{prefix:e||""});return{data:yield En(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Re(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield En(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const nP="2.81.1",iP={"X-Client-Info":`storage-js/${nP}`};class kj{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iP),r),this.fetch=g1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield qu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}createBucket(e){return Re(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Re(this,void 0,void 0,function*(){try{return{data:yield tv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield y1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Tj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iP),r),this.fetch=g1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield qu(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield y1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}}const v1={"X-Client-Info":`storage-js/${nP}`,"Content-Type":"application/json"};class sP extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class fm extends sP{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cj extends sP{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var _x;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_x||(_x={}));const w1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Aj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rj=(t,e,r)=>Re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new fm(kx(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new fm(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new fm(a,i,o))}}else e(new Cj(kx(t),t))}),Oj=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Aj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Pj(t,e,r,n,i,s){return Re(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Oj(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Rj(l,a,n))})})}function Ur(t,e,r,n,i){return Re(this,void 0,void 0,function*(){return Pj(t,"POST",e,n,i,r)})}class Nj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},v1),r),this.fetch=w1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Re(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fr(n))return{data:null,error:n};throw n}})}listIndexes(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Re(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fr(n))return{data:null,error:n};throw n}})}}class Ij{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},v1),r),this.fetch=w1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ur(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}getVectors(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}listVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ur(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}queryVectors(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ur(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}}class Mj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},v1),r),this.fetch=w1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}getBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}listBuckets(){return Re(this,arguments,void 0,function*(e={}){try{return{data:yield Ur(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}}class Dj extends Mj{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Lj(this.url,this.headers,e,this.fetch)}}class Lj extends Nj{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Re(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new jj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class jj extends Ij{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Re(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Bj extends kj{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new _j(this.url,this.headers,e,this.fetch)}get vectors(){return new Dj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Tj(this.url+"/iceberg",this.headers,this.fetch)}}const Fj="2.81.1";let Gl="";typeof Deno<"u"?Gl="deno":typeof document<"u"?Gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gl="react-native":Gl="node";const Uj={"X-Client-Info":`supabase-js-${Gl}/${Fj}`},zj={headers:Uj},Vj={schema:"public"},$j={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hj={},Wj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qj=()=>Headers,Kj=(t,e,r)=>{const n=Wj(r),i=qj();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))}};function Gj(t){return t.endsWith("/")?t:t+"/"}function Jj(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Xj(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const oP="2.81.1",ta=30*1e3,rv=3,pm=rv*ta,Yj="http://localhost:9999",Qj="supabase.auth.token",Zj={"X-Client-Info":`gotrue-js/${oP}`},nv="X-Supabase-Api-Version",aP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t5=10*60*1e3;class Ku extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class r5 extends Ku{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function n5(t){return Pe(t)&&t.name==="AuthApiError"}class qs extends Ku{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ss extends Ku{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class wn extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i5(t){return Pe(t)&&t.name==="AuthSessionMissingError"}class Wo extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gd extends Ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yd extends Ss{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s5(t){return Pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Tx extends Ss{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iv extends Ss{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function mm(t){return Pe(t)&&t.name==="AuthRetryableFetchError"}class Cx extends Ss{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sv extends Ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ax=` 	
\r=`.split(""),o5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ax.length;e+=1)t[Ax[e].charCodeAt(0)]=-2;for(let e=0;e<Uh.length;e+=1)t[Uh[e].charCodeAt(0)]=e;return t})();function Rx(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Uh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Uh[n]),e.queuedBits-=6}}function lP(t,e,r){const n=o5[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ox(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{u5(o,n,r)};for(let o=0;o<t.length;o+=1)lP(t.charCodeAt(o),i,s);return e.join("")}function a5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function l5(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}a5(n,e)}}function u5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ia(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)lP(t.charCodeAt(i),r,n);return new Uint8Array(e)}function c5(t){const e=[];return l5(t,r=>e.push(r)),new Uint8Array(e)}function eo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Rx(i,r,n)),Rx(null,r,n),e.join("")}function d5(t){return Math.round(Date.now()/1e3)+t}function h5(){return Symbol("auth-callback")}const Xt=()=>typeof window<"u"&&typeof document<"u",Is={tested:!1,writable:!1},uP=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Is.tested)return Is.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Is.tested=!0,Is.writable=!0}catch{Is.tested=!0,Is.writable=!1}return Is.writable};function f5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const cP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),p5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ra=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ms=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Oi=async(t,e)=>{await t.removeItem(e)};let dP=class hP{constructor(){this.promise=new hP.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};dP.promiseConstructor=Promise;function gm(t){const e=t.split(".");if(e.length!==3)throw new sv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!e5.test(e[n]))throw new sv("JWT not in base64url format");return{header:JSON.parse(Ox(e[0])),payload:JSON.parse(Ox(e[1])),signature:Ia(e[2]),raw:{header:e[0],payload:e[1]}}}async function m5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function g5(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function y5(t){return("0"+t.toString(16)).substr(-2)}function v5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,y5).join("")}async function w5(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function b5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await w5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qo(t,e,r=!1){const n=v5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ra(t,`${e}-code-verifier`,i);const s=await b5(n);return[s,n===s?"plain":"s256"]}const S5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x5(t){const e=t.headers.get(nv);if(!e||!e.match(S5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function E5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const k5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(t){if(!k5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ym(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function T5(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Px(t){return JSON.parse(JSON.stringify(t))}const Vs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C5=[502,503,504];async function Nx(t){var e;if(!p5(t))throw new iv(Vs(t),0);if(C5.includes(t.status))throw new iv(Vs(t),t.status);let r;try{r=await t.json()}catch(s){throw new qs(Vs(s),s)}let n;const i=x5(t);if(i&&i.getTime()>=aP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Cx(Vs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Cx(Vs(r),t.status,r.weak_password.reasons);throw new r5(Vs(r),t.status||500,n)}const A5=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function De(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[nv]||(s[nv]=aP["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await R5(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function R5(t,e,r,n,i,s){const o=A5(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new iv(Vs(l),0)}if(a.ok||await Nx(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Nx(l)}}function bn(t){var e;let r=null;N5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=d5(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ix(t){const e=bn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Hi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function O5(t){return{data:t,error:null}}function P5(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=hl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Mx(t){return t}function N5(t){return t.access_token&&t.refresh_token&&t.expires_in}const vm=["global","local","others"];class I5{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=cP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=vm[0]){if(vm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vm.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hi})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=hl(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:P5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hi})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Mx});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ko(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hi})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ko(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Hi})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ko(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hi})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ko(e.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ko(e.userId),Ko(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Mx});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Pe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function Dx(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Go={debug:!!(globalThis&&uP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class M5 extends fP{}async function D5(t,e,r){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new M5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Go.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function L5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pP(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function j5(t){return parseInt(t,16)}function B5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function F5(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=pP(t.address),p=c?`${c}://${n}`:n,g=t.statement?`${t.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`;let m=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}m+=y}return`${w}
${m}`}class It extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class zh extends It{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function U5({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new It({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new It({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new It({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new It({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new It({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new It({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(mP(o)){if(s.rp.id!==o)return new It({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new It({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function z5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(mP(n)){if(r.rpId!==n)return new It({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class V5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $5=new V5;function H5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=hl(t,["challenge","user","excludeCredentials"]),s=Ia(e).buffer,o=Object.assign(Object.assign({},r),{id:Ia(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ia(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function W5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=hl(t,["challenge","allowCredentials"]),i=Ia(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ia(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function q5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:eo(new Uint8Array(t.response.attestationObject)),clientDataJSON:eo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function K5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:eo(new Uint8Array(i.authenticatorData)),clientDataJSON:eo(new Uint8Array(i.clientDataJSON)),signature:eo(new Uint8Array(i.signature)),userHandle:i.userHandle?eo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mP(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Lx(){var t,e;return!!(Xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function G5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zh("Browser returned unexpected credential type",e)}:{data:null,error:new zh("Empty credential response",e)}}catch(e){return{data:null,error:U5({error:e,options:t})}}}async function J5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zh("Browser returned unexpected credential type",e)}:{data:null,error:new zh("Empty credential response",e)}}catch(e){return{data:null,error:z5({error:e,options:t})}}}const X5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Y5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=Vh(a,o):n[s]=Vh(o)}else n[s]=o}return n}function Q5(t,e){return Vh(X5,t,e||{})}function Z5(t,e){return Vh(Y5,t,e||{})}class e4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=i??$5.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Q5(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:d}=await G5({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Z5(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:d}=await J5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new qs("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn authentication")};try{if(!Lx())return{data:null,error:new qs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new qs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn registration")};try{if(!Lx())return{data:null,error:new qs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new qs("Unexpected error in register",o)}}}}L5();const t4={url:Yj,storageKey:Qj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jx(t,e,r){return await r()}const Jo={};class Gu{get jwks(){var e,r;return(r=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},t4),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Gu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Xt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new I5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cP(s.fetch),this.lock=s.lock||jx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=D5:this.lock=jx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new e4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:uP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Dx(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${oP}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Xt()&&(r=f5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Xt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),s5(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new qs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:bn}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await qo(this.storage,this.storageKey)),s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:bn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bn})}else throw new gd("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ix})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ix})}else throw new gd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Wo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,l,u,c,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:g,wallet:w,statement:m,options:y}=e;let v;if(Xt())if(typeof w=="object")v=w;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")v=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const b=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=pP(E[0]);let _=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const R=await v.request({method:"eth_chainId"});_=j5(R)}const I={domain:b.host,address:N,statement:m,uri:b.href,version:"1",chainId:_,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=F5(I),p=await v.request({method:"personal_sign",params:[B5(f),N]})}try{const{data:g,error:w}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:bn});if(w)throw w;if(!g||!g.session||!g.user){const m=new Wo;return this._returnResult({data:{user:null,session:null},error:m})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:w})}catch(g){if(Pe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,i,s,o,a,l,u,c,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:w,wallet:m,statement:y,options:v}=e;let b;if(Xt())if(typeof m=="object")b=m;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=m}const E=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),y?{statement:y}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)p=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:w,error:m}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:eo(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bn});if(m)throw m;if(!w||!w.session||!w.user){const y=new Wo;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:m})}catch(w){if(Pe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await Ms(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:bn});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bn}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Wo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await qo(this.storage,this.storageKey));const{error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new gd("You must provide either an email or phone number.")}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:bn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await qo(this.storage,this.storageKey));const u=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:O5});return!((s=u.data)===null||s===void 0)&&s.url&&Xt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(Pe(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wn;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new gd("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<pm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ms(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ym()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=T5(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hi}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Hi})})}catch(r){if(Pe(r))return i5(r)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new wn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await qo(this.storage,this.storageKey));const{data:u,error:c}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Hi});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=gm(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new wn;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Xt())throw new yd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tx("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new yd("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=ta&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,c);const{data:g,error:w}=await this._getUser(s);if(w)throw w;const m={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(n5(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=h5(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await qo(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Pe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:bn}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Wo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await g5(async i=>(i>0&&await m5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bn})),(i,s)=>{const o=200*Math.pow(2,i);return s&&mm(s)&&Date.now()+o-n<ta})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ms(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ra(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ym()}else if(i&&!i.user&&!i.user){const o=await Ms(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Oi(this.storage,this.storageKey+"-user"),await ra(this.storage,this.storageKey,i)):i.user=ym()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<pm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${pm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),mm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dP;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new wn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Pe(s)){const o={data:null,error:s};return mm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ra(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Px(i);await ra(this.storage,this.storageKey,s)}else{const i=Px(r);await ra(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ta);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ta);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ta}ms, refresh threshold is ${rv} ticks`),i<=rv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await qo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await De(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?q5(e.webauthn.credential_response):K5(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:H5(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:W5(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=gm(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wn})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wn});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wn});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+t5>i)return n;const{data:s,error:o}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});n=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=gm(n);r!=null&&r.allowExpired||E5(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const c=_5(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,c5(`${a}.${l}`)))throw new sv("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}Gu.nextInstanceID={};const r4=Gu;class n4 extends r4{constructor(e){super(e)}}class i4{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Xj(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Vj,realtime:Hj,auth:Object.assign(Object.assign({},$j),{storageKey:l}),global:zj},c=Jj(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Kj(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new YL(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Bj(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new GL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const s4=(t,e,r)=>new i4(t,e,r);function o4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}o4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a4="https://gxhbdbovixbptrjrcwbr.supabase.co",l4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd4aGJkYm92aXhicHRyanJjd2JyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxMzY3MzgsImV4cCI6MjA3ODcxMjczOH0.S4-5DqCkTdT4_j7ZGfwulMHwgIXG_9g1CtahY6qi50Q",Cr=s4(a4,l4);async function u4(t,e,r){var n,i;try{const{data:s,error:o}=await Cr.auth.signUp({email:t,password:e,options:{data:{name:r||t.split("@")[0],picture:null}}});if(o)throw o;return{user:s.user?{id:s.user.id,email:s.user.email,name:(n=s.user.user_metadata)==null?void 0:n.name,picture:(i=s.user.user_metadata)==null?void 0:i.picture}:null,session:s.session}}catch(s){return{user:null,session:null,error:{message:s.message}}}}async function c4(t,e){var r,n;try{const{data:i,error:s}=await Cr.auth.signInWithPassword({email:t,password:e});if(s)throw s;return{user:i.user?{id:i.user.id,email:i.user.email,name:(r=i.user.user_metadata)==null?void 0:r.name,picture:(n=i.user.user_metadata)==null?void 0:n.picture}:null,session:i.session}}catch(i){return{user:null,session:null,error:{message:i.message}}}}async function d4(){try{const t=window.location.origin,e=`${t}/auth/callback`;console.log("=== Configurao Google OAuth ==="),console.log("Origem atual:",t),console.log("URL de redirect:",e),console.log("Hostname:",window.location.hostname),console.log("Porta:",window.location.port);const{data:r,error:n}=await Cr.auth.signInWithOAuth({provider:"google",options:{redirectTo:e,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw n;return{url:r.url,error:null}}catch(t){return{url:null,error:{message:t.message}}}}async function h4(){try{const{error:t}=await Cr.auth.signOut();if(t)throw t;return{error:null}}catch(t){return{error:{message:t.message}}}}async function Bx(){var t,e;try{const{data:{user:r},error:n}=await Cr.auth.getUser();if(n)throw n;return r?{id:r.id,email:r.email,name:(t=r.user_metadata)==null?void 0:t.name,picture:(e=r.user_metadata)==null?void 0:e.picture,created_at:r.created_at,updated_at:r.updated_at}:null}catch{return null}}async function f4(t){var e,r;try{const{data:n,error:i}=await Cr.auth.updateUser({data:t});if(i)throw i;return{user:n.user?{id:n.user.id,email:n.user.email,name:(e=n.user.user_metadata)==null?void 0:e.name,picture:(r=n.user.user_metadata)==null?void 0:r.picture}:null,error:null}}catch(n){return{user:null,error:{message:n.message}}}}function rp(){const[t,e]=ee.useState(null),[r,n]=ee.useState(!0),[i,s]=ee.useState(null);ee.useEffect(()=>{o();const{data:{subscription:h}}=Cr.auth.onAuthStateChange(async(f,p)=>{if(p!=null&&p.user){const g=await Bx();e(g)}else e(null);n(!1)});return()=>h.unsubscribe()},[]);const o=ee.useCallback(async()=>{try{n(!0);const h=await Bx();e(h)}catch{s({message:"Erro ao carregar usurio"})}finally{n(!1)}},[]),a=ee.useCallback(async(h,f)=>{try{s(null),n(!0);const p=await c4(h,f);return p.error?(s(p.error),{success:!1,error:p.error}):p.user?(e(p.user),{success:!0,user:p.user}):{success:!1,error:{message:"Erro ao fazer login"}}}catch{const g={message:"Erro ao fazer login"};return s(g),{success:!1,error:g}}finally{n(!1)}},[]),l=ee.useCallback(async(h,f,p)=>{try{s(null),n(!0);const g=await u4(h,f,p);return g.error?(s(g.error),{success:!1,error:g.error}):g.user?(e(g.user),{success:!0,user:g.user}):{success:!1,error:{message:"Erro ao criar conta"}}}catch{const w={message:"Erro ao criar conta"};return s(w),{success:!1,error:w}}finally{n(!1)}},[]),u=ee.useCallback(async()=>{try{s(null);const h=await d4();return h.error?(s(h.error),{success:!1,error:h.error}):{success:!0,url:h.url}}catch{const f={message:"Erro ao fazer login com Google"};return s(f),{success:!1,error:f}}},[]),c=ee.useCallback(async()=>{try{s(null);const h=await h4();return h.error?(s(h.error),{success:!1,error:h.error}):(e(null),{success:!0})}catch{const f={message:"Erro ao fazer logout"};return s(f),{success:!1,error:f}}},[]),d=ee.useCallback(async h=>{try{s(null),n(!0);const f=await f4(h);return f.error?(s(f.error),{success:!1,error:f.error}):f.user?(e(f.user),{success:!0,user:f.user}):{success:!1,error:{message:"Erro ao atualizar perfil"}}}catch{const p={message:"Erro ao atualizar perfil"};return s(p),{success:!1,error:p}}finally{n(!1)}},[]);return{user:t,loading:r,error:i,login:a,register:l,loginWithGoogle:u,logout:c,updateProfile:d,isAuthenticated:!!t}}const p4=ee.createContext(void 0);function m4({children:t}){const e=rp();return B.jsx(p4.Provider,{value:e,children:t})}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dt.apply(this,arguments)}var At;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(At||(At={}));const Fx="popstate";function g4(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Ju("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:To(i)}return v4(e,r,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ko(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y4(){return Math.random().toString(36).substr(2,8)}function Ux(t,e){return{usr:t.state,key:t.key,idx:e}}function Ju(t,e,r,n){return r===void 0&&(r=null),dt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ci(e):e,{state:r,key:e&&e.key||n||y4()})}function To(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ci(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function v4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=At.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(dt({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=At.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:m})}function h(w,m){a=At.Push;let y=Ju(g.location,w,m);u=c()+1;let v=Ux(y,u),b=g.createHref(y);try{o.pushState(v,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(b)}s&&l&&l({action:a,location:g.location,delta:1})}function f(w,m){a=At.Replace;let y=Ju(g.location,w,m);u=c();let v=Ux(y,u),b=g.createHref(y);o.replaceState(v,"",b),s&&l&&l({action:a,location:g.location,delta:0})}function p(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:To(w);return y=y.replace(/ $/,"%20"),ze(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fx,d),l=w,()=>{i.removeEventListener(Fx,d),l=null}},createHref(w){return e(i,w)},createURL:p,encodeLocation(w){let m=p(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(w){return o.go(w)}};return g}var et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(et||(et={}));const w4=new Set(["lazy","caseSensitive","path","id","index","children"]);function b4(t){return t.index===!0}function $h(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ze(i.index!==!0||!i.children,"Cannot specify children on an index route"),ze(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),b4(i)){let l=dt({},i,e(i),{id:a});return n[a]=l,l}else{let l=dt({},i,e(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=$h(i.children,e,o,n)),l}})}function Ks(t,e,r){return r===void 0&&(r="/"),nh(t,e,r,!1)}function nh(t,e,r,n){let i=typeof e=="string"?Ci(e):e,s=ml(i.pathname||"/",r);if(s==null)return null;let o=gP(t);x4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=I4(s);a=P4(o[l],u,n)}return a}function S4(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function gP(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=yi([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:R4(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of yP(s.path))i(s,o,l)}),e}function yP(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=yP(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function x4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:O4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const E4=/^:[\w-]+$/,_4=3,k4=2,T4=1,C4=10,A4=-2,zx=t=>t==="*";function R4(t,e){let r=t.split("/"),n=r.length;return r.some(zx)&&(n+=A4),e&&(n+=k4),r.filter(i=>!zx(i)).reduce((i,s)=>i+(E4.test(s)?_4:s===""?T4:C4),n)}function O4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function P4(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Vx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Vx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:yi([s,d.pathname]),pathnameBase:j4(yi([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=yi([s,d.pathnameBase]))}return o}function Vx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=N4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function N4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ko(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function I4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ko(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ml(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const M4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D4=t=>M4.test(t);function L4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ci(t):t,s;if(r)if(D4(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ko(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=$x(r.substring(1),"/"):s=$x(r,e)}else s=e;return{pathname:s,search:B4(n),hash:F4(i)}}function $x(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function np(t,e){let r=vP(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ip(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ci(t):(i=dt({},t),ze(!i.pathname||!i.pathname.includes("?"),wm("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),wm("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),wm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=L4(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),j4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Hh{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Xu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wP=["post","put","patch","delete"],U4=new Set(wP),z4=["get",...wP],V4=new Set(z4),$4=new Set([301,302,303,307,308]),H4=new Set([307,308]),bm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},W4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Il={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},b1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q4=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),bP="remix-router-transitions";function K4(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;ze(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let Z=t.detectErrorBoundary;i=se=>({hasErrorBoundary:Z(se)})}else i=q4;let s={},o=$h(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||Y4,c=t.patchRoutesOnNavigation,d=dt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,f=new Set,p=null,g=null,w=null,m=t.hydrationData!=null,y=Ks(o,t.history.location,l),v=!1,b=null;if(y==null&&!c){let Z=Er(404,{pathname:t.history.location.pathname}),{matches:se,route:ue}=eE(o);y=se,b={[ue.id]:Z}}y&&!t.hydrationData&&Vc(y,o,t.history.location.pathname).active&&(y=null);let E;if(y)if(y.some(Z=>Z.route.lazy))E=!1;else if(!y.some(Z=>Z.route.loader))E=!0;else if(d.v7_partialHydration){let Z=t.hydrationData?t.hydrationData.loaderData:null,se=t.hydrationData?t.hydrationData.errors:null;if(se){let ue=y.findIndex(ye=>se[ye.route.id]!==void 0);E=y.slice(0,ue+1).every(ye=>!av(ye.route,Z,se))}else E=y.every(ue=>!av(ue.route,Z,se))}else E=t.hydrationData!=null;else if(E=!1,y=[],d.v7_partialHydration){let Z=Vc(null,o,t.history.location.pathname);Z.active&&Z.matches&&(v=!0,y=Z.matches)}let N,_={historyAction:t.history.action,location:t.history.location,matches:y,initialized:E,navigation:bm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},I=At.Pop,R=!1,F,ne=!1,M=new Map,U=null,C=!1,G=!1,ie=[],$=new Set,K=new Map,Y=0,le=-1,q=new Map,D=new Set,Q=new Map,te=new Map,ae=new Set,J=new Map,O=new Map,A;function W(){if(h=t.history.listen(Z=>{let{action:se,location:ue,delta:ye}=Z;if(A){A(),A=void 0;return}ko(O.size===0||ye!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=zc({currentLocation:_.location,nextLocation:ue,historyAction:se});if(Se&&ye!=null){let Ie=new Promise(Be=>{A=Be});t.history.go(ye*-1),Bo(Se,{state:"blocked",location:ue,proceed(){Bo(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),Ie.then(()=>t.history.go(ye))},reset(){let Be=new Map(_.blockers);Be.set(Se,Il),j({blockers:Be})}});return}return P(se,ue)}),r){d6(e,M);let Z=()=>h6(e,M);e.addEventListener("pagehide",Z),U=()=>e.removeEventListener("pagehide",Z)}return _.initialized||P(At.Pop,_.location,{initialHydration:!0}),N}function V(){h&&h(),U&&U(),f.clear(),F&&F.abort(),_.fetchers.forEach((Z,se)=>fr(se)),_.blockers.forEach((Z,se)=>Uc(se))}function L(Z){return f.add(Z),()=>f.delete(Z)}function j(Z,se){se===void 0&&(se={}),_=dt({},_,Z);let ue=[],ye=[];d.v7_fetcherPersist&&_.fetchers.forEach((Se,Ie)=>{Se.state==="idle"&&(ae.has(Ie)?ye.push(Ie):ue.push(Ie))}),ae.forEach(Se=>{!_.fetchers.has(Se)&&!K.has(Se)&&ye.push(Se)}),[...f].forEach(Se=>Se(_,{deletedFetchers:ye,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),d.v7_fetcherPersist?(ue.forEach(Se=>_.fetchers.delete(Se)),ye.forEach(Se=>fr(Se))):ye.forEach(Se=>ae.delete(Se))}function re(Z,se,ue){var ye,Se;let{flushSync:Ie}=ue===void 0?{}:ue,Be=_.actionData!=null&&_.navigation.formMethod!=null&&kn(_.navigation.formMethod)&&_.navigation.state==="loading"&&((ye=Z.state)==null?void 0:ye._isRedirect)!==!0,Ce;se.actionData?Object.keys(se.actionData).length>0?Ce=se.actionData:Ce=null:Be?Ce=_.actionData:Ce=null;let Ae=se.loaderData?Qx(_.loaderData,se.loaderData,se.matches||[],se.errors):_.loaderData,_e=_.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((Ke,Jt)=>_e.set(Jt,Il)));let Oe=R===!0||_.navigation.formMethod!=null&&kn(_.navigation.formMethod)&&((Se=Z.state)==null?void 0:Se._isRedirect)!==!0;a&&(o=a,a=void 0),C||I===At.Pop||(I===At.Push?t.history.push(Z,Z.state):I===At.Replace&&t.history.replace(Z,Z.state));let Ue;if(I===At.Pop){let Ke=M.get(_.location.pathname);Ke&&Ke.has(Z.pathname)?Ue={currentLocation:_.location,nextLocation:Z}:M.has(Z.pathname)&&(Ue={currentLocation:Z,nextLocation:_.location})}else if(ne){let Ke=M.get(_.location.pathname);Ke?Ke.add(Z.pathname):(Ke=new Set([Z.pathname]),M.set(_.location.pathname,Ke)),Ue={currentLocation:_.location,nextLocation:Z}}j(dt({},se,{actionData:Ce,loaderData:Ae,historyAction:I,location:Z,initialized:!0,navigation:bm,revalidation:"idle",restoreScrollPosition:eS(Z,se.matches||_.matches),preventScrollReset:Oe,blockers:_e}),{viewTransitionOpts:Ue,flushSync:Ie===!0}),I=At.Pop,R=!1,ne=!1,C=!1,G=!1,ie=[]}async function k(Z,se){if(typeof Z=="number"){t.history.go(Z);return}let ue=ov(_.location,_.matches,l,d.v7_prependBasename,Z,d.v7_relativeSplatPath,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:ye,submission:Se,error:Ie}=Hx(d.v7_normalizeFormMethod,!1,ue,se),Be=_.location,Ce=Ju(_.location,ye,se&&se.state);Ce=dt({},Ce,t.history.encodeLocation(Ce));let Ae=se&&se.replace!=null?se.replace:void 0,_e=At.Push;Ae===!0?_e=At.Replace:Ae===!1||Se!=null&&kn(Se.formMethod)&&Se.formAction===_.location.pathname+_.location.search&&(_e=At.Replace);let Oe=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,Ue=(se&&se.flushSync)===!0,Ke=zc({currentLocation:Be,nextLocation:Ce,historyAction:_e});if(Ke){Bo(Ke,{state:"blocked",location:Ce,proceed(){Bo(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),k(Z,se)},reset(){let Jt=new Map(_.blockers);Jt.set(Ke,Il),j({blockers:Jt})}});return}return await P(_e,Ce,{submission:Se,pendingError:Ie,preventScrollReset:Oe,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:Ue})}function oe(){if(ke(),j({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){P(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}P(I||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:ne===!0})}}async function P(Z,se,ue){F&&F.abort(),F=null,I=Z,C=(ue&&ue.startUninterruptedRevalidation)===!0,lD(_.location,_.matches),R=(ue&&ue.preventScrollReset)===!0,ne=(ue&&ue.enableViewTransition)===!0;let ye=a||o,Se=ue&&ue.overrideNavigation,Ie=ue!=null&&ue.initialHydration&&_.matches&&_.matches.length>0&&!v?_.matches:Ks(ye,se,l),Be=(ue&&ue.flushSync)===!0;if(Ie&&_.initialized&&!G&&n6(_.location,se)&&!(ue&&ue.submission&&kn(ue.submission.formMethod))){re(se,{matches:Ie},{flushSync:Be});return}let Ce=Vc(Ie,ye,se.pathname);if(Ce.active&&Ce.matches&&(Ie=Ce.matches),!Ie){let{error:it,notFoundMatches:Ye,route:wt}=Fo(se.pathname);re(se,{matches:Ye,loaderData:{},errors:{[wt.id]:it}},{flushSync:Be});return}F=new AbortController;let Ae=Xo(t.history,se,F.signal,ue&&ue.submission),_e;if(ue&&ue.pendingError)_e=[Gs(Ie).route.id,{type:et.error,error:ue.pendingError}];else if(ue&&ue.submission&&kn(ue.submission.formMethod)){let it=await S(Ae,se,ue.submission,Ie,Ce.active,{replace:ue.replace,flushSync:Be});if(it.shortCircuited)return;if(it.pendingActionResult){let[Ye,wt]=it.pendingActionResult;if(Br(wt)&&Xu(wt.error)&&wt.error.status===404){F=null,re(se,{matches:it.matches,loaderData:{},errors:{[Ye]:wt.error}});return}}Ie=it.matches||Ie,_e=it.pendingActionResult,Se=Sm(se,ue.submission),Be=!1,Ce.active=!1,Ae=Xo(t.history,Ae.url,Ae.signal)}let{shortCircuited:Oe,matches:Ue,loaderData:Ke,errors:Jt}=await x(Ae,se,Ie,Ce.active,Se,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,Be,_e);Oe||(F=null,re(se,dt({matches:Ue||Ie},Zx(_e),{loaderData:Ke,errors:Jt})))}async function S(Z,se,ue,ye,Se,Ie){Ie===void 0&&(Ie={}),ke();let Be=u6(se,ue);if(j({navigation:Be},{flushSync:Ie.flushSync===!0}),Se){let _e=await $c(ye,se.pathname,Z.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let Oe=Gs(_e.partialMatches).route.id;return{matches:_e.partialMatches,pendingActionResult:[Oe,{type:et.error,error:_e.error}]}}else if(_e.matches)ye=_e.matches;else{let{notFoundMatches:Oe,error:Ue,route:Ke}=Fo(se.pathname);return{matches:Oe,pendingActionResult:[Ke.id,{type:et.error,error:Ue}]}}}let Ce,Ae=Jl(ye,se);if(!Ae.route.action&&!Ae.route.lazy)Ce={type:et.error,error:Er(405,{method:Z.method,pathname:se.pathname,routeId:Ae.route.id})};else if(Ce=(await de("action",_,Z,[Ae],ye,null))[Ae.route.id],Z.signal.aborted)return{shortCircuited:!0};if(to(Ce)){let _e;return Ie&&Ie.replace!=null?_e=Ie.replace:_e=Jx(Ce.response.headers.get("Location"),new URL(Z.url),l)===_.location.pathname+_.location.search,await he(Z,Ce,!0,{submission:ue,replace:_e}),{shortCircuited:!0}}if(Ji(Ce))throw Er(400,{type:"defer-action"});if(Br(Ce)){let _e=Gs(ye,Ae.route.id);return(Ie&&Ie.replace)!==!0&&(I=At.Push),{matches:ye,pendingActionResult:[_e.route.id,Ce]}}return{matches:ye,pendingActionResult:[Ae.route.id,Ce]}}async function x(Z,se,ue,ye,Se,Ie,Be,Ce,Ae,_e,Oe){let Ue=Se||Sm(se,Ie),Ke=Ie||Be||rE(Ue),Jt=!C&&(!d.v7_partialHydration||!Ae);if(ye){if(Jt){let bt=T(Oe);j(dt({navigation:Ue},bt!==void 0?{actionData:bt}:{}),{flushSync:_e})}let Xe=await $c(ue,se.pathname,Z.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let bt=Gs(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[bt]:Xe.error}}}else if(Xe.matches)ue=Xe.matches;else{let{error:bt,notFoundMatches:Vo,route:_l}=Fo(se.pathname);return{matches:Vo,loaderData:{},errors:{[_l.id]:bt}}}}let it=a||o,[Ye,wt]=qx(t.history,_,ue,Ke,se,d.v7_partialHydration&&Ae===!0,d.v7_skipActionErrorRevalidation,G,ie,$,ae,Q,D,it,l,Oe);if(Zn(Xe=>!(ue&&ue.some(bt=>bt.route.id===Xe))||Ye&&Ye.some(bt=>bt.route.id===Xe)),le=++Y,Ye.length===0&&wt.length===0){let Xe=jo();return re(se,dt({matches:ue,loaderData:{},errors:Oe&&Br(Oe[1])?{[Oe[0]]:Oe[1].error}:null},Zx(Oe),Xe?{fetchers:new Map(_.fetchers)}:{}),{flushSync:_e}),{shortCircuited:!0}}if(Jt){let Xe={};if(!ye){Xe.navigation=Ue;let bt=T(Oe);bt!==void 0&&(Xe.actionData=bt)}wt.length>0&&(Xe.fetchers=z(wt)),j(Xe,{flushSync:_e})}wt.forEach(Xe=>{Ze(Xe.key),Xe.controller&&K.set(Xe.key,Xe.controller)});let zo=()=>wt.forEach(Xe=>Ze(Xe.key));F&&F.signal.addEventListener("abort",zo);let{loaderResults:xl,fetcherResults:ei}=await be(_,ue,Ye,wt,Z);if(Z.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",zo),wt.forEach(Xe=>K.delete(Xe.key));let Nn=vd(xl);if(Nn)return await he(Z,Nn.result,!0,{replace:Ce}),{shortCircuited:!0};if(Nn=vd(ei),Nn)return D.add(Nn.key),await he(Z,Nn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:jp,errors:El}=Yx(_,ue,xl,Oe,wt,ei,J);J.forEach((Xe,bt)=>{Xe.subscribe(Vo=>{(Vo||Xe.done)&&J.delete(bt)})}),d.v7_partialHydration&&Ae&&_.errors&&(El=dt({},_.errors,El));let Ns=jo(),Hc=Jr(le),Wc=Ns||Hc||wt.length>0;return dt({matches:ue,loaderData:jp,errors:El},Wc?{fetchers:new Map(_.fetchers)}:{})}function T(Z){if(Z&&!Br(Z[1]))return{[Z[0]]:Z[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function z(Z){return Z.forEach(se=>{let ue=_.fetchers.get(se.key),ye=Ml(void 0,ue?ue.data:void 0);_.fetchers.set(se.key,ye)}),new Map(_.fetchers)}function X(Z,se,ue,ye){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ze(Z);let Se=(ye&&ye.flushSync)===!0,Ie=a||o,Be=ov(_.location,_.matches,l,d.v7_prependBasename,ue,d.v7_relativeSplatPath,se,ye==null?void 0:ye.relative),Ce=Ks(Ie,Be,l),Ae=Vc(Ce,Ie,Be);if(Ae.active&&Ae.matches&&(Ce=Ae.matches),!Ce){at(Z,se,Er(404,{pathname:Be}),{flushSync:Se});return}let{path:_e,submission:Oe,error:Ue}=Hx(d.v7_normalizeFormMethod,!0,Be,ye);if(Ue){at(Z,se,Ue,{flushSync:Se});return}let Ke=Jl(Ce,_e),Jt=(ye&&ye.preventScrollReset)===!0;if(Oe&&kn(Oe.formMethod)){H(Z,se,_e,Ke,Ce,Ae.active,Se,Jt,Oe);return}Q.set(Z,{routeId:se,path:_e}),ce(Z,se,_e,Ke,Ce,Ae.active,Se,Jt,Oe)}async function H(Z,se,ue,ye,Se,Ie,Be,Ce,Ae){ke(),Q.delete(Z);function _e(Nt){if(!Nt.route.action&&!Nt.route.lazy){let $o=Er(405,{method:Ae.formMethod,pathname:ue,routeId:se});return at(Z,se,$o,{flushSync:Be}),!0}return!1}if(!Ie&&_e(ye))return;let Oe=_.fetchers.get(Z);Ne(Z,c6(Ae,Oe),{flushSync:Be});let Ue=new AbortController,Ke=Xo(t.history,ue,Ue.signal,Ae);if(Ie){let Nt=await $c(Se,new URL(Ke.url).pathname,Ke.signal,Z);if(Nt.type==="aborted")return;if(Nt.type==="error"){at(Z,se,Nt.error,{flushSync:Be});return}else if(Nt.matches){if(Se=Nt.matches,ye=Jl(Se,ue),_e(ye))return}else{at(Z,se,Er(404,{pathname:ue}),{flushSync:Be});return}}K.set(Z,Ue);let Jt=Y,Ye=(await de("action",_,Ke,[ye],Se,Z))[ye.route.id];if(Ke.signal.aborted){K.get(Z)===Ue&&K.delete(Z);return}if(d.v7_fetcherPersist&&ae.has(Z)){if(to(Ye)||Br(Ye)){Ne(Z,Mi(void 0));return}}else{if(to(Ye))if(K.delete(Z),le>Jt){Ne(Z,Mi(void 0));return}else return D.add(Z),Ne(Z,Ml(Ae)),he(Ke,Ye,!1,{fetcherSubmission:Ae,preventScrollReset:Ce});if(Br(Ye)){at(Z,se,Ye.error);return}}if(Ji(Ye))throw Er(400,{type:"defer-action"});let wt=_.navigation.location||_.location,zo=Xo(t.history,wt,Ue.signal),xl=a||o,ei=_.navigation.state!=="idle"?Ks(xl,_.navigation.location,l):_.matches;ze(ei,"Didn't find any matches after fetcher action");let Nn=++Y;q.set(Z,Nn);let jp=Ml(Ae,Ye.data);_.fetchers.set(Z,jp);let[El,Ns]=qx(t.history,_,ei,Ae,wt,!1,d.v7_skipActionErrorRevalidation,G,ie,$,ae,Q,D,xl,l,[ye.route.id,Ye]);Ns.filter(Nt=>Nt.key!==Z).forEach(Nt=>{let $o=Nt.key,tS=_.fetchers.get($o),dD=Ml(void 0,tS?tS.data:void 0);_.fetchers.set($o,dD),Ze($o),Nt.controller&&K.set($o,Nt.controller)}),j({fetchers:new Map(_.fetchers)});let Hc=()=>Ns.forEach(Nt=>Ze(Nt.key));Ue.signal.addEventListener("abort",Hc);let{loaderResults:Wc,fetcherResults:Xe}=await be(_,ei,El,Ns,zo);if(Ue.signal.aborted)return;Ue.signal.removeEventListener("abort",Hc),q.delete(Z),K.delete(Z),Ns.forEach(Nt=>K.delete(Nt.key));let bt=vd(Wc);if(bt)return he(zo,bt.result,!1,{preventScrollReset:Ce});if(bt=vd(Xe),bt)return D.add(bt.key),he(zo,bt.result,!1,{preventScrollReset:Ce});let{loaderData:Vo,errors:_l}=Yx(_,ei,Wc,void 0,Ns,Xe,J);if(_.fetchers.has(Z)){let Nt=Mi(Ye.data);_.fetchers.set(Z,Nt)}Jr(Nn),_.navigation.state==="loading"&&Nn>le?(ze(I,"Expected pending action"),F&&F.abort(),re(_.navigation.location,{matches:ei,loaderData:Vo,errors:_l,fetchers:new Map(_.fetchers)})):(j({errors:_l,loaderData:Qx(_.loaderData,Vo,ei,_l),fetchers:new Map(_.fetchers)}),G=!1)}async function ce(Z,se,ue,ye,Se,Ie,Be,Ce,Ae){let _e=_.fetchers.get(Z);Ne(Z,Ml(Ae,_e?_e.data:void 0),{flushSync:Be});let Oe=new AbortController,Ue=Xo(t.history,ue,Oe.signal);if(Ie){let Ye=await $c(Se,new URL(Ue.url).pathname,Ue.signal,Z);if(Ye.type==="aborted")return;if(Ye.type==="error"){at(Z,se,Ye.error,{flushSync:Be});return}else if(Ye.matches)Se=Ye.matches,ye=Jl(Se,ue);else{at(Z,se,Er(404,{pathname:ue}),{flushSync:Be});return}}K.set(Z,Oe);let Ke=Y,it=(await de("loader",_,Ue,[ye],Se,Z))[ye.route.id];if(Ji(it)&&(it=await S1(it,Ue.signal,!0)||it),K.get(Z)===Oe&&K.delete(Z),!Ue.signal.aborted){if(ae.has(Z)){Ne(Z,Mi(void 0));return}if(to(it))if(le>Ke){Ne(Z,Mi(void 0));return}else{D.add(Z),await he(Ue,it,!1,{preventScrollReset:Ce});return}if(Br(it)){at(Z,se,it.error);return}ze(!Ji(it),"Unhandled fetcher deferred data"),Ne(Z,Mi(it.data))}}async function he(Z,se,ue,ye){let{submission:Se,fetcherSubmission:Ie,preventScrollReset:Be,replace:Ce}=ye===void 0?{}:ye;se.response.headers.has("X-Remix-Revalidate")&&(G=!0);let Ae=se.response.headers.get("Location");ze(Ae,"Expected a Location header on the redirect Response"),Ae=Jx(Ae,new URL(Z.url),l);let _e=Ju(_.location,Ae,{_isRedirect:!0});if(r){let Ye=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Ye=!0;else if(b1.test(Ae)){const wt=t.history.createURL(Ae);Ye=wt.origin!==e.location.origin||ml(wt.pathname,l)==null}if(Ye){Ce?e.location.replace(Ae):e.location.assign(Ae);return}}F=null;let Oe=Ce===!0||se.response.headers.has("X-Remix-Replace")?At.Replace:At.Push,{formMethod:Ue,formAction:Ke,formEncType:Jt}=_.navigation;!Se&&!Ie&&Ue&&Ke&&Jt&&(Se=rE(_.navigation));let it=Se||Ie;if(H4.has(se.response.status)&&it&&kn(it.formMethod))await P(Oe,_e,{submission:dt({},it,{formAction:Ae}),preventScrollReset:Be||R,enableViewTransition:ue?ne:void 0});else{let Ye=Sm(_e,Se);await P(Oe,_e,{overrideNavigation:Ye,fetcherSubmission:Ie,preventScrollReset:Be||R,enableViewTransition:ue?ne:void 0})}}async function de(Z,se,ue,ye,Se,Ie){let Be,Ce={};try{Be=await Q4(u,Z,se,ue,ye,Se,Ie,s,i)}catch(Ae){return ye.forEach(_e=>{Ce[_e.route.id]={type:et.error,error:Ae}}),Ce}for(let[Ae,_e]of Object.entries(Be))if(i6(_e)){let Oe=_e.result;Ce[Ae]={type:et.redirect,response:t6(Oe,ue,Ae,Se,l,d.v7_relativeSplatPath)}}else Ce[Ae]=await e6(_e);return Ce}async function be(Z,se,ue,ye,Se){let Ie=Z.matches,Be=de("loader",Z,Se,ue,se,null),Ce=Promise.all(ye.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.controller){let Ke=(await de("loader",Z,Xo(t.history,Oe.path,Oe.controller.signal),[Oe.match],Oe.matches,Oe.key))[Oe.match.route.id];return{[Oe.key]:Ke}}else return Promise.resolve({[Oe.key]:{type:et.error,error:Er(404,{pathname:Oe.path})}})})),Ae=await Be,_e=(await Ce).reduce((Oe,Ue)=>Object.assign(Oe,Ue),{});return await Promise.all([a6(se,Ae,Se.signal,Ie,Z.loaderData),l6(se,_e,ye)]),{loaderResults:Ae,fetcherResults:_e}}function ke(){G=!0,ie.push(...Zn()),Q.forEach((Z,se)=>{K.has(se)&&$.add(se),Ze(se)})}function Ne(Z,se,ue){ue===void 0&&(ue={}),_.fetchers.set(Z,se),j({fetchers:new Map(_.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function at(Z,se,ue,ye){ye===void 0&&(ye={});let Se=Gs(_.matches,se);fr(Z),j({errors:{[Se.route.id]:ue},fetchers:new Map(_.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function gn(Z){return te.set(Z,(te.get(Z)||0)+1),ae.has(Z)&&ae.delete(Z),_.fetchers.get(Z)||W4}function fr(Z){let se=_.fetchers.get(Z);K.has(Z)&&!(se&&se.state==="loading"&&q.has(Z))&&Ze(Z),Q.delete(Z),q.delete(Z),D.delete(Z),d.v7_fetcherPersist&&ae.delete(Z),$.delete(Z),_.fetchers.delete(Z)}function Os(Z){let se=(te.get(Z)||0)-1;se<=0?(te.delete(Z),ae.add(Z),d.v7_fetcherPersist||fr(Z)):te.set(Z,se),j({fetchers:new Map(_.fetchers)})}function Ze(Z){let se=K.get(Z);se&&(se.abort(),K.delete(Z))}function Ps(Z){for(let se of Z){let ue=gn(se),ye=Mi(ue.data);_.fetchers.set(se,ye)}}function jo(){let Z=[],se=!1;for(let ue of D){let ye=_.fetchers.get(ue);ze(ye,"Expected fetcher: "+ue),ye.state==="loading"&&(D.delete(ue),Z.push(ue),se=!0)}return Ps(Z),se}function Jr(Z){let se=[];for(let[ue,ye]of q)if(ye<Z){let Se=_.fetchers.get(ue);ze(Se,"Expected fetcher: "+ue),Se.state==="loading"&&(Ze(ue),q.delete(ue),se.push(ue))}return Ps(se),se.length>0}function Fc(Z,se){let ue=_.blockers.get(Z)||Il;return O.get(Z)!==se&&O.set(Z,se),ue}function Uc(Z){_.blockers.delete(Z),O.delete(Z)}function Bo(Z,se){let ue=_.blockers.get(Z)||Il;ze(ue.state==="unblocked"&&se.state==="blocked"||ue.state==="blocked"&&se.state==="blocked"||ue.state==="blocked"&&se.state==="proceeding"||ue.state==="blocked"&&se.state==="unblocked"||ue.state==="proceeding"&&se.state==="unblocked","Invalid blocker state transition: "+ue.state+" -> "+se.state);let ye=new Map(_.blockers);ye.set(Z,se),j({blockers:ye})}function zc(Z){let{currentLocation:se,nextLocation:ue,historyAction:ye}=Z;if(O.size===0)return;O.size>1&&ko(!1,"A router only supports one blocker at a time");let Se=Array.from(O.entries()),[Ie,Be]=Se[Se.length-1],Ce=_.blockers.get(Ie);if(!(Ce&&Ce.state==="proceeding")&&Be({currentLocation:se,nextLocation:ue,historyAction:ye}))return Ie}function Fo(Z){let se=Er(404,{pathname:Z}),ue=a||o,{matches:ye,route:Se}=eE(ue);return Zn(),{notFoundMatches:ye,route:Se,error:se}}function Zn(Z){let se=[];return J.forEach((ue,ye)=>{(!Z||Z(ye))&&(ue.cancel(),se.push(ye),J.delete(ye))}),se}function Uo(Z,se,ue){if(p=Z,w=se,g=ue||null,!m&&_.navigation===bm){m=!0;let ye=eS(_.location,_.matches);ye!=null&&j({restoreScrollPosition:ye})}return()=>{p=null,w=null,g=null}}function Zb(Z,se){return g&&g(Z,se.map(ye=>S4(ye,_.loaderData)))||Z.key}function lD(Z,se){if(p&&w){let ue=Zb(Z,se);p[ue]=w()}}function eS(Z,se){if(p){let ue=Zb(Z,se),ye=p[ue];if(typeof ye=="number")return ye}return null}function Vc(Z,se,ue){if(c)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:nh(se,ue,l,!0)}}else return{active:!0,matches:nh(se,ue,l,!0)||[]};return{active:!1,matches:null}}async function $c(Z,se,ue,ye){if(!c)return{type:"success",matches:Z};let Se=Z;for(;;){let Ie=a==null,Be=a||o,Ce=s;try{await c({signal:ue,path:se,matches:Se,fetcherKey:ye,patch:(Oe,Ue)=>{ue.aborted||Gx(Oe,Ue,Be,Ce,i)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:Se}}finally{Ie&&!ue.aborted&&(o=[...o])}if(ue.aborted)return{type:"aborted"};let Ae=Ks(Be,se,l);if(Ae)return{type:"success",matches:Ae};let _e=nh(Be,se,l,!0);if(!_e||Se.length===_e.length&&Se.every((Oe,Ue)=>Oe.route.id===_e[Ue].route.id))return{type:"success",matches:null};Se=_e}}function uD(Z){s={},a=$h(Z,i,void 0,s)}function cD(Z,se){let ue=a==null;Gx(Z,se,a||o,s,i),ue&&(o=[...o],j({}))}return N={get basename(){return l},get future(){return d},get state(){return _},get routes(){return o},get window(){return e},initialize:W,subscribe:L,enableScrollRestoration:Uo,navigate:k,fetch:X,revalidate:oe,createHref:Z=>t.history.createHref(Z),encodeLocation:Z=>t.history.encodeLocation(Z),getFetcher:gn,deleteFetcher:Os,dispose:V,getBlocker:Fc,deleteBlocker:Uc,patchRoutes:cD,_internalFetchControllers:K,_internalActiveDeferreds:J,_internalSetRoutes:uD},N}function G4(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ov(t,e,r,n,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=ip(i||".",np(l,s),ml(t.pathname,r)||t.pathname,a==="path");if(i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u){let d=x1(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(c.search),f=h.getAll("index");h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let p=h.toString();c.search=p?"?"+p:""}}return n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:yi([r,c.pathname])),To(c)}function Hx(t,e,r,n){if(!n||!G4(n))return{path:r};if(n.formMethod&&!o6(n.formMethod))return{path:r,error:Er(405,{method:n.formMethod})};let i=()=>({path:r,error:Er(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=EP(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!kn(o))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,p)=>{let[g,w]=p;return""+f+g+"="+w+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!kn(o))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}ze(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=lv(n.formData),u=n.formData;else if(n.body instanceof FormData)l=lv(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Xx(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Xx(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(kn(c.formMethod))return{path:r,submission:c};let d=Ci(r);return e&&d.search&&x1(d.search)&&l.append("index",""),d.search="?"+l,{path:To(d),submission:c}}function Wx(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function qx(t,e,r,n,i,s,o,a,l,u,c,d,h,f,p,g){let w=g?Br(g[1])?g[1].error:g[1].data:void 0,m=t.createURL(e.location),y=t.createURL(i),v=r;s&&e.errors?v=Wx(r,Object.keys(e.errors)[0],!0):g&&Br(g[1])&&(v=Wx(r,g[0]));let b=g?g[1].statusCode:void 0,E=o&&b&&b>=400,N=v.filter((I,R)=>{let{route:F}=I;if(F.lazy)return!0;if(F.loader==null)return!1;if(s)return av(F,e.loaderData,e.errors);if(J4(e.loaderData,e.matches[R],I)||l.some(U=>U===I.route.id))return!0;let ne=e.matches[R],M=I;return Kx(I,dt({currentUrl:m,currentParams:ne.params,nextUrl:y,nextParams:M.params},n,{actionResult:w,actionStatus:b,defaultShouldRevalidate:E?!1:a||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||SP(ne,M)}))}),_=[];return d.forEach((I,R)=>{if(s||!r.some(C=>C.route.id===I.routeId)||c.has(R))return;let F=Ks(f,I.path,p);if(!F){_.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let ne=e.fetchers.get(R),M=Jl(F,I.path),U=!1;h.has(R)?U=!1:u.has(R)?(u.delete(R),U=!0):ne&&ne.state!=="idle"&&ne.data===void 0?U=a:U=Kx(M,dt({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:r[r.length-1].params},n,{actionResult:w,actionStatus:b,defaultShouldRevalidate:E?!1:a})),U&&_.push({key:R,routeId:I.routeId,path:I.path,matches:F,match:M,controller:new AbortController})}),[N,_]}function av(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function J4(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function SP(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Kx(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function Gx(t,e,r,n,i){var s;let o;if(t){let u=n[t];ze(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=r;let a=e.filter(u=>!o.some(c=>xP(u,c))),l=$h(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],n);o.push(...l)}function xP(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(s=>xP(r,s))}):!1}async function X4(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];ze(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ko(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!w4.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,dt({},e(i),{lazy:void 0}))}async function Y4(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[r[o].route.id]:s}),{})}async function Q4(t,e,r,n,i,s,o,a,l,u){let c=s.map(f=>f.route.lazy?X4(f.route,l,a):void 0),d=s.map((f,p)=>{let g=c[p],w=i.some(y=>y.route.id===f.route.id);return dt({},f,{shouldLoad:w,resolve:async y=>(y&&n.method==="GET"&&(f.route.lazy||f.route.loader)&&(w=!0),w?Z4(e,n,f,g,y,u):Promise.resolve({type:et.data,result:void 0}))})}),h=await t({matches:d,request:n,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return h}async function Z4(t,e,r,n,i,s){let o,a,l=u=>{let c,d=new Promise((p,g)=>c=g);a=()=>c(),e.signal.addEventListener("abort",a);let h=p=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):u({request:e,params:r.params,context:s},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,d])};try{let u=r.route[t];if(n)if(u){let c,[d]=await Promise.all([l(u).catch(h=>{c=h}),n]);if(c!==void 0)throw c;o=d}else if(await n,u=r.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),d=c.pathname+c.search;throw Er(405,{method:e.method,pathname:d,routeId:r.route.id})}else return{type:et.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),d=c.pathname+c.search;throw Er(404,{pathname:d})}ze(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:et.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function e6(t){let{result:e,type:r}=t;if(_P(e)){let d;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(h){return{type:et.error,error:h}}return r===et.error?{type:et.error,error:new Hh(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:et.data,data:d,statusCode:e.status,headers:e.headers}}if(r===et.error){if(tE(e)){var n,i;if(e.data instanceof Error){var s,o;return{type:et.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:et.error,error:new Hh(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:Xu(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:et.error,error:e,statusCode:Xu(e)?e.status:void 0}}if(s6(e)){var a,l;return{type:et.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(tE(e)){var u,c;return{type:et.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:et.data,data:e}}function t6(t,e,r,n,i,s){let o=t.headers.get("Location");if(ze(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!b1.test(o)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=ov(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Jx(t,e,r){if(b1.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=ml(i.pathname,r)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Xo(t,e,r,n){let i=t.createURL(EP(e)).toString(),s={signal:r};if(n&&kn(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=lv(n.formData):s.body=n.formData}return new Request(i,s)}function lv(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function Xx(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function r6(t,e,r,n,i){let s={},o=null,a,l=!1,u={},c=r&&Br(r[1])?r[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(ze(!to(f),"Cannot handle redirect results in processLoaderData"),Br(f)){let p=f.error;c!==void 0&&(p=c,c=void 0),o=o||{};{let g=Gs(t,h);o[g.route.id]==null&&(o[g.route.id]=p)}s[h]=void 0,l||(l=!0,a=Xu(f.error)?f.error.status:500),f.headers&&(u[h]=f.headers)}else Ji(f)?(n.set(h,f.deferredData),s[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[h]=f.headers)):(s[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[h]=f.headers))}),c!==void 0&&r&&(o={[r[0]]:c},s[r[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Yx(t,e,r,n,i,s,o){let{loaderData:a,errors:l}=r6(e,r,n,o);return i.forEach(u=>{let{key:c,match:d,controller:h}=u,f=s[c];if(ze(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Br(f)){let p=Gs(t.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=dt({},l,{[p.route.id]:f.error})),t.fetchers.delete(c)}else if(to(f))ze(!1,"Unhandled fetcher revalidation redirect");else if(Ji(f))ze(!1,"Unhandled fetcher deferred data");else{let p=Mi(f.data);t.fetchers.set(c,p)}}),{loaderData:a,errors:l}}function Qx(t,e,r,n){let i=dt({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Zx(t){return t?Br(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Gs(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function eE(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Er(t,e){let{pathname:r,routeId:n,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Hh(t||500,a,new Error(l),!0)}function vd(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(to(i))return{key:n,result:i}}}function EP(t){let e=typeof t=="string"?Ci(t):t;return To(dt({},e,{hash:""}))}function n6(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function i6(t){return _P(t.result)&&$4.has(t.result.status)}function Ji(t){return t.type===et.deferred}function Br(t){return t.type===et.error}function to(t){return(t&&t.type)===et.redirect}function tE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function s6(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function _P(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function o6(t){return V4.has(t.toLowerCase())}function kn(t){return U4.has(t.toLowerCase())}async function a6(t,e,r,n,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(h=>(h==null?void 0:h.route.id)===a);if(!u)continue;let c=n.find(h=>h.route.id===u.route.id),d=c!=null&&!SP(c,u)&&(i&&i[u.route.id])!==void 0;Ji(l)&&d&&await S1(l,r,!1).then(h=>{h&&(e[a]=h)})}}async function l6(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:s,controller:o}=r[n],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&Ji(a)&&(ze(o,"Expected an AbortController for revalidating fetcher deferred result"),await S1(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function S1(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:et.data,data:t.deferredData.unwrappedData}}catch(i){return{type:et.error,error:i}}return{type:et.data,data:t.deferredData.data}}}function x1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Jl(t,e){let r=typeof e=="string"?Ci(e).search:e.search;if(t[t.length-1].route.index&&x1(r||""))return t[t.length-1];let n=vP(t);return n[n.length-1]}function rE(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Sm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function u6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ml(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function c6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Mi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function d6(t,e){try{let r=t.sessionStorage.getItem(bP);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function h6(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(bP,JSON.stringify(r))}catch(n){ko(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yu.apply(this,arguments)}const sp=ee.createContext(null),kP=ee.createContext(null),xs=ee.createContext(null),op=ee.createContext(null),Es=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),TP=ee.createContext(null);function f6(t,e){let{relative:r}=e===void 0?{}:e;gl()||ze(!1);let{basename:n,navigator:i}=ee.useContext(xs),{hash:s,pathname:o,search:a}=AP(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:yi([n,o])),i.createHref({pathname:l,search:a,hash:s})}function gl(){return ee.useContext(op)!=null}function kc(){return gl()||ze(!1),ee.useContext(op).location}function CP(t){ee.useContext(xs).static||ee.useLayoutEffect(t)}function Tc(){let{isDataRoute:t}=ee.useContext(Es);return t?k6():p6()}function p6(){gl()||ze(!1);let t=ee.useContext(sp),{basename:e,future:r,navigator:n}=ee.useContext(xs),{matches:i}=ee.useContext(Es),{pathname:s}=kc(),o=JSON.stringify(np(i,r.v7_relativeSplatPath)),a=ee.useRef(!1);return CP(()=>{a.current=!0}),ee.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=ip(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:yi([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,s,t])}function AP(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ee.useContext(xs),{matches:i}=ee.useContext(Es),{pathname:s}=kc(),o=JSON.stringify(np(i,n.v7_relativeSplatPath));return ee.useMemo(()=>ip(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function m6(t,e){return RP(t,e)}function RP(t,e,r,n){gl()||ze(!1);let{navigator:i}=ee.useContext(xs),{matches:s}=ee.useContext(Es),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=kc(),c;if(e){var d;let w=typeof e=="string"?Ci(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||ze(!1),c=w}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=Ks(t,{pathname:f}),g=b6(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:yi([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:yi([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&g?ee.createElement(op.Provider,{value:{location:Yu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:At.Pop}},g):g}function g6(){let t=_6(),e=Xu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),r?ee.createElement("pre",{style:i},r):null,null)}const y6=ee.createElement(g6,null);class v6 extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ee.createElement(Es.Provider,{value:this.props.routeContext},ee.createElement(TP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w6(t){let{routeContext:e,match:r,children:n}=t,i=ee.useContext(sp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ee.createElement(Es.Provider,{value:e},n)}function b6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||ze(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,g=null,w=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||y6,l&&(u<0&&h===0?(T6("route-fallback"),p=!0,w=null):u===h&&(p=!0,w=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),y=()=>{let v;return f?v=g:p?v=w:d.route.Component?v=ee.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,ee.createElement(w6,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?ee.createElement(v6,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var OP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OP||{}),PP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PP||{});function S6(t){let e=ee.useContext(sp);return e||ze(!1),e}function x6(t){let e=ee.useContext(kP);return e||ze(!1),e}function E6(t){let e=ee.useContext(Es);return e||ze(!1),e}function NP(t){let e=E6(),r=e.matches[e.matches.length-1];return r.route.id||ze(!1),r.route.id}function _6(){var t;let e=ee.useContext(TP),r=x6(PP.UseRouteError),n=NP();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function k6(){let{router:t}=S6(OP.UseNavigateStable),e=NP(),r=ee.useRef(!1);return CP(()=>{r.current=!0}),ee.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yu({fromRouteId:e},s)))},[t,e])}const nE={};function T6(t,e,r){nE[t]||(nE[t]=!0)}function C6(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function iE(t){let{to:e,replace:r,state:n,relative:i}=t;gl()||ze(!1);let{future:s,static:o}=ee.useContext(xs),{matches:a}=ee.useContext(Es),{pathname:l}=kc(),u=Tc(),c=ip(e,np(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return ee.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function na(t){ze(!1)}function A6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=At.Pop,navigator:s,static:o=!1,future:a}=t;gl()&&ze(!1);let l=e.replace(/^\/*/,"/"),u=ee.useMemo(()=>({basename:l,navigator:s,static:o,future:Yu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Ci(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,g=ee.useMemo(()=>{let w=ml(c,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:ee.createElement(xs.Provider,{value:u},ee.createElement(op.Provider,{children:r,value:g}))}function R6(t){let{children:e,location:r}=t;return m6(uv(e),r)}new Promise(()=>{});function uv(t,e){e===void 0&&(e=[]);let r=[];return ee.Children.forEach(t,(n,i)=>{if(!ee.isValidElement(n))return;let s=[...e,i];if(n.type===ee.Fragment){r.push.apply(r,uv(n.props.children,s));return}n.type!==na&&ze(!1),!n.props.index||!n.props.children||ze(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uv(n.props.children,s)),r.push(o)}),r}function O6(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:ee.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:ee.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:ee.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qu.apply(this,arguments)}function P6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function N6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I6(t,e){return t.button===0&&(!e||e==="_self")&&!N6(t)}const M6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D6="6";try{window.__reactRouterVersion=D6}catch{}function L6(t,e){return K4({basename:void 0,future:Qu({},void 0,{v7_prependBasename:!0}),history:g4({window:void 0}),hydrationData:j6(),routes:t,mapRouteProperties:O6,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function j6(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Qu({},e,{errors:B6(e.errors)})),e}function B6(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Hh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const F6=ee.createContext({isTransitioning:!1}),U6=ee.createContext(new Map),z6="startTransition",sE=OD[z6],V6="flushSync",oE=zL[V6];function $6(t){sE?sE(t):t()}function Dl(t){oE?oE(t):t()}class H6{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function W6(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=ee.useState(r.state),[o,a]=ee.useState(),[l,u]=ee.useState({isTransitioning:!1}),[c,d]=ee.useState(),[h,f]=ee.useState(),[p,g]=ee.useState(),w=ee.useRef(new Map),{v7_startTransition:m}=n||{},y=ee.useCallback(I=>{m?$6(I):I()},[m]),v=ee.useCallback((I,R)=>{let{deletedFetchers:F,flushSync:ne,viewTransitionOpts:M}=R;I.fetchers.forEach((C,G)=>{C.data!==void 0&&w.current.set(G,C.data)}),F.forEach(C=>w.current.delete(C));let U=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!M||U){ne?Dl(()=>s(I)):y(()=>s(I));return}if(ne){Dl(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let C=r.window.document.startViewTransition(()=>{Dl(()=>s(I))});C.finished.finally(()=>{Dl(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),Dl(()=>f(C));return}h?(c&&c.resolve(),h.skipTransition(),g({state:I,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(I),u({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[r.window,h,c,w,y]);ee.useLayoutEffect(()=>r.subscribe(v),[r,v]),ee.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new H6)},[l]),ee.useEffect(()=>{if(c&&o&&r.window){let I=o,R=c.promise,F=r.window.document.startViewTransition(async()=>{y(()=>s(I)),await R});F.finished.finally(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(F)}},[y,o,c,r.window]),ee.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),ee.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),ee.useEffect(()=>{},[]);let b=ee.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:I=>r.navigate(I),push:(I,R,F)=>r.navigate(I,{state:R,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(I,R,F)=>r.navigate(I,{replace:!0,state:R,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[r]),E=r.basename||"/",N=ee.useMemo(()=>({router:r,navigator:b,static:!1,basename:E}),[r,b,E]),_=ee.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return ee.useEffect(()=>C6(n,r.future),[n,r.future]),ee.createElement(ee.Fragment,null,ee.createElement(sp.Provider,{value:N},ee.createElement(kP.Provider,{value:i},ee.createElement(U6.Provider,{value:w.current},ee.createElement(F6.Provider,{value:l},ee.createElement(A6,{basename:E,location:i.location,navigationType:i.historyAction,navigator:b,future:_},i.initialized||r.future.v7_partialHydration?ee.createElement(q6,{routes:r.routes,future:r.future,state:i}):e))))),null)}const q6=ee.memo(K6);function K6(t){let{routes:e,future:r,state:n}=t;return RP(e,void 0,n,r)}const G6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zu=ee.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=P6(e,M6),{basename:f}=ee.useContext(xs),p,g=!1;if(typeof u=="string"&&J6.test(u)&&(p=u,G6))try{let v=new URL(window.location.href),b=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=ml(b.pathname,f);b.origin===v.origin&&E!=null?u=E+b.search+b.hash:g=!0}catch{}let w=f6(u,{relative:i}),m=X6(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function y(v){n&&n(v),v.defaultPrevented||m(v)}return ee.createElement("a",Qu({},h,{href:p||w,onClick:g||s?n:y,ref:r,target:l}))});var aE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aE||(aE={}));var lE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lE||(lE={}));function X6(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Tc(),u=kc(),c=AP(t,{relative:o});return ee.useCallback(d=>{if(I6(d,r)){d.preventDefault();let h=n!==void 0?n:To(u)===To(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}function Y6(){const t=typeof window<"u"?localStorage.getItem("rr.theme"):null,e=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,[r,n]=ee.useState(t?t==="dark":e);return ee.useEffect(()=>{const i=document.documentElement;r?(i.classList.add("dark"),i.classList.remove("light")):(i.classList.add("light"),i.classList.remove("dark")),i.style.colorScheme=r?"dark":"light";try{localStorage.setItem("rr.theme",r?"dark":"light")}catch{}},[r]),B.jsx("header",{className:"sticky top-0 z-50 border-b border-[color:var(--divider)] bg-[color:var(--panel)]/80 backdrop-blur",children:B.jsxs("div",{className:"container flex items-center justify-between py-3",children:[B.jsxs(Zu,{to:"/",className:"flex items-center gap-2 text-foreground",children:[B.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-cyan-400/50 to-indigo-500/30"}),B.jsx("span",{className:"font-semibold tracking-tight",children:"RadReport"})]}),B.jsxs("nav",{className:"hidden items-center gap-6 md:flex",children:[B.jsx("a",{href:"#como-funciona",className:"text-muted hover:text-foreground",children:"Viso geral"}),B.jsx("a",{href:"#servicos",className:"text-muted hover:text-foreground",children:"Servios"}),B.jsx("a",{href:"#precos",className:"text-muted hover:text-foreground",children:"Planos"}),B.jsx("a",{href:"#faq",className:"text-muted hover:text-foreground",children:"FAQ"}),B.jsx("button",{"aria-label":"Alternar tema",className:"rounded-lg border border-white/10 px-3 py-2",onClick:()=>n(i=>!i),children:r?"":""}),B.jsx(Zu,{to:"/login",className:"rounded-lg border border-cyan-400/30 bg-cyan-400/10 px-4 py-2 text-cyan-300 shadow-glow hover:bg-cyan-400/20",children:"Entrar"})]})]})})}function ap({className:t}){return B.jsxs("div",{className:`pointer-events-none absolute inset-0 -z-10 overflow-hidden ${t||""}`,children:[B.jsx("div",{className:"absolute inset-0 rr-animated-gradient opacity-60"}),B.jsx("div",{className:"absolute inset-0 hero-vignette"})]})}function lp({count:t=120,className:e}){const r=ee.useRef(null);return ee.useEffect(()=>{const n=r.current;if(!n)return;const i=Math.max(1,Math.min(2,window.devicePixelRatio||1)),s=n.getContext("2d");let o=n.offsetWidth,a=n.offsetHeight;n.width=o*i,n.height=a*i,s.scale(i,i);const u=document.documentElement.classList.contains("light")?"rgba(2,6,23,0.45)":"rgba(255,255,255,0.5)",c=Array.from({length:t},()=>({x:Math.random()*o,y:Math.random()*a,r:Math.random()*1.5+.2,vx:(Math.random()-.5)*.12,vy:(Math.random()-.5)*.12}));let d=0;const h=()=>{s.clearRect(0,0,o,a),s.fillStyle=u;for(const p of c)p.x+=p.vx,p.y+=p.vy,p.x<-5&&(p.x=o+5),p.x>o+5&&(p.x=-5),p.y<-5&&(p.y=a+5),p.y>a+5&&(p.y=-5),s.beginPath(),s.arc(p.x,p.y,p.r,0,Math.PI*2),s.fill();d=requestAnimationFrame(h)};d=requestAnimationFrame(h);const f=()=>{o=n.offsetWidth,a=n.offsetHeight,n.width=o*i,n.height=a*i,s.scale(i,i)};return window.addEventListener("resize",f),()=>{cancelAnimationFrame(d),window.removeEventListener("resize",f)}},[t]),B.jsxs("div",{className:`pointer-events-none absolute inset-0 -z-10 ${e||""}`,children:[B.jsx("canvas",{ref:r,className:"h-full w-full"}),B.jsx("div",{className:"absolute inset-0 hero-vignette"})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),uE=t=>{const e=Z6(t);return e.charAt(0).toUpperCase()+e.slice(1)},IP=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),eB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>ee.createElement("svg",{ref:l,...tB,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:IP("lucide",i),...!s&&!eB(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>ee.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(t,e)=>{const r=ee.forwardRef(({className:n,...i},s)=>ee.createElement(rB,{ref:s,iconNode:e,className:IP(`lucide-${Q6(uE(t))}`,`lucide-${t}`,n),...i}));return r.displayName=uE(t),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],iB=mn("building",nB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oB=mn("circle-question-mark",sB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],lB=mn("cog",aB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cB=mn("credit-card",uB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],hB=mn("github",dB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pB=mn("history",fB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],gB=mn("instagram",mB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vB=mn("layout-dashboard",yB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],bB=mn("linkedin",wB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xB=mn("log-out",SB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],_B=mn("pen-tool",EB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TB=mn("user",kB);function CB(){return B.jsxs("footer",{className:"relative overflow-hidden border-t border-[color:var(--divider)] bg-[color:var(--panel)]/90 text-foreground",children:[B.jsx("div",{className:"footer-top-glow"}),B.jsx("div",{className:"footer-bar"}),B.jsx(ap,{className:"opacity-30"}),B.jsx(lp,{count:80}),B.jsxs("div",{className:"container relative z-10 grid gap-8 py-10 md:grid-cols-3",children:[B.jsxs("div",{children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-cyan-400/50 to-indigo-500/30"}),B.jsx("h4",{className:"m-0 font-semibold",children:"RadReport"})]}),B.jsx("p",{className:"mt-2 max-w-sm text-sm text-muted",children:"Laudos radiolgicos com IA. Rapidez, padronizao e preciso clnica."})]}),B.jsxs("div",{className:"grid gap-2 text-sm",children:[B.jsx("div",{className:"text-xs tracking-wide text-muted",children:"Produto"}),B.jsx("a",{href:"#servicos",className:"text-muted hover:text-foreground",children:"Servios"}),B.jsx("a",{href:"#precos",className:"text-muted hover:text-foreground",children:"Planos"}),B.jsx("a",{href:"#faq",className:"text-muted hover:text-foreground",children:"FAQ"})]}),B.jsxs("div",{className:"grid gap-3",children:[B.jsx("div",{className:"text-xs tracking-wide text-muted",children:"Contato"}),B.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[B.jsx("a",{"aria-label":"LinkedIn",href:"#",className:"rounded-md border border-[color:var(--divider)] p-2 hover:bg-white/5",children:B.jsx(bB,{size:16})}),B.jsx("a",{"aria-label":"Instagram",href:"#",className:"rounded-md border border-[color:var(--divider)] p-2 hover:bg-white/5",children:B.jsx(gB,{size:16})}),B.jsx("a",{"aria-label":"GitHub",href:"#",className:"rounded-md border border-[color:var(--divider)] p-2 hover:bg-white/5",children:B.jsx(hB,{size:16})})]})]})]}),B.jsxs("div",{className:"relative z-10 border-t border-[color:var(--divider)] py-4 text-center text-xs text-muted",children:[" ",new Date().getFullYear()," RadReport"]})]})}function E1({src:t,className:e}){return B.jsxs("div",{className:`pointer-events-none absolute inset-0 -z-10 ${e||""}`,children:[B.jsx("img",{src:t,alt:"",className:"absolute inset-0 h-full w-full object-cover"}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-transparent html:light:from-white/40 html:light:via-white/20 html:light:to-transparent"}),B.jsx("div",{className:"absolute inset-0 hero-vignette"})]})}const MP=ee.createContext({});function AB(t){const e=ee.useRef(null);return e.current===null&&(e.current=t()),e.current}const _1=typeof window<"u",RB=_1?ee.useLayoutEffect:ee.useEffect,k1=ee.createContext(null);function T1(t,e){t.indexOf(e)===-1&&t.push(e)}function C1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const _i=(t,e,r)=>r>e?e:r<t?t:r;let A1=()=>{};const ki={},DP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LP(t){return typeof t=="object"&&t!==null}const jP=t=>/^0[^.\s]+$/u.test(t);function R1(t){let e;return()=>(e===void 0&&(e=t()),e)}const cn=t=>t,OB=(t,e)=>r=>e(t(r)),Cc=(...t)=>t.reduce(OB),ec=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class O1{constructor(){this.subscriptions=[]}add(e){return T1(this.subscriptions,e),()=>C1(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qn=t=>t*1e3,ln=t=>t/1e3;function BP(t,e){return e?t*(1e3/e):0}const FP=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,PB=1e-7,NB=12;function IB(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=FP(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>PB&&++a<NB);return o}function Ac(t,e,r,n){if(t===e&&r===n)return cn;const i=s=>IB(s,0,1,t,r);return s=>s===0||s===1?s:FP(i(s),e,n)}const UP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zP=t=>e=>1-t(1-e),VP=Ac(.33,1.53,.69,.99),P1=zP(VP),$P=UP(P1),HP=t=>(t*=2)<1?.5*P1(t):.5*(2-Math.pow(2,-10*(t-1))),N1=t=>1-Math.sin(Math.acos(t)),WP=zP(N1),qP=UP(N1),MB=Ac(.42,0,1,1),DB=Ac(0,0,.58,1),KP=Ac(.42,0,.58,1),LB=t=>Array.isArray(t)&&typeof t[0]!="number",GP=t=>Array.isArray(t)&&typeof t[0]=="number",jB={linear:cn,easeIn:MB,easeInOut:KP,easeOut:DB,circIn:N1,circInOut:qP,circOut:WP,backIn:P1,backInOut:$P,backOut:VP,anticipate:HP},BB=t=>typeof t=="string",cE=t=>{if(GP(t)){A1(t.length===4);const[e,r,n,i]=t;return Ac(e,r,n,i)}else if(BB(t))return jB[t];return t},wd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FB(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,d=!1,h=!1)=>{const p=h&&i?r:n;return d&&o.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const UB=40;function JP(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=wd.reduce((v,b)=>(v[b]=FB(s),v),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:f,postRender:p}=o,g=()=>{const v=ki.useManualTiming?i.timestamp:performance.now();r=!1,ki.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(v-i.timestamp,UB),1)),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(g))},w=()=>{r=!0,n=!0,i.isProcessing||t(g)};return{schedule:wd.reduce((v,b)=>{const E=o[b];return v[b]=(N,_=!1,I=!1)=>(r||w(),E.schedule(N,_,I)),v},{}),cancel:v=>{for(let b=0;b<wd.length;b++)o[wd[b]].cancel(v)},state:i,steps:o}}const{schedule:ft,cancel:ms,state:Zt,steps:xm}=JP(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0);let ih;function zB(){ih=void 0}const Ar={now:()=>(ih===void 0&&Ar.set(Zt.isProcessing||ki.useManualTiming?Zt.timestamp:performance.now()),ih),set:t=>{ih=t,queueMicrotask(zB)}},XP=t=>e=>typeof e=="string"&&e.startsWith(t),I1=XP("--"),VB=XP("var(--"),M1=t=>VB(t)?$B.test(t.split("/*")[0].trim()):!1,$B=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tc={...yl,transform:t=>_i(0,1,t)},bd={...yl,default:1},hu=t=>Math.round(t*1e5)/1e5,D1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HB(t){return t==null}const WB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L1=(t,e)=>r=>!!(typeof r=="string"&&WB.test(r)&&r.startsWith(t)||e&&!HB(r)&&Object.prototype.hasOwnProperty.call(r,e)),YP=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(D1);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qB=t=>_i(0,255,t),Em={...yl,transform:t=>Math.round(qB(t))},ro={test:L1("rgb","red"),parse:YP("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Em.transform(t)+", "+Em.transform(e)+", "+Em.transform(r)+", "+hu(tc.transform(n))+")"};function KB(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const cv={test:L1("#"),parse:KB,transform:ro.transform},Rc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Di=Rc("deg"),Kn=Rc("%"),Le=Rc("px"),GB=Rc("vh"),JB=Rc("vw"),dE={...Kn,parse:t=>Kn.parse(t)/100,transform:t=>Kn.transform(t*100)},ba={test:L1("hsl","hue"),parse:YP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Kn.transform(hu(e))+", "+Kn.transform(hu(r))+", "+hu(tc.transform(n))+")"},Mt={test:t=>ro.test(t)||cv.test(t)||ba.test(t),parse:t=>ro.test(t)?ro.parse(t):ba.test(t)?ba.parse(t):cv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ro.transform(t):ba.transform(t),getAnimatableNone:t=>{const e=Mt.parse(t);return e.alpha=0,Mt.transform(e)}},XB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YB(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(D1))==null?void 0:e.length)||0)+(((r=t.match(XB))==null?void 0:r.length)||0)>0}const QP="number",ZP="color",QB="var",ZB="var(",hE="${}",eF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rc(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(eF,l=>(Mt.test(l)?(n.color.push(s),i.push(ZP),r.push(Mt.parse(l))):l.startsWith(ZB)?(n.var.push(s),i.push(QB),r.push(l)):(n.number.push(s),i.push(QP),r.push(parseFloat(l))),++s,hE)).split(hE);return{values:r,split:a,indexes:n,types:i}}function eN(t){return rc(t).values}function tN(t){const{split:e,types:r}=rc(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=r[o];a===QP?s+=hu(i[o]):a===ZP?s+=Mt.transform(i[o]):s+=i[o]}return s}}const tF=t=>typeof t=="number"?0:Mt.test(t)?Mt.getAnimatableNone(t):t;function rF(t){const e=eN(t);return tN(t)(e.map(tF))}const gs={test:YB,parse:eN,createTransformer:tN,getAnimatableNone:rF};function _m(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function nF({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;i=_m(l,a,t+1/3),s=_m(l,a,t),o=_m(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Wh(t,e){return r=>r>0?e:t}const gt=(t,e,r)=>t+(e-t)*r,km=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},iF=[cv,ro,ba],sF=t=>iF.find(e=>e.test(t));function fE(t){const e=sF(t);if(!e)return!1;let r=e.parse(t);return e===ba&&(r=nF(r)),r}const pE=(t,e)=>{const r=fE(t),n=fE(e);if(!r||!n)return Wh(t,e);const i={...r};return s=>(i.red=km(r.red,n.red,s),i.green=km(r.green,n.green,s),i.blue=km(r.blue,n.blue,s),i.alpha=gt(r.alpha,n.alpha,s),ro.transform(i))},dv=new Set(["none","hidden"]);function oF(t,e){return dv.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function aF(t,e){return r=>gt(t,e,r)}function j1(t){return typeof t=="number"?aF:typeof t=="string"?M1(t)?Wh:Mt.test(t)?pE:cF:Array.isArray(t)?rN:typeof t=="object"?Mt.test(t)?pE:lF:Wh}function rN(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>j1(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function lF(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=j1(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function uF(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],a=t.values[o]??0;r[i]=a,n[s]++}return r}const cF=(t,e)=>{const r=gs.createTransformer(e),n=rc(t),i=rc(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?dv.has(t)&&!i.values.length||dv.has(e)&&!n.values.length?oF(t,e):Cc(rN(uF(n,i),i.values),r):Wh(t,e)};function nN(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?gt(t,e,r):j1(t)(t,e)}const dF=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ft.update(e,r),stop:()=>ms(e),now:()=>Zt.isProcessing?Zt.timestamp:Ar.now()}},iN=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},qh=2e4;function B1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<qh;)e+=r,n=t.next(e);return e>=qh?1/0:e}function hF(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(B1(n),qh);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:ln(i)}}const fF=5;function sN(t,e,r){const n=Math.max(e-fF,0);return BP(r-t(n),e-n)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tm=.001;function pF({duration:t=_t.duration,bounce:e=_t.bounce,velocity:r=_t.velocity,mass:n=_t.mass}){let i,s,o=1-e;o=_i(_t.minDamping,_t.maxDamping,o),t=_i(_t.minDuration,_t.maxDuration,ln(t)),o<1?(i=u=>{const c=u*o,d=c*t,h=c-r,f=hv(u,o),p=Math.exp(-d);return Tm-h/f*p},s=u=>{const d=u*o*t,h=d*r+r,f=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-d),g=hv(Math.pow(u,2),o);return(-i(u)+Tm>0?-1:1)*((h-f)*p)/g}):(i=u=>{const c=Math.exp(-u*t),d=(u-r)*t+1;return-Tm+c*d},s=u=>{const c=Math.exp(-u*t),d=(r-u)*(t*t);return c*d});const a=5/t,l=gF(i,s,a);if(t=qn(t),isNaN(l))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const mF=12;function gF(t,e,r){let n=r;for(let i=1;i<mF;i++)n=n-t(n)/e(n);return n}function hv(t,e){return t*Math.sqrt(1-e*e)}const yF=["duration","bounce"],vF=["stiffness","damping","mass"];function mE(t,e){return e.some(r=>t[r]!==void 0)}function wF(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!mE(t,vF)&&mE(t,yF))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*_i(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_t.mass,stiffness:i,damping:s}}else{const r=pF(t);e={...e,...r,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Kh(t=_t.visualDuration,e=_t.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=wF({...r,velocity:-ln(r.velocity||0)}),p=h||0,g=u/(2*Math.sqrt(l*c)),w=o-s,m=ln(Math.sqrt(l/c)),y=Math.abs(w)<5;n||(n=y?_t.restSpeed.granular:_t.restSpeed.default),i||(i=y?_t.restDelta.granular:_t.restDelta.default);let v;if(g<1){const E=hv(m,g);v=N=>{const _=Math.exp(-g*m*N);return o-_*((p+g*m*w)/E*Math.sin(E*N)+w*Math.cos(E*N))}}else if(g===1)v=E=>o-Math.exp(-m*E)*(w+(p+m*w)*E);else{const E=m*Math.sqrt(g*g-1);v=N=>{const _=Math.exp(-g*m*N),I=Math.min(E*N,300);return o-_*((p+g*m*w)*Math.sinh(I)+E*w*Math.cosh(I))/E}}const b={calculatedDuration:f&&d||null,next:E=>{const N=v(E);if(f)a.done=E>=d;else{let _=E===0?p:0;g<1&&(_=E===0?qn(p):sN(v,E,N));const I=Math.abs(_)<=n,R=Math.abs(o-N)<=i;a.done=I&&R}return a.value=a.done?o:N,a},toString:()=>{const E=Math.min(B1(b),qh),N=iN(_=>b.next(E*_).value,E,30);return E+"ms "+N},toTransition:()=>{}};return b}Kh.applyToOptions=t=>{const e=hF(t,100,Kh);return t.ease=e.ease,t.duration=qn(e.duration),t.type="keyframes",t};function fv({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=I=>a!==void 0&&I<a||l!==void 0&&I>l,p=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let g=r*e;const w=d+g,m=o===void 0?w:o(w);m!==w&&(g=m-d);const y=I=>-g*Math.exp(-I/n),v=I=>m+y(I),b=I=>{const R=y(I),F=v(I);h.done=Math.abs(R)<=u,h.value=h.done?m:F};let E,N;const _=I=>{f(h.value)&&(E=I,N=Kh({keyframes:[h.value,p(h.value)],velocity:sN(v,I,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return _(0),{calculatedDuration:null,next:I=>{let R=!1;return!N&&E===void 0&&(R=!0,b(I),_(I)),E!==void 0&&I>=E?N.next(I-E):(!R&&b(I),h)}}}function bF(t,e,r){const n=[],i=r||ki.mix||nN,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||cn:e;a=Cc(l,a)}n.push(a)}return n}function SF(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(A1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=bF(e,n,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=ec(t[d],t[d+1],c);return a[d](h)};return r?c=>u(_i(t[0],t[s-1],c)):u}function xF(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=ec(0,e,n);t.push(gt(r,1,i))}}function EF(t){const e=[0];return xF(e,t.length-1),e}function _F(t,e){return t.map(r=>r*e)}function kF(t,e){return t.map(()=>e||KP).splice(0,t.length-1)}function fu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=LB(n)?n.map(cE):cE(n),s={done:!1,value:e[0]},o=_F(r&&r.length===e.length?r:EF(e),t),a=SF(o,e,{ease:Array.isArray(i)?i:kF(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const TF=t=>t!==null;function F1(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(TF),a=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const CF={decay:fv,inertia:fv,tween:fu,keyframes:fu,spring:Kh};function oN(t){typeof t.type=="string"&&(t.type=CF[t.type])}class U1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const AF=t=>t/100;class z1 extends U1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Ar.now()&&this.tick(Ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oN(e);const{type:r=fu,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=r||fu;l!==fu&&typeof a[0]!="number"&&(this.mixKeyframes=Cc(AF,nN(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=B1(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?m<0:m>i;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let v=this.currentTime,b=n;if(d){const I=Math.min(this.currentTime,i)/a;let R=Math.floor(I),F=I%1;!F&&I>=1&&(F=1),F===1&&R--,R=Math.min(R,d+1),!!(R%2)&&(h==="reverse"?(F=1-F,f&&(F-=f/a)):h==="mirror"&&(b=o)),v=_i(0,1,F)*a}const E=y?{done:!1,value:c[0]}:b.next(v);s&&(E.value=s(E.value));let{done:N}=E;!y&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return _&&p!==fv&&(E.value=F1(c,this.options,w,this.speed)),g&&g(E.value),_&&this.finish(),E}then(e,r){return this.finished.then(e,r)}get duration(){return ln(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(this.currentTime)}set time(e){var r;e=qn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ar.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ln(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=dF,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function RF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const no=t=>t*180/Math.PI,pv=t=>{const e=no(Math.atan2(t[1],t[0]));return mv(e)},OF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pv,rotateZ:pv,skewX:t=>no(Math.atan(t[1])),skewY:t=>no(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mv=t=>(t=t%360,t<0&&(t+=360),t),gE=pv,yE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),PF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yE,scaleY:vE,scale:t=>(yE(t)+vE(t))/2,rotateX:t=>mv(no(Math.atan2(t[6],t[5]))),rotateY:t=>mv(no(Math.atan2(-t[2],t[0]))),rotateZ:gE,rotate:gE,skewX:t=>no(Math.atan(t[4])),skewY:t=>no(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gv(t){return t.includes("scale")?1:0}function yv(t,e){if(!t||t==="none")return gv(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=PF,i=r;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=OF,i=a}if(!i)return gv(e);const s=n[e],o=i[1].split(",").map(IF);return typeof s=="function"?s(o):o[s]}const NF=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return yv(r,e)};function IF(t){return parseFloat(t.trim())}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wl=new Set(vl),wE=t=>t===yl||t===Le,MF=new Set(["x","y","z"]),DF=vl.filter(t=>!MF.has(t));function LF(t){const e=[];return DF.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const fo={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yv(e,"x"),y:(t,{transform:e})=>yv(e,"y")};fo.translateX=fo.x;fo.translateY=fo.y;const po=new Set;let vv=!1,wv=!1,bv=!1;function aN(){if(wv){const t=Array.from(po).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=LF(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}wv=!1,vv=!1,po.forEach(t=>t.complete(bv)),po.clear()}function lN(){po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wv=!0)})}function jF(){bv=!0,lN(),aN(),bv=!1}class V1{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(po.add(this),vv||(vv=!0,ft.read(lN),ft.resolveKeyframes(aN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const a=n.readValue(r,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}RF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),po.delete(this)}cancel(){this.state==="scheduled"&&(po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BF=t=>t.startsWith("--");function FF(t,e,r){BF(e)?t.style.setProperty(e,r):t.style[e]=r}const UF=R1(()=>window.ScrollTimeline!==void 0),zF={};function VF(t,e){const r=R1(t);return()=>zF[e]??r()}const uN=VF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xl=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,bE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xl([0,.65,.55,1]),circOut:Xl([.55,0,1,.45]),backIn:Xl([.31,.01,.66,-.59]),backOut:Xl([.33,1.53,.69,.99])};function cN(t,e){if(t)return typeof t=="function"?uN()?iN(t,e):"ease-out":GP(t)?Xl(t):Array.isArray(t)?t.map(r=>cN(r,e)||bE.easeOut):bE[t]}function $F(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:r};l&&(c.offset=l);const d=cN(a,i);Array.isArray(d)&&(c.easing=d);const h={delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(c,h)}function dN(t){return typeof t=="function"&&"applyToOptions"in t}function HF({type:t,...e}){return dN(t)&&uN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class WF extends U1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,A1(typeof e.type!="string");const u=HF(e);this.animation=$F(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=F1(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):FF(r,n,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ln(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&UF()?(this.animation.timeline=e,cn):r(this)}}const hN={anticipate:HP,backInOut:$P,circInOut:qP};function qF(t){return t in hN}function KF(t){typeof t.ease=="string"&&qF(t.ease)&&(t.ease=hN[t.ease])}const SE=10;class GF extends WF{constructor(e){KF(e),oN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const a=new z1({...o,autoplay:!1}),l=qn(this.finishedTime??this.time);r.setWithVelocity(a.sample(l-SE).value,a.sample(l).value,SE),a.stop()}}const xE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gs.test(t)||t==="0")&&!t.startsWith("url("));function JF(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function XF(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=xE(i,e),a=xE(s,e);return!o||!a?!1:JF(t)||(r==="spring"||dN(r))&&n}function Sv(t){t.duration=0,t.type="keyframes"}const YF=new Set(["opacity","clipPath","filter","transform"]),QF=R1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZF(t){var c;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return QF()&&r&&YF.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const e8=40;class t8 extends U1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var p;super(),this.stop=()=>{var g,w;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Ar.now();const h={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...d},f=(c==null?void 0:c.KeyframeResolver)||V1;this.keyframeResolver=new f(a,(g,w,m)=>this.onKeyframesResolved(g,w,h,!m),l,u,c),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=Ar.now(),XF(e,s,o,a)||((ki.instantAnimations||!l)&&(c==null||c(F1(e,n,r))),e[0]=e[e.length-1],Sv(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>e8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},f=!u&&ZF(h)?new GF({...h,element:h.motionValue.owner.current}):new z1(h);f.finished.then(()=>this.notifyFinished()).catch(cn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const r8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function n8(t){const e=r8.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function fN(t,e,r=1){const[n,i]=n8(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return DP(o)?parseFloat(o):o}return M1(i)?fN(i,e,r+1):i}function $1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pN=new Set(["width","height","top","left","right","bottom",...vl]),i8={test:t=>t==="auto",parse:t=>t},mN=t=>e=>e.test(t),gN=[yl,Le,Kn,Di,JB,GB,i8],EE=t=>gN.find(mN(t));function s8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jP(t):!0}const o8=new Set(["brightness","contrast","saturate","opacity"]);function a8(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(D1)||[];if(!n)return t;const i=r.replace(n,"");let s=o8.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const l8=/\b([a-z-]*)\(.*?\)/gu,xv={...gs,getAnimatableNone:t=>{const e=t.match(l8);return e?e.map(a8).join(" "):t}},_E={...yl,transform:Math.round},u8={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:bd,scaleX:bd,scaleY:bd,scaleZ:bd,skew:Di,skewX:Di,skewY:Di,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:tc,originX:dE,originY:dE,originZ:Le},H1={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...u8,zIndex:_E,fillOpacity:tc,strokeOpacity:tc,numOctaves:_E},c8={...H1,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:xv,WebkitFilter:xv},yN=t=>c8[t];function vN(t,e){let r=yN(t);return r!==xv&&(r=gs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const d8=new Set(["auto","none","0"]);function h8(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!d8.has(s)&&rc(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=vN(r,i)}class f8 extends V1{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),M1(u))){const c=fN(u,r.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!pN.has(n)||e.length!==2)return;const[i,s]=e,o=EE(i),a=EE(s);if(o!==a)if(wE(o)&&wE(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else fo[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||s8(e[i]))&&n.push(i);n.length&&h8(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=fo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function p8(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const wN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function m8(t){return LP(t)&&"offsetHeight"in t}const kE=30,g8=t=>!isNaN(parseFloat(t));class y8{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=Ar.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=g8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new O1);const n=this.events[e].add(r);return e==="change"?()=>{n(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,kE);return BP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ja(t,e){return new y8(t,e)}const{schedule:W1}=JP(queueMicrotask,!1),Sn={x:!1,y:!1};function bN(){return Sn.x||Sn.y}function v8(t){return t==="x"||t==="y"?Sn[t]?null:(Sn[t]=!0,()=>{Sn[t]=!1}):Sn.x||Sn.y?null:(Sn.x=Sn.y=!0,()=>{Sn.x=Sn.y=!1})}function SN(t,e){const r=p8(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function TE(t){return!(t.pointerType==="touch"||bN())}function w8(t,e,r={}){const[n,i,s]=SN(t,r),o=a=>{if(!TE(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{TE(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const xN=(t,e)=>e?t===e?!0:xN(t,e.parentElement):!1,q1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,b8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S8(t){return b8.has(t.tagName)||t.tabIndex!==-1}const sh=new WeakSet;function CE(t){return e=>{e.key==="Enter"&&t(e)}}function Cm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const x8=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=CE(()=>{if(sh.has(r))return;Cm(r,"down");const i=CE(()=>{Cm(r,"up")}),s=()=>Cm(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function AE(t){return q1(t)&&!bN()}function E8(t,e,r={}){const[n,i,s]=SN(t,r),o=a=>{const l=a.currentTarget;if(!AE(a))return;sh.add(l);const u=e(l,a),c=(f,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),sh.has(l)&&sh.delete(l),AE(f)&&typeof u=="function"&&u(f,{success:p})},d=f=>{c(f,l===window||l===document||r.useGlobalTarget||xN(l,f.target))},h=f=>{c(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),m8(a)&&(a.addEventListener("focus",u=>x8(u,i)),!S8(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function EN(t){return LP(t)&&"ownerSVGElement"in t}function _8(t){return EN(t)&&t.tagName==="svg"}const lr=t=>!!(t&&t.getVelocity),k8=[...gN,Mt,gs],T8=t=>k8.find(mN(t)),_N=ee.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function C8(t=!0){const e=ee.useContext(k1);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=ee.useId();ee.useEffect(()=>{if(t)return i(s)},[t]);const o=ee.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const kN=ee.createContext({strict:!1}),RE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xa={};for(const t in RE)Xa[t]={isEnabled:e=>RE[t].some(r=>!!e[r])};function A8(t){for(const e in t)Xa[e]={...Xa[e],...t[e]}}const R8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R8.has(t)}let TN=t=>!Gh(t);function O8(t){typeof t=="function"&&(TN=e=>e.startsWith("on")?!Gh(e):t(e))}try{O8(require("@emotion/is-prop-valid").default)}catch{}function P8(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(TN(i)||r===!0&&Gh(i)||!e&&!Gh(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const up=ee.createContext({});function cp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nc(t){return typeof t=="string"||Array.isArray(t)}const K1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G1=["initial",...K1];function dp(t){return cp(t.animate)||G1.some(e=>nc(t[e]))}function CN(t){return!!(dp(t)||t.variants)}function N8(t,e){if(dp(t)){const{initial:r,animate:n}=t;return{initial:r===!1||nc(r)?r:void 0,animate:nc(n)?n:void 0}}return t.inherit!==!1?e:{}}function I8(t){const{initial:e,animate:r}=N8(t,ee.useContext(up));return ee.useMemo(()=>({initial:e,animate:r}),[OE(e),OE(r)])}function OE(t){return Array.isArray(t)?t.join(" "):t}const ic={};function M8(t){for(const e in t)ic[e]=t[e],I1(e)&&(ic[e].isCSSVariable=!0)}function AN(t,{layout:e,layoutId:r}){return wl.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!ic[t]||t==="opacity")}const D8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L8=vl.length;function j8(t,e,r){let n="",i=!0;for(let s=0;s<L8;s++){const o=vl[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const u=wN(a,H1[o]);if(!l){i=!1;const c=D8[o]||o;n+=`${c}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function J1(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(wl.has(l)){o=!0;continue}else if(I1(l)){i[l]=u;continue}else{const c=wN(u,H1[l]);l.startsWith("origin")?(a=!0,s[l]=c):n[l]=c}}if(e.transform||(o||r?n.transform=j8(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;n.transformOrigin=`${l} ${u} ${c}`}}const X1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RN(t,e,r){for(const n in e)!lr(e[n])&&!AN(n,r)&&(t[n]=e[n])}function B8({transformTemplate:t},e){return ee.useMemo(()=>{const r=X1();return J1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function F8(t,e){const r=t.style||{},n={};return RN(n,r,t),Object.assign(n,B8(t,e)),n}function U8(t,e){const r={},n=F8(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const z8={offset:"stroke-dashoffset",array:"stroke-dasharray"},V8={offset:"strokeDashoffset",array:"strokeDasharray"};function $8(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?z8:V8;t[s.offset]=Le.transform(-n);const o=Le.transform(e),a=Le.transform(r);t[s.array]=`${o} ${a}`}function ON(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(J1(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),i!==void 0&&$8(d,i,s,o,!1)}const PN=()=>({...X1(),attrs:{}}),NN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function H8(t,e,r,n){const i=ee.useMemo(()=>{const s=PN();return ON(s,e,NN(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};RN(s,t.style,t),i.style={...s,...i.style}}return i}const W8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y1(t){return typeof t!="string"||t.includes("-")?!1:!!(W8.indexOf(t)>-1||/[A-Z]/u.test(t))}function q8(t,e,r,{latestValues:n},i,s=!1){const a=(Y1(t)?H8:U8)(e,n,i,t),l=P8(e,typeof t=="string",s),u=t!==ee.Fragment?{...l,...a,ref:r}:{},{children:c}=e,d=ee.useMemo(()=>lr(c)?c.get():c,[c]);return ee.createElement(t,{...u,children:d})}function PE(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Q1(t,e,r,n){if(typeof e=="function"){const[i,s]=PE(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=PE(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function oh(t){return lr(t)?t.get():t}function K8({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:G8(r,n,i,t),renderState:e()}}function G8(t,e,r,n){const i={},s=n(t,{});for(const h in s)i[h]=oh(s[h]);let{initial:o,animate:a}=t;const l=dp(t),u=CN(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=r?r.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!cp(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const p=Q1(t,h[f]);if(p){const{transitionEnd:g,transition:w,...m}=p;for(const y in m){let v=m[y];if(Array.isArray(v)){const b=c?v.length-1:0;v=v[b]}v!==null&&(i[y]=v)}for(const y in g)i[y]=g[y]}}}return i}const IN=t=>(e,r)=>{const n=ee.useContext(up),i=ee.useContext(k1),s=()=>K8(t,e,n,i);return r?s():AB(s)};function Z1(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(lr(n[o])||e.style&&lr(e.style[o])||AN(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const J8=IN({scrapeMotionValuesFromProps:Z1,createRenderState:X1});function MN(t,e,r){const n=Z1(t,e,r);for(const i in t)if(lr(t[i])||lr(e[i])){const s=vl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const X8=IN({scrapeMotionValuesFromProps:MN,createRenderState:PN}),Y8=Symbol.for("motionComponentSymbol");function Sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Q8(t,e,r){return ee.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Sa(r)&&(r.current=n))},[e])}const eb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z8="framerAppearId",DN="data-"+eb(Z8),LN=ee.createContext({});function eU(t,e,r,n,i){var g,w;const{visualElement:s}=ee.useContext(up),o=ee.useContext(kN),a=ee.useContext(k1),l=ee.useContext(_N).reducedMotion,u=ee.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=ee.useContext(LN);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&tU(u.current,r,i,d);const h=ee.useRef(!1);ee.useInsertionEffect(()=>{c&&h.current&&c.update(r,a)});const f=r[DN],p=ee.useRef(!!f&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,f))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,f)));return RB(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),ee.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,f)}),p.current=!1),c.enteringChildren=void 0)}),c}function tU(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:jN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Sa(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function jN(t){if(t)return t.options.allowProjection!==!1?t.projection:jN(t.parent)}function Am(t,{forwardMotionProps:e=!1}={},r,n){r&&A8(r);const i=Y1(t)?X8:J8;function s(a,l){let u;const c={...ee.useContext(_N),...a,layoutId:rU(a)},{isStatic:d}=c,h=I8(a),f=i(a,d);if(!d&&_1){nU();const p=iU(c);u=p.MeasureLayout,h.visualElement=eU(t,f,c,n,p.ProjectionNode)}return B.jsxs(up.Provider,{value:h,children:[u&&h.visualElement?B.jsx(u,{visualElement:h.visualElement,...c}):null,q8(t,a,Q8(f,h.visualElement,l),f,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=ee.forwardRef(s);return o[Y8]=t,o}function rU({layoutId:t}){const e=ee.useContext(MP).id;return e&&t!==void 0?e+"-"+t:t}function nU(t,e){ee.useContext(kN).strict}function iU(t){const{drag:e,layout:r}=Xa;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function sU(t,e){if(typeof Proxy>"u")return Am;const r=new Map,n=(s,o)=>Am(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,Am(o,void 0,t,e)),r.get(o))})}function BN({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function oU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aU(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Rm(t){return t===void 0||t===1}function Ev({scale:t,scaleX:e,scaleY:r}){return!Rm(t)||!Rm(e)||!Rm(r)}function $s(t){return Ev(t)||FN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FN(t){return NE(t.x)||NE(t.y)}function NE(t){return t&&t!=="0%"}function Jh(t,e,r){const n=t-r,i=e*n;return r+i}function IE(t,e,r,n,i){return i!==void 0&&(t=Jh(t,i,n)),Jh(t,r,n)+e}function _v(t,e=0,r=1,n,i){t.min=IE(t.min,e,r,n,i),t.max=IE(t.max,e,r,n,i)}function UN(t,{x:e,y:r}){_v(t.x,e.translate,e.scale,e.originPoint),_v(t.y,r.translate,r.scale,r.originPoint)}const ME=.999999999999,DE=1.0000000000001;function lU(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ea(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,UN(t,o)),n&&$s(s.latestValues)&&Ea(t,s.latestValues))}e.x<DE&&e.x>ME&&(e.x=1),e.y<DE&&e.y>ME&&(e.y=1)}function xa(t,e){t.min=t.min+e,t.max=t.max+e}function LE(t,e,r,n,i=.5){const s=gt(t.min,t.max,i);_v(t,e,r,s,n)}function Ea(t,e){LE(t.x,e.x,e.scaleX,e.scale,e.originX),LE(t.y,e.y,e.scaleY,e.scale,e.originY)}function zN(t,e){return BN(aU(t.getBoundingClientRect(),e))}function uU(t,e,r){const n=zN(t,r),{scroll:i}=e;return i&&(xa(n.x,i.offset.x),xa(n.y,i.offset.y)),n}const jE=()=>({translate:0,scale:1,origin:0,originPoint:0}),_a=()=>({x:jE(),y:jE()}),BE=()=>({min:0,max:0}),Ct=()=>({x:BE(),y:BE()}),kv={current:null},VN={current:!1};function cU(){if(VN.current=!0,!!_1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kv.current=t.matches;t.addEventListener("change",e),e()}else kv.current=!1}const dU=new WeakMap;function hU(t,e,r){for(const n in e){const i=e[n],s=r[n];if(lr(i))t.addValue(n,i);else if(lr(s))t.addValue(n,Ja(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,Ja(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const FE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ar.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ft.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=dp(r),this.isVariantNode=CN(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&lr(f)&&f.set(l[h])}}mount(e){var r;this.current=e,dU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),VN.current||cU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kv.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wl.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ft.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xa){const r=Xa[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<FE.length;n++){const i=FE[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=hU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ja(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(DP(n)||jP(n))?n=parseFloat(n):!T8(n)&&gs.test(r)&&(n=vN(e,r)),this.setBaseTarget(e,lr(n)?n.get():n)),lr(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Q1(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!lr(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new O1),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){W1.render(this.render)}}class $N extends fU{constructor(){super(...arguments),this.KeyframeResolver=f8}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function HN(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function pU(t){return window.getComputedStyle(t)}class mU extends $N{constructor(){super(...arguments),this.type="html",this.renderInstance=HN}readValueFromInstance(e,r){var n;if(wl.has(r))return(n=this.projection)!=null&&n.isProjecting?gv(r):NF(e,r);{const i=pU(e),s=(I1(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return zN(e,r)}build(e,r,n){J1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Z1(e,r,n)}}const WN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gU(t,e,r,n){HN(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(WN.has(i)?i:eb(i),e.attrs[i])}class yU extends $N{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(wl.has(r)){const n=yN(r);return n&&n.default||0}return r=WN.has(r)?r:eb(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return MN(e,r,n)}build(e,r,n){ON(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){gU(e,r,n,i)}mount(e){this.isSVGTag=NN(e.tagName),super.mount(e)}}const vU=(t,e)=>Y1(t)?new yU(e):new mU(e,{allowProjection:t!==ee.Fragment});function Ma(t,e,r){const n=t.getProps();return Q1(n,e,r!==void 0?r:n.custom,t)}const Tv=t=>Array.isArray(t);function wU(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ja(r))}function bU(t){return Tv(t)?t[t.length-1]||0:t}function SU(t,e){const r=Ma(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=bU(s[o]);wU(t,o,a)}}function xU(t){return!!(lr(t)&&t.add)}function Cv(t,e){const r=t.getValue("willChange");if(xU(r))return r.add(e);if(!r&&ki.WillChange){const n=new ki.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function qN(t){return t.props[DN]}const EU=t=>t!==null;function _U(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(EU),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const kU={type:"spring",stiffness:500,damping:25,restSpeed:10},TU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CU={type:"keyframes",duration:.8},AU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RU=(t,{keyframes:e})=>e.length>2?CU:wl.has(t)?t.startsWith("scale")?TU(e[1]):kU:AU;function OU({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const tb=(t,e,r,n={},i,s)=>o=>{const a=$1(n,t)||{},l=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-qn(l);const c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};OU(a)||Object.assign(c,RU(t,c)),c.duration&&(c.duration=qn(c.duration)),c.repeatDelay&&(c.repeatDelay=qn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Sv(c),c.delay===0&&(d=!0)),(ki.instantAnimations||ki.skipAnimations)&&(d=!0,Sv(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const h=_U(c.keyframes,a);if(h!==void 0){ft.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new z1(c):new t8(c)};function PU({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function KN(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),h=a[c];if(h===void 0||u&&PU(u,c))continue;const f={delay:r,...$1(s||{},c)},p=d.get();if(p!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===p&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const m=qN(t);if(m){const y=window.MotionHandoffAnimation(m,c,ft);y!==null&&(f.startTime=y,g=!0)}}Cv(t,c),d.start(tb(c,d,h,t.shouldReduceMotion&&pN.has(c)?{type:!1}:f,t,g));const w=d.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{ft.update(()=>{o&&SU(t,o)})}),l}function GN(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:a-s*n}function Av(t,e,r={}){var l;const n=Ma(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(KN(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return NU(t,e,u,c,d,h,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(r.delay)])}function NU(t,e,r=0,n=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Av(l,e,{...o,delay:r+(typeof n=="function"?0:n)+GN(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function IU(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Av(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Av(t,e,r);else{const i=typeof e=="function"?Ma(t,e,r.custom):e;n=Promise.all(KN(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function JN(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const MU=G1.length;function XN(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?XN(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<MU;r++){const n=G1[r],i=t.props[n];(nc(i)||i===!1)&&(e[n]=i)}return e}const DU=[...K1].reverse(),LU=K1.length;function jU(t){return e=>Promise.all(e.map(({animation:r,options:n})=>IU(t,r,n)))}function BU(t){let e=jU(t),r=UE(),n=!0;const i=l=>(u,c)=>{var h;const d=Ma(t,c,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:p,...g}=d;u={...u,...g,...p}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=XN(t.parent)||{},d=[],h=new Set;let f={},p=1/0;for(let w=0;w<LU;w++){const m=DU[w],y=r[m],v=u[m]!==void 0?u[m]:c[m],b=nc(v),E=m===l?y.isActive:null;E===!1&&(p=w);let N=v===c[m]&&v!==u[m]&&b;if(N&&n&&t.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...f},!y.isActive&&E===null||!v&&!y.prevProp||cp(v)||typeof v=="boolean")continue;const _=FU(y.prevProp,v);let I=_||m===l&&y.isActive&&!N&&b||w>p&&b,R=!1;const F=Array.isArray(v)?v:[v];let ne=F.reduce(i(m),{});E===!1&&(ne={});const{prevResolvedValues:M={}}=y,U={...M,...ne},C=$=>{I=!0,h.has($)&&(R=!0,h.delete($)),y.needsAnimating[$]=!0;const K=t.getValue($);K&&(K.liveStyle=!1)};for(const $ in U){const K=ne[$],Y=M[$];if(f.hasOwnProperty($))continue;let le=!1;Tv(K)&&Tv(Y)?le=!JN(K,Y):le=K!==Y,le?K!=null?C($):h.add($):K!==void 0&&h.has($)?C($):y.protectedKeys[$]=!0}y.prevProp=v,y.prevResolvedValues=ne,y.isActive&&(f={...f,...ne}),n&&t.blockInitialAnimation&&(I=!1);const G=N&&_;I&&(!G||R)&&d.push(...F.map($=>{const K={type:m};if(typeof $=="string"&&n&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,le=Ma(Y,$);if(Y.enteringChildren&&le){const{delayChildren:q}=le.transition||{};K.delay=GN(Y.enteringChildren,t,q)}}return{animation:$,options:K}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const m=Ma(t,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(w.transition=m.transition)}h.forEach(m=>{const y=t.getBaseTarget(m),v=t.getValue(m);v&&(v.liveStyle=!0),w[m]=y??null}),d.push({animation:w})}let g=!!d.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),n=!1,g?e(d):Promise.resolve()}function a(l,u){var d;if(r[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,u)}),r[l].isActive=u;const c=o(l);for(const h in r)r[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=UE()}}}function FU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!JN(e,t):!1}function Ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UE(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class _s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UU extends _s{constructor(e){super(e),e.animationState||(e.animationState=BU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zU=0;class VU extends _s{constructor(){super(...arguments),this.id=zU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $U={animation:{Feature:UU},exit:{Feature:VU}};function sc(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Oc(t){return{point:{x:t.pageX,y:t.pageY}}}const HU=t=>e=>q1(e)&&t(e,Oc(e));function pu(t,e,r,n){return sc(t,e,HU(r),n)}const YN=1e-4,WU=1-YN,qU=1+YN,QN=.01,KU=0-QN,GU=0+QN;function gr(t){return t.max-t.min}function JU(t,e,r){return Math.abs(t-e)<=r}function zE(t,e,r,n=.5){t.origin=n,t.originPoint=gt(e.min,e.max,t.origin),t.scale=gr(r)/gr(e),t.translate=gt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=WU&&t.scale<=qU||isNaN(t.scale))&&(t.scale=1),(t.translate>=KU&&t.translate<=GU||isNaN(t.translate))&&(t.translate=0)}function mu(t,e,r,n){zE(t.x,e.x,r.x,n?n.originX:void 0),zE(t.y,e.y,r.y,n?n.originY:void 0)}function VE(t,e,r){t.min=r.min+e.min,t.max=t.min+gr(e)}function XU(t,e,r){VE(t.x,e.x,r.x),VE(t.y,e.y,r.y)}function $E(t,e,r){t.min=e.min-r.min,t.max=t.min+gr(e)}function gu(t,e,r){$E(t.x,e.x,r.x),$E(t.y,e.y,r.y)}function Zr(t){return[t("x"),t("y")]}const ZN=({current:t})=>t?t.ownerDocument.defaultView:null,HE=(t,e)=>Math.abs(t-e);function YU(t,e){const r=HE(t.x,e.x),n=HE(t.y,e.y);return Math.sqrt(r**2+n**2)}class eI{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Pm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=YU(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!p)return;const{point:g}=h,{timestamp:w}=Zt;this.history.push({...g,timestamp:w});const{onStart:m,onMove:y}=this.handlers;f||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Om(f,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Pm(h.type==="pointercancel"?this.lastMoveEventInfo:Om(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,m),g&&g(h,m)},!q1(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=Oc(e),l=Om(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Zt;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=r;d&&d(e,Pm(l,this.history)),this.removeListeners=Cc(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function Om(t,e){return e?{point:e(t.point)}:t}function WE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pm({point:t},e){return{point:t,delta:WE(t,tI(e)),offset:WE(t,QU(e)),velocity:ZU(e,.1)}}function QU(t){return t[0]}function tI(t){return t[t.length-1]}function ZU(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=tI(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>qn(e)));)r--;if(!n)return{x:0,y:0};const s=ln(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ez(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?gt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?gt(r,t,n.max):Math.min(t,r)),t}function qE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function tz(t,{top:e,left:r,bottom:n,right:i}){return{x:qE(t.x,r,i),y:qE(t.y,e,n)}}function KE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function rz(t,e){return{x:KE(t.x,e.x),y:KE(t.y,e.y)}}function nz(t,e){let r=.5;const n=gr(t),i=gr(e);return i>n?r=ec(e.min,e.max-n,t.min):n>i&&(r=ec(t.min,t.max-i,e.min)),_i(0,1,r)}function iz(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Rv=.35;function sz(t=Rv){return t===!1?t=0:t===!0&&(t=Rv),{x:GE(t,"left","right"),y:GE(t,"top","bottom")}}function GE(t,e,r){return{min:JE(t,e),max:JE(t,r)}}function JE(t,e){return typeof t=="number"?t:t[e]||0}const oz=new WeakMap;class az{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Oc(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v8(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zr(m=>{let y=this.getAxisMotionValue(m).get()||0;if(Kn.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[m];b&&(y=gr(b)*(parseFloat(y)/100))}}this.originPoint[m]=y}),g&&ft.postRender(()=>g(d,h)),Cv(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=h;if(p&&this.currentDirection===null){this.currentDirection=lz(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Zr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new eI(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:ZN(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ft.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Sd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=ez(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Sa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=tz(n.layoutBox,e):this.constraints=!1,this.elastic=sz(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Zr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iz(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Sa(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=uU(n,i.root,this.visualElement.getTransformPagePoint());let o=rz(i.layout.layoutBox,s);if(r){const a=r(oU(o));this.hasMutatedConstraints=!!a,a&&(o=BN(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Zr(c=>{if(!Sd(c,r,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:n?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Cv(this.visualElement,e),n.start(tb(e,n,0,r,this.visualElement,!1))}stopAnimation(){Zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zr(r=>{const{drag:n}=this.getProps();if(!Sd(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-gt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Sa(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=nz({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zr(o=>{if(!Sd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(gt(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;oz.set(this.visualElement,this);const e=this.visualElement.current,r=pu(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Sa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ft.read(n);const o=sc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Zr(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Rv,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Sd(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function lz(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class uz extends _s{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new az(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const XE=t=>(e,r)=>{t&&ft.postRender(()=>t(e,r))};class cz extends _s{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new eI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:XE(e),onStart:XE(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&ft.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ll={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const r=YE(t,e.target.x),n=YE(t,e.target.y);return`${r}% ${n}%`}},dz={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=gs.parse(t);if(i.length>5)return n;const s=gs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=gt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Nm=!1;class hz extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;M8(fz),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Nm&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,Nm=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ft.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Nm=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rI(t){const[e,r]=C8(),n=ee.useContext(MP);return B.jsx(hz,{...t,layoutGroup:n,switchLayoutGroup:ee.useContext(LN),isPresent:e,safeToRemove:r})}const fz={borderRadius:{...Ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ll,borderTopRightRadius:Ll,borderBottomLeftRadius:Ll,borderBottomRightRadius:Ll,boxShadow:dz};function pz(t,e,r){const n=lr(t)?t:Ja(t);return n.start(tb("",n,e,r)),n.animation}const mz=(t,e)=>t.depth-e.depth;class gz{constructor(){this.children=[],this.isDirty=!1}add(e){T1(this.children,e),this.isDirty=!0}remove(e){C1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mz),this.isDirty=!1,this.children.forEach(e)}}function yz(t,e){const r=Ar.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(ms(n),t(s-e))};return ft.setup(n,!0),()=>ms(n)}const nI=["TopLeft","TopRight","BottomLeft","BottomRight"],vz=nI.length,QE=t=>typeof t=="string"?parseFloat(t):t,ZE=t=>typeof t=="number"||Le.test(t);function wz(t,e,r,n,i,s){i?(t.opacity=gt(0,r.opacity??1,bz(n)),t.opacityExit=gt(e.opacity??1,0,Sz(n))):s&&(t.opacity=gt(e.opacity??1,r.opacity??1,n));for(let o=0;o<vz;o++){const a=`border${nI[o]}Radius`;let l=e_(e,a),u=e_(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ZE(l)===ZE(u)?(t[a]=Math.max(gt(QE(l),QE(u),n),0),(Kn.test(u)||Kn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=gt(e.rotate||0,r.rotate||0,n))}function e_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bz=iI(0,.5,WP),Sz=iI(.5,.95,cn);function iI(t,e,r){return n=>n<t?0:n>e?1:r(ec(t,e,n))}function t_(t,e){t.min=e.min,t.max=e.max}function Xr(t,e){t_(t.x,e.x),t_(t.y,e.y)}function r_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function n_(t,e,r,n,i){return t-=e,t=Jh(t,1/r,n),i!==void 0&&(t=Jh(t,1/i,n)),t}function xz(t,e=0,r=1,n=.5,i,s=t,o=t){if(Kn.test(e)&&(e=parseFloat(e),e=gt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=gt(s.min,s.max,n);t===s&&(a-=e),t.min=n_(t.min,e,r,a,i),t.max=n_(t.max,e,r,a,i)}function i_(t,e,[r,n,i],s,o){xz(t,e[r],e[n],e[i],e.scale,s,o)}const Ez=["x","scaleX","originX"],_z=["y","scaleY","originY"];function s_(t,e,r,n){i_(t.x,e,Ez,r?r.x:void 0,n?n.x:void 0),i_(t.y,e,_z,r?r.y:void 0,n?n.y:void 0)}function o_(t){return t.translate===0&&t.scale===1}function sI(t){return o_(t.x)&&o_(t.y)}function a_(t,e){return t.min===e.min&&t.max===e.max}function kz(t,e){return a_(t.x,e.x)&&a_(t.y,e.y)}function l_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oI(t,e){return l_(t.x,e.x)&&l_(t.y,e.y)}function u_(t){return gr(t.x)/gr(t.y)}function c_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tz{constructor(){this.members=[]}add(e){T1(this.members,e),e.scheduleRender()}remove(e){if(C1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cz(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:h,skewX:f,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),p&&(n+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Im=["","X","Y","Z"],Az=1e3;let Rz=0;function Mm(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function aI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=qN(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ft,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&aI(n)}function lI({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Rz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Nz),this.nodes.forEach(Lz),this.nodes.forEach(jz),this.nodes.forEach(Iz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new O1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=EN(o)&&!_8(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,d=0;const h=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,c&&c(),c=yz(h,250),ah.hasAnimatedSinceResize&&(ah.hasAnimatedSinceResize=!1,this.nodes.forEach(f_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Vz,{onLayoutAnimationStart:g,onLayoutAnimationComplete:w}=u.getProps(),m=!this.targetLayout||!oI(this.targetLayout,f),y=!d&&h;if(this.options.layoutRoot||this.resumeFrom||y||d&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...$1(p,"layout"),onPlay:g,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(c,y)}else d||f_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(h_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Dz),this.nodes.forEach(Oz),this.nodes.forEach(Pz)):this.nodes.forEach(h_),this.clearAllSnapshots();const a=Ar.now();Zt.delta=_i(0,1e3/60,a-Zt.timestamp),Zt.timestamp=a,Zt.isProcessing=!0,xm.update.process(Zt),xm.preRender.process(Zt),xm.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mz),this.sharedNodes.forEach(Fz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gr(this.snapshot.measuredBox.x)&&!gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!sI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||$s(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$z(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ct();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Hz))){const{scroll:c}=this.root;c&&(xa(a.x,c.offset.x),xa(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Ct();if(Xr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Xr(a,o),xa(a.x,d.offset.x),xa(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ct();Xr(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ea(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),$s(c.latestValues)&&Ea(l,c.latestValues)}return $s(this.latestValues)&&Ea(l,this.latestValues),l}removeTransform(o){const a=Ct();Xr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!$s(u.latestValues))continue;Ev(u.latestValues)&&u.updateSnapshot();const c=Ct(),d=u.measurePageBox();Xr(c,d),s_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return $s(this.latestValues)&&s_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),gu(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xr(this.target,this.layout.layoutBox),UN(this.target,this.targetDelta)):Xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),gu(this.relativeTargetOrigin,this.target,f.target),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ev(this.parent.latestValues)||FN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Xr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;lU(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ct());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r_(this.prevProjectionDelta.x,this.projectionDelta.x),r_(this.prevProjectionDelta.y,this.projectionDelta.y)),mu(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!c_(this.projectionDelta.x,this.prevProjectionDelta.x)||!c_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_a(),this.projectionDelta=_a(),this.projectionDeltaWithTransform=_a()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=_a();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,w=this.getStack(),m=!w||w.members.length<=1,y=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(zz));this.animationProgress=0;let v;this.mixTargetDelta=b=>{const E=b/1e3;p_(d.x,o.x,E),p_(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Uz(this.relativeTarget,this.relativeTargetOrigin,h,E),v&&kz(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ct()),Xr(v,this.relativeTarget)),g&&(this.animationValues=c,wz(c,u,this.latestValues,E,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ja(0)),this.currentAnimation=pz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Az),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&uI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ct();const d=gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Xr(a,l),Ea(a,c),mu(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Tz),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Mm("z",o,u,this.animationValues);for(let c=0;c<Im.length;c++)Mm(`rotate${Im[c]}`,o,u,this.animationValues),Mm(`skew${Im[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=oh(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=oh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=Cz(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in ic){if(c[p]===void 0)continue;const{correct:g,applyTo:w,isCSSVariable:m}=ic[p],y=d==="none"?c[p]:g(c[p],u);if(w){const v=w.length;for(let b=0;b<v;b++)o[w[b]]=y}else m?this.options.visualElement.renderState.vars[p]=y:o[p]=y}this.options.layoutId&&(o.pointerEvents=u===this?oh(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(d_),this.root.sharedNodes.clear()}}}function Oz(t){t.updateLayout()}function Pz(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Zr(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=gr(h);h.min=n[d].min,h.max=h.min+f}):uI(s,e.layoutBox,n)&&Zr(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=gr(n[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=_a();mu(a,n,e.layoutBox);const l=_a();o?mu(l,t.applyTransform(i,!0),e.measuredBox):mu(l,n,e.layoutBox);const u=!sI(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const p=Ct();gu(p,e.layoutBox,h.layoutBox);const g=Ct();gu(g,n,f.layoutBox),oI(p,g)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Nz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Iz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Mz(t){t.clearSnapshot()}function d_(t){t.clearMeasurements()}function h_(t){t.isLayoutDirty=!1}function Dz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function f_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lz(t){t.resolveTargetDelta()}function jz(t){t.calcProjection()}function Bz(t){t.resetSkewAndRotation()}function Fz(t){t.removeLeadSnapshot()}function p_(t,e,r){t.translate=gt(e.translate,0,r),t.scale=gt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function m_(t,e,r,n){t.min=gt(e.min,r.min,n),t.max=gt(e.max,r.max,n)}function Uz(t,e,r,n){m_(t.x,e.x,r.x,n),m_(t.y,e.y,r.y,n)}function zz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Vz={duration:.45,ease:[.4,0,.1,1]},g_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),y_=g_("applewebkit/")&&!g_("chrome/")?Math.round:cn;function v_(t){t.min=y_(t.min),t.max=y_(t.max)}function $z(t){v_(t.x),v_(t.y)}function uI(t,e,r){return t==="position"||t==="preserve-aspect"&&!JU(u_(e),u_(r),.2)}function Hz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Wz=lI({attachResizeListener:(t,e)=>sc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dm={current:void 0},cI=lI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dm.current){const t=new Wz({});t.mount(window),t.setOptions({layoutScroll:!0}),Dm.current=t}return Dm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qz={pan:{Feature:cz},drag:{Feature:uz,ProjectionNode:cI,MeasureLayout:rI}};function w_(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ft.postRender(()=>s(e,Oc(e)))}class Kz extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=w8(e,(r,n)=>(w_(this.node,n,"Start"),i=>w_(this.node,i,"End"))))}unmount(){}}class Gz extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b_(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ft.postRender(()=>s(e,Oc(e)))}class Jz extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=E8(e,(r,n)=>(b_(this.node,n,"Start"),(i,{success:s})=>b_(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ov=new WeakMap,Lm=new WeakMap,Xz=t=>{const e=Ov.get(t.target);e&&e(t)},Yz=t=>{t.forEach(Xz)};function Qz({root:t,...e}){const r=t||document;Lm.has(r)||Lm.set(r,{});const n=Lm.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Yz,{root:t,...e})),n[i]}function Zz(t,e,r){const n=Qz(e);return Ov.set(t,r),n.observe(t),()=>{Ov.delete(t),n.unobserve(t)}}const eV={some:0,all:1};class tV extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:eV[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return Zz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(rV(e,r))&&this.startObserver()}unmount(){}}function rV({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const nV={inView:{Feature:tV},tap:{Feature:Jz},focus:{Feature:Gz},hover:{Feature:Kz}},iV={layout:{ProjectionNode:cI,MeasureLayout:rI}},sV={...$U,...nV,...qz,...iV},jm=sU(sV,vU);function oc({className:t}){return B.jsxs("div",{className:`pointer-events-none absolute inset-0 -z-10 overflow-hidden ${t||""}`,children:[B.jsx(jm.div,{className:"absolute -top-24 -left-16 h-[36rem] w-[36rem] rounded-full bg-cyan-500/20 blur-3xl mix-blend-screen",animate:{x:[0,40,-30,0],y:[0,-30,20,0],scale:[1,1.1,.95,1]},transition:{duration:18,repeat:1/0,ease:"easeInOut"}}),B.jsx(jm.div,{className:"absolute top-1/3 -right-10 h-[28rem] w-[28rem] rounded-full bg-indigo-500/20 blur-3xl mix-blend-screen",animate:{x:[0,-30,20,0],y:[0,20,-25,0],scale:[1,.9,1.05,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),B.jsx(jm.div,{className:"absolute bottom-0 left-1/4 h-[24rem] w-[24rem] rounded-full bg-sky-400/20 blur-3xl mix-blend-screen",animate:{x:[0,25,-20,0],y:[0,-20,15,0],scale:[1,1.08,.92,1]},transition:{duration:22,repeat:1/0,ease:"easeInOut"}}),B.jsx("div",{className:"absolute inset-0 hero-vignette"})]})}function oV({variant:t="gradient",imageSrc:e,title:r,subtitle:n,actions:i}){return B.jsxs("section",{className:"relative flex min-h-screen w-full items-center bg-[color:var(--bg)] py-20 text-foreground",children:[t==="gradient"&&B.jsx(ap,{}),t==="image"&&e&&B.jsx(E1,{src:e}),t==="blobs"&&B.jsx(oc,{}),t==="particles"&&B.jsx(lp,{}),B.jsx("div",{className:"hero-horizon"}),B.jsx("div",{className:"container grid gap-6 md:grid-cols-2",children:B.jsxs("div",{children:[B.jsx("h1",{className:"text-balance text-4xl font-extrabold tracking-tight md:text-6xl",children:r}),n&&B.jsx("p",{className:"mt-4 max-w-xl text-muted",children:n}),i&&B.jsx("div",{className:"mt-8 flex flex-wrap items-center gap-3",children:i})]})})]})}function aV(){return B.jsxs("div",{className:"min-h-screen bg-[color:var(--bg)] text-foreground",children:[B.jsx(Y6,{}),B.jsx(oV,{variant:"gradient",title:B.jsx(B.Fragment,{children:"Laudos estruturados com inteligncia artificial."}),subtitle:B.jsx(B.Fragment,{children:"Plataforma para laudos radiolgicos com eficincia, preciso e padronizao."}),actions:B.jsxs(B.Fragment,{children:[B.jsx(Zu,{to:"/login",className:"rounded-full border border-white/15 bg-black/70 px-6 py-3 text-foreground shadow-[var(--glow-cyan)] backdrop-blur transition hover:bg-black/80 html:light:bg-black/10 html:light:text-foreground",children:"Experimente gratuitamente "}),B.jsx("a",{href:"#servicos",className:"rounded-full border border-[color:var(--divider)] px-6 py-3 text-foreground hover:bg-white/5",children:"Saiba mais"})]})}),B.jsxs("section",{id:"servicos",className:"container py-16",children:[B.jsx("h2",{className:"mb-8 text-center text-3xl font-bold md:text-4xl",children:"Nossos servios"}),B.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[{t:"Planos corporativos",d:"Pacotes sob medida para equipes, com eficincia e escala."},{t:"API de anlise",d:"Integre laudos e gere insights para BI e decises."},{t:"Agentes IA",d:"Agentes personalizados para workflows especficos."},{t:"Reconhecimento de voz",d:"Transcrio em tempo real com tima acurcia."},{t:"Templates inteligentes",d:"Modelos por modalidade, prontos para uso."},{t:"Consultoria",d:"Acompanhamento para otimizar seus processos."}].map(t=>B.jsxs("div",{className:"group rounded-2xl border border-[color:var(--divider)] bg-gradient-to-br from-cyan-500/10 via-indigo-500/10 to-transparent p-5 shadow hover:bg-white/10",children:[B.jsx("div",{className:"text-lg font-semibold",children:t.t}),B.jsx("div",{className:"text-sm text-muted",children:t.d}),B.jsx("button",{className:"mt-4 rounded-full border border-[color:var(--divider)] px-4 py-2 text-sm hover:bg-white/10",children:"Saiba mais"})]},t.t))})]}),B.jsxs("section",{id:"precos",className:"container py-16",children:[B.jsx("h2",{className:"mb-8 text-center text-3xl font-bold md:text-4xl",children:"Planos"}),B.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[{n:"Bsico",p:"R$ 219,00",f:["1.350 crditos I.A. mensais","Laudos estruturados","Voz em tempo real","Autotexto"]},{n:"Pro",p:"R$ 349,00",f:["4.350 crditos I.A. mensais","Mais recursos","Melhor custo-benefcio","Suporte prioritrio"]},{n:"Premium",p:"R$ 469,00",f:["7.050 crditos I.A. mensais","Automao total","Acesso antecipado a novidades","Suporte premium"]}].map((t,e)=>B.jsxs("div",{className:`rounded-2xl border border-[color:var(--divider)] bg-white/5 p-6 ${e===1?"ring-2 ring-cyan-400/40 html:light:ring-cyan-600/30":""}`,children:[B.jsx("div",{className:"text-sm text-muted",children:t.n.toUpperCase()}),B.jsxs("div",{className:"mt-2 text-3xl font-bold",children:[t.p," ",B.jsx("span",{className:"text-base font-normal text-muted",children:"/ ms"})]}),B.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted",children:t.f.map(r=>B.jsxs("li",{children:[" ",r]},r))}),B.jsx("button",{className:"mt-6 w-full rounded-lg bg-cyan-400 px-4 py-2 text-black shadow-glow hover:brightness-105",children:"Inicie gratuitamente"})]},t.n))})]}),B.jsxs("section",{id:"faq",className:"container py-16",children:[B.jsx("h2",{className:"mb-8 text-center text-3xl font-bold md:text-4xl",children:"Dvidas frequentes"}),B.jsx("div",{className:"mx-auto max-w-3xl divide-y divide-[color:var(--divider)] rounded-xl border border-[color:var(--divider)]",children:[{q:"Como funcionam os crditos?",a:"Cada ao de IA consome uma pequena quantidade de crditos conforme o recurso utilizado."},{q:"O que acontece se meus crditos acabarem?",a:"Voc pode adquirir pacotes adicionais ou aguardar a renovao mensal do seu plano."},{q:"Quais funcionalidades esto includas nos planos?",a:"Depende do plano escolhido; veja a tabela de preos para detalhes."}].map(t=>B.jsxs("details",{className:"group",children:[B.jsx("summary",{className:"cursor-pointer list-none p-4 hover:bg-white/5",children:t.q}),B.jsx("div",{className:"p-4 pt-0 text-sm text-muted",children:t.a})]},t.q))})]}),B.jsx("section",{id:"assistente",className:"container py-16",children:B.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[B.jsx("h3",{className:"text-2xl font-semibold md:text-3xl",children:"Fale com o nosso Assistente IA."}),B.jsx("p",{className:"mt-2 text-muted",children:"Obtenha respostas sobre produtos e servios e faa um pr-atendimento."}),B.jsx("div",{className:"mt-6 rounded-2xl border border-[color:var(--divider)] bg-white/5 p-6",children:B.jsx("input",{placeholder:"Quais os passos para criar um laudo?",className:"w-full rounded-lg border border-[color:var(--divider)] bg-black/30 px-4 py-3 outline-none placeholder:text-muted html:light:bg-white"})})]})}),B.jsx(CB,{})]})}let Pi=null;class lV{constructor(){ti(this,"base","http://localhost:8787/v1");ti(this,"googleEnabled",!0);ti(this,"supabaseUrl","https://gxhbdbovixbptrjrcwbr.supabase.co");ti(this,"supabaseAnonKey","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd4aGJkYm92aXhicHRyanJjd2JyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxMzY3MzgsImV4cCI6MjA3ODcxMjczOH0.S4-5DqCkTdT4_j7ZGfwulMHwgIXG_9g1CtahY6qi50Q");ti(this,"db");ti(this,"etags",new Map);ti(this,"lastSync",localStorage.getItem("rr.lastSync")||"1970-01-01T00:00:00Z");ti(this,"usageQueue",[])}async init(){this.db=await this.openDB("radreport",1,e=>{e.objectStoreNames.contains("templates")||e.createObjectStore("templates",{keyPath:"template_id"}),e.objectStoreNames.contains("sentences")||e.createObjectStore("sentences",{keyPath:"frase_id"}),e.objectStoreNames.contains("findings")||e.createObjectStore("findings",{keyPath:"finding_id"}),e.objectStoreNames.contains("prefs")||e.createObjectStore("prefs",{keyPath:"user_id"})}),window.addEventListener("online",()=>this.flushUsage())}openDB(e,r,n){return new Promise((i,s)=>{const o=indexedDB.open(e,r);o.onupgradeneeded=()=>n(o.result),o.onsuccess=()=>i(o.result),o.onerror=()=>s(o.error)})}async fetchJSON(e,r){const n=`${this.base}${e}`,i={Accept:"application/json"};Pi&&(i.Authorization=`Bearer ${Pi}`);const s=this.etags.get(n);s&&(i["If-None-Match"]=s);let o=await fetch(n,{...r,headers:i,credentials:"include"});if(o.status===401&&e!=="/auth/refresh")try{const l=await fetch(`${this.base}/auth/refresh`,{method:"POST",credentials:"include"});if(l.ok){const u=await l.json();u!=null&&u.accessToken&&(Pi=u.accessToken),o=await fetch(n,{...r,headers:i,credentials:"include"})}}catch{}if(o.status===304)return{fromCache:!0};if(!o.ok)throw new Error(String(o.status));const a=o.headers.get("ETag");return a&&this.etags.set(n,a),await o.json()}store(e,r){return this.db.transaction(e,r).objectStore(e)}getAll(e){return new Promise(r=>{const n=this.store(e,"readonly").getAll();n.onsuccess=()=>r(n.result)})}putMany(e,r){return new Promise(n=>{const i=this.store(e,"readwrite");r.forEach(s=>i.put(s)),i.transaction.oncomplete=()=>n()})}async getTemplates(e){try{const r=e?`?mod=${encodeURIComponent(e)}`:"",n=await this.fetchJSON(`/templates${r}`);n!=null&&n.data&&await this.putMany("templates",n.data)}catch{}return await this.getAll("templates")}async getSentences(e){try{const r=e?`?mod=${encodeURIComponent(e)}`:"",n=await this.fetchJSON(`/sentences${r}`);n!=null&&n.data&&await this.putMany("sentences",n.data)}catch{}return await this.getAll("sentences")}async login(e){const r=await this.fetchJSON("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return r!=null&&r.accessToken&&(Pi=r.accessToken),r}async loginWithGoogleIdToken(e){var o;if(!localStorage.getItem("rr.csrf"))try{const a=await this.fetchJSON("/auth/csrf"),l=(a==null?void 0:a.csrf)||((o=a==null?void 0:a.data)==null?void 0:o.csrf);l&&localStorage.setItem("rr.csrf",l)}catch{}const n={"Content-Type":"application/json"},i=localStorage.getItem("rr.csrf");i&&(n["X-CSRF-Token"]=i);const s=await this.fetchJSON("/auth/google",{method:"POST",headers:n,body:JSON.stringify({idToken:e})});return s!=null&&s.accessToken&&(Pi=s.accessToken),s}async register(e){var o;if(!localStorage.getItem("rr.csrf"))try{const a=await this.fetchJSON("/auth/csrf"),l=(a==null?void 0:a.csrf)||((o=a==null?void 0:a.data)==null?void 0:o.csrf);l&&localStorage.setItem("rr.csrf",l)}catch{}const n={"Content-Type":"application/json"},i=localStorage.getItem("rr.csrf");i&&(n["X-CSRF-Token"]=i);const s=await this.fetchJSON("/auth/register",{method:"POST",headers:n,body:JSON.stringify(e)});return s!=null&&s.accessToken&&(Pi=s.accessToken),s}async loginPassword(e){var o;if(!localStorage.getItem("rr.csrf"))try{const a=await this.fetchJSON("/auth/csrf"),l=(a==null?void 0:a.csrf)||((o=a==null?void 0:a.data)==null?void 0:o.csrf);l&&localStorage.setItem("rr.csrf",l)}catch{}const n={"Content-Type":"application/json"},i=localStorage.getItem("rr.csrf");i&&(n["X-CSRF-Token"]=i);const s=await this.fetchJSON("/auth/login/password",{method:"POST",headers:n,body:JSON.stringify(e)});return s!=null&&s.accessToken&&(Pi=s.accessToken),s}getGoogleClientId(){const e="670342840776-05dl50pd2celfempvbp6ovqstut3lb4g.apps.googleusercontent.com",r=localStorage.getItem("rr.google.cid");return e||r||null}async me(){return await this.fetchJSON("/auth/me")}async pushOps(e){return await this.fetchJSON("/sync/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ops:e})})}async pullChanges(e){const r=`/sync/pull?since=${encodeURIComponent(e||"1970-01-01T00:00:00Z")}`;return await this.fetchJSON(r)}scheduleSync(){window.addEventListener("online",async()=>{try{const e=await this.pullChanges(localStorage.getItem("rr.lastSync")||"1970-01-01T00:00:00Z");e!=null&&e.nextSince&&localStorage.setItem("rr.lastSync",e.nextSince)}catch{}})}async getPrefs(){const e=await this.fetchJSON("/prefs");return e==null?void 0:e.data}async savePrefs(e){const r=await this.fetchJSON("/prefs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r==null?void 0:r.data}async logout(){var i;if(!localStorage.getItem("rr.csrf"))try{const s=await this.fetchJSON("/auth/csrf"),o=(s==null?void 0:s.csrf)||((i=s==null?void 0:s.data)==null?void 0:i.csrf);o&&localStorage.setItem("rr.csrf",o)}catch{}const r={"Content-Type":"application/json"},n=localStorage.getItem("rr.csrf");n&&(r["X-CSRF-Token"]=n);try{await this.fetchJSON("/auth/logout",{method:"POST",headers:r})}catch{}Pi=null}async aiSuggest(e){const r=await this.fetchJSON("/ai/suggest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r==null?void 0:r.data}async aiComplete(e){const r=await this.fetchJSON("/ai/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r==null?void 0:r.data}async aiDifferentials(e){const r=await this.fetchJSON("/ai/differentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r==null?void 0:r.data}async aiRagSearch(e){const r=new URLSearchParams({q:e.q,mod:e.modality,k:String(e.k??6)}).toString(),n=await this.fetchJSON("/ai/rag/search?"+r);return n==null?void 0:n.data}async delta(e=["templates","smart_sentences","findings"]){try{const r={since:this.lastSync,entities:e},n=await this.fetchJSON("/sync/delta",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),i=(n==null?void 0:n.changes)||[],s=(n==null?void 0:n.deleted)||[];for(const o of i)o.entity==="templates"&&await this.putMany("templates",[o]),o.entity==="smart_sentences"&&await this.putMany("sentences",[o]),o.entity==="findings"&&await this.putMany("findings",[o]);this.lastSync=(n==null?void 0:n.nextSince)||new Date().toISOString(),localStorage.setItem("rr.lastSync",this.lastSync)}catch{}}async postUsage(e){try{await this.fetchJSON("/usage",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-User-Id":localStorage.getItem("rr.user")||"00000000-0000-0000-0000-000000000000"}})}catch{this.usageQueue.push(e)}}async flushUsage(){for(;this.usageQueue.length;){const e=this.usageQueue[0];try{await this.postUsage(e),this.usageQueue.shift()}catch{break}}}}const Nr=new lV;async function uV(){const t=btoa(String.fromCharCode(...crypto.getRandomValues(new Uint8Array(32)))),r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("");return[t,s]}function cV({onSuccess:t,onError:e}){return ee.useEffect(()=>{const n=setTimeout(async()=>{try{const{data:{session:i}}=await Cr.auth.getSession();if(i){t==null||t();return}const s=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",o="670342840776-05dl50pd2celfempvbp6ovqstut3lb4g.apps.googleusercontent.com";console.log("=== Google One Tap Config ==="),console.log("Ambiente:",s?"Desenvolvimento Local":"Produo"),console.log("Google Client ID:",o?"Configurado":"No configurado"),console.log("Origem:",window.location.origin);const[a,l]=await uV();if(!window.google){const u=document.createElement("script");u.src="https://accounts.google.com/gsi/client",u.async=!0,u.defer=!0,await new Promise((c,d)=>{u.onload=()=>c(),u.onerror=()=>d(new Error("Failed to load Google script")),document.head.appendChild(u)})}window.google.accounts.id.initialize({client_id:o,callback:async u=>{try{console.log("Google One Tap callback recebido");const{data:c,error:d}=await Cr.auth.signInWithIdToken({provider:"google",token:u.credential,nonce:a});if(d)throw console.error("Erro no signInWithIdToken:",d),d;console.log("Google One Tap login successful"),t==null||t()}catch(c){console.error("Google One Tap login error:",c),e==null||e(c)}},nonce:l,use_fedcm_for_prompt:!0,context:"signin",auto_select:!0,itp_support:!0}),window.google.accounts.id.prompt(u=>{console.log("Google One Tap prompt notification:",u),(u.isNotDisplayed()||u.isSkippedMoment())&&console.log("Google One Tap not displayed or skipped")})}catch(i){console.error("Failed to initialize Google One Tap:",i),e==null||e(i)}},1e3);return()=>{var i,s;if(clearTimeout(n),(s=(i=window.google)==null?void 0:i.accounts)!=null&&s.id)try{console.log("Cleaning up Google One Tap")}catch{}}},[t,e]),null}function dV({className:t="",onSuccess:e,onError:r}){const[n,i]=ee.useState(!1),s=async()=>{try{i(!0);const o=`${window.location.origin}/auth/callback`;console.log("Iniciando Google OAuth com redirect URL:",o),console.log("Origem atual:",window.location.origin);const{data:a,error:l}=await Cr.auth.signInWithOAuth({provider:"google",options:{redirectTo:o,queryParams:{access_type:"offline",prompt:"consent"}}});if(l)throw l;console.log("Google OAuth iniciado com sucesso, URL:",a.url)}catch(o){console.error("Erro ao iniciar login com Google:",o),r==null||r(o)}finally{i(!1)}};return B.jsxs("button",{onClick:s,disabled:n,className:`inline-flex items-center justify-center gap-3 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 ${t}`,children:[n?B.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-gray-600"}):B.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[B.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),B.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),B.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),B.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),B.jsx("span",{children:n?"Conectando...":"Continuar com Google"})]})}function hV({onConfigCheck:t}){return ee.useEffect(()=>{(()=>{const r={origin:window.location.origin,hostname:window.location.hostname,port:window.location.port,protocol:window.location.protocol,callbackUrl:`${window.location.origin}/auth/callback`,isLocal:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",envVars:{supabaseUrl:"https://gxhbdbovixbptrjrcwbr.supabase.co",googleClientId:"670342840776-05dl50pd2celfempvbp6ovqstut3lb4g.apps.googleusercontent.com"}};console.log("=== Verificao de Configurao de Auth ==="),console.log("Origem:",r.origin),console.log("Hostname:",r.hostname),console.log("Porta:",r.port),console.log("Protocolo:",r.protocol),console.log("URL de Callback:",r.callbackUrl),console.log(" desenvolvimento local?",r.isLocal),console.log("Variveis de ambiente:",r.envVars),console.log("=========================================="),r.isLocal?(console.log(" Modo de desenvolvimento local detectado"),console.log(" URL de callback deve ser: http://localhost:5173/auth/callback")):(console.log("  Modo de produo detectado"),console.log(`  URL de callback deve ser: ${r.origin}/auth/callback`)),r.envVars.supabaseUrl||console.error(" VITE_SUPABASE_URL no configurado"),r.envVars.googleClientId||console.error(" VITE_GOOGLE_CLIENT_ID no configurado"),t==null||t(r)})()},[t]),null}function fV(){console.log("=== Configurao de Autenticao ==="),console.log("Origem atual:",window.location.origin),console.log("Href atual:",window.location.href),console.log("Protocolo:",window.location.protocol),console.log("Host:",window.location.host),console.log("Porta:",window.location.port);const t=`${window.location.origin}/auth/callback`;console.log("URL de callback esperada:",t),console.log("Supabase URL:","https://gxhbdbovixbptrjrcwbr.supabase.co"),console.log("Google Client ID:","670342840776-05dl50pd2celfempvbp6ovqstut3lb4g.apps.googleusercontent.com"),console.log("=== Fim da Configurao ===")}function pV(t){return/.+@.+\..+/.test(t)}function dI(){const{login:t,loginWithGoogle:e,error:r}=rp(),n=Tc(),[i,s]=ee.useState(""),[o,a]=ee.useState(""),[l,u]=ee.useState(!1),[c,d]=ee.useState(!0),[h,f]=ee.useState(!1),[p,g]=ee.useState(null),[w,m]=ee.useState(0),y=ee.useRef(null);ee.useEffect(()=>{const ne=localStorage.getItem("rr.lastEmail");ne&&s(ne),fV()},[]),ee.useEffect(()=>{r&&g(r.message);const ne=new URLSearchParams(window.location.search),M=ne.get("error"),U=ne.get("message");if(M&&U){let C=U;switch(M){case"oauth_error":C="Erro no login com Google. Por favor, tente novamente.";break;case"exchange_error":C="Erro ao processar autenticao. Por favor, tente novamente.";break;case"pkce_error":C="Erro no processo de autenticao. Por favor, tente novamente.";break;case"network_error":C="Erro de rede. Verifique sua conexo e tente novamente.";break;case"timeout_error":C="Tempo limite excedido. Por favor, tente novamente.";break;case"auth_failed":C="Falha na autenticao. Por favor, tente novamente.";break}g(C),window.history.replaceState({},document.title,window.location.pathname)}},[r]);const v=ee.useMemo(()=>i&&!pV(i)?"Email invlido":null,[i]),b=!!(h||v||!i||!o||y.current&&Date.now()<y.current);async function E(ne){var M;if(ne.preventDefault(),!b){g(null),f(!0);try{const U=await t(i,o);if(U.success)c&&localStorage.setItem("rr.lastEmail",i),n("/app");else{g(((M=U.error)==null?void 0:M.message)||"No foi possvel entrar. Verifique as credenciais.");const C=w+1;m(C),C>=5&&(y.current=Date.now()+3e4)}}catch{g("No foi possvel entrar. Verifique as credenciais.");const U=w+1;m(U),U>=5&&(y.current=Date.now()+3e4)}finally{f(!1)}}}const N="blobs",_="/hero.jpg",I=Nr.googleEnabled,R=Nr.getGoogleClientId(),F=()=>{switch(N){case"gradient":return B.jsx(ap,{});case"image":return B.jsx(E1,{src:_});case"blobs":return B.jsx(oc,{});case"particles":return B.jsx(lp,{});default:return B.jsx(oc,{})}};return B.jsxs(B.Fragment,{children:[B.jsx(hV,{}),B.jsx(cV,{onSuccess:()=>n("/app"),onError:ne=>g("Erro ao fazer login com Google: "+ne.message)}),B.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-[color:var(--bg)] text-foreground",children:[F(),B.jsx("div",{className:"hero-horizon"}),B.jsx("div",{className:"container relative z-10 grid min-h-screen place-items-center py-12",children:B.jsxs("form",{onSubmit:E,"aria-labelledby":"loginTitle",className:"w-full max-w-md animate-in fade-in-0 zoom-in-95 duration-300 rounded-2xl border border-[color:var(--divider)] bg-[color:var(--panel)]/70 p-6 shadow",children:[B.jsx("h2",{id:"loginTitle",className:"m-0 text-2xl font-semibold",children:"Bem-vindo"}),B.jsx("p",{className:"mt-1 text-sm text-muted",children:"Acesse sua conta"}),I&&R&&B.jsx(dV,{className:"mt-4 w-full",onSuccess:()=>n("/app"),onError:ne=>g("Erro ao fazer login com Google: "+ne.message)}),B.jsxs("div",{className:"my-3 grid grid-cols-[1fr_auto_1fr] items-center gap-2",children:[B.jsx("span",{className:"h-px bg-[color:var(--divider)]"}),B.jsx("span",{className:"text-xs text-muted",children:"ou"}),B.jsx("span",{className:"h-px bg-[color:var(--divider)]"})]}),B.jsxs("label",{className:"grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Email"}),B.jsx("input",{"aria-invalid":!!v,"aria-describedby":v?"emailHelp":void 0,value:i,onChange:ne=>s(ne.target.value),type:"email",required:!0,className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2 outline-none html:light:bg-white"})]}),v&&B.jsx("div",{id:"emailHelp",role:"alert",className:"mt-1 text-xs text-red-300",children:v}),B.jsxs("label",{className:"mt-3 grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Senha"}),B.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-2",children:[B.jsx("input",{value:o,onChange:ne=>a(ne.target.value),type:l?"text":"password",className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2 outline-none html:light:bg-white"}),B.jsx("button",{type:"button",className:"rounded-md border border-[color:var(--divider)] px-3 py-2","aria-pressed":l,onClick:()=>u(ne=>!ne),children:l?"Ocultar":"Mostrar"})]})]}),B.jsxs("label",{className:"mt-3 flex items-center gap-2 text-sm text-muted",children:[B.jsx("input",{type:"checkbox",checked:c,onChange:ne=>d(ne.target.checked)}),B.jsx("span",{children:"Lembrar-me"})]}),p&&B.jsx("div",{role:"alert",className:"mt-2 text-sm text-red-300",children:p}),B.jsx("button",{className:"mt-4 w-full rounded-lg bg-primary px-4 py-2 text-black shadow-glow disabled:opacity-60",type:"submit",disabled:b,children:h?"Entrando":"Entrar"}),B.jsxs("div",{className:"mt-3 flex justify-between text-xs text-muted",children:[B.jsx(Zu,{to:"/signup",children:"Criar conta"}),B.jsx("a",{href:"#",children:"Esqueci minha senha"})]})]})})]})]})}function mV(t){return/.+@.+\..+/.test(t)}function hI(){const{register:t,error:e}=rp(),r=Tc(),[n,i]=ee.useState(""),[s,o]=ee.useState(""),[a,l]=ee.useState(""),[u,c]=ee.useState(""),[d,h]=ee.useState(!1),[f,p]=ee.useState(!1),[g,w]=ee.useState(!1),[m,y]=ee.useState(null);ee.useEffect(()=>{e&&y(e.message)},[e]);const v=ee.useMemo(()=>s&&!mV(s)?"Email invlido":null,[s]),b=ee.useMemo(()=>a&&a.length<6?"Mnimo 6 caracteres":null,[a]),E=ee.useMemo(()=>u&&a!==u?"As senhas no coincidem":null,[u,a]),N=g||!!v||!!b||!!E||!n||!s||!a||!u;async function _(F){var ne;if(F.preventDefault(),!N){y(null),w(!0);try{const M=await t(s,a,n);M.success?r("/app"):y(((ne=M.error)==null?void 0:ne.message)||"No foi possvel criar a conta.")}catch{y("No foi possvel criar a conta.")}finally{w(!1)}}}const I="blobs",R=()=>{switch(I){case"gradient":return B.jsx(ap,{});case"image":return B.jsx(E1,{src:"/hero.jpg"});case"blobs":return B.jsx(oc,{});case"particles":return B.jsx(lp,{});default:return B.jsx(oc,{})}};return B.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-[color:var(--bg)] text-foreground",children:[R(),B.jsx("div",{className:"hero-horizon"}),B.jsx("div",{className:"container relative z-10 grid min-h-screen place-items-center py-12",children:B.jsxs("form",{onSubmit:_,"aria-labelledby":"signupTitle",className:"w-full max-w-md animate-in fade-in-0 zoom-in-95 duration-300 rounded-2xl border border-[color:var(--divider)] bg-[color:var(--panel)]/70 p-6 shadow",children:[B.jsx("h2",{id:"signupTitle",className:"m-0 text-2xl font-semibold",children:"Criar conta"}),B.jsx("p",{className:"mt-1 text-sm text-muted",children:"Comece a usar o RadReport"}),B.jsxs("label",{className:"mt-4 grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Nome completo"}),B.jsx("input",{value:n,onChange:F=>i(F.target.value),type:"text",required:!0,className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2 outline-none html:light:bg-white"})]}),B.jsxs("label",{className:"mt-3 grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Email"}),B.jsx("input",{"aria-invalid":!!v,"aria-describedby":v?"emailHelp":void 0,value:s,onChange:F=>o(F.target.value),type:"email",required:!0,className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2 outline-none html:light:bg-white"})]}),v&&B.jsx("div",{id:"emailHelp",role:"alert",className:"mt-1 text-xs text-red-300",children:v}),B.jsxs("label",{className:"mt-3 grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Senha"}),B.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-2",children:[B.jsx("input",{"aria-invalid":!!b,"aria-describedby":b?"passwordHelp":void 0,value:a,onChange:F=>l(F.target.value),type:d?"text":"password",required:!0,className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2 outline-none html:light:bg-white"}),B.jsx("button",{type:"button",className:"rounded-md border border-[color:var(--divider)] px-3 py-2","aria-pressed":d,onClick:()=>h(F=>!F),children:d?"Ocultar":"Mostrar"})]})]}),b&&B.jsx("div",{id:"passwordHelp",role:"alert",className:"mt-1 text-xs text-red-300",children:b}),B.jsxs("label",{className:"mt-3 grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Confirmar senha"}),B.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-2",children:[B.jsx("input",{"aria-invalid":!!E,"aria-describedby":E?"confirmPasswordHelp":void 0,value:u,onChange:F=>c(F.target.value),type:f?"text":"password",required:!0,className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2 outline-none html:light:bg-white"}),B.jsx("button",{type:"button",className:"rounded-md border border-[color:var(--divider)] px-3 py-2","aria-pressed":f,onClick:()=>p(F=>!F),children:f?"Ocultar":"Mostrar"})]})]}),E&&B.jsx("div",{id:"confirmPasswordHelp",role:"alert",className:"mt-1 text-xs text-red-300",children:E}),m&&B.jsx("div",{role:"alert",className:"mt-2 text-sm text-red-300",children:m}),B.jsx("button",{className:"mt-4 w-full rounded-lg bg-primary px-4 py-2 text-black shadow-glow disabled:opacity-60",type:"submit",disabled:N,children:g?"Criando conta":"Criar conta"}),B.jsxs("div",{className:"mt-3 text-center text-xs text-muted",children:["J tem uma conta? ",B.jsx(Zu,{to:"/login",className:"text-primary hover:underline",children:"Entrar"})]})]})})]})}function fI(){const t=Tc();return ee.useEffect(()=>{(async()=>{var r,n,i,s,o;try{console.log("=== AuthCallback: Iniciando processamento OAuth ==="),console.log("Current URL completa:",window.location.href),console.log("Hash:",window.location.hash),console.log("Search params:",window.location.search),console.log("Pathname:",window.location.pathname);const a=new URLSearchParams(window.location.search),l=a.get("code"),u=a.get("next")??"/app",c=a.get("error"),d=a.get("error_description");if(console.log("=== AuthCallback: Parmetros detectados ==="),console.log("Cdigo OAuth (PKCE):",l),console.log("Erro:",c),console.log("Descrio do erro:",d),console.log("Next URL:",u),console.log("URL completa:",window.location.href),c){console.error("AuthCallback: Erro detectado na URL:",c,d);const g=encodeURIComponent(d||c);t(`/login?error=oauth_error&message=${g}`);return}if(l){console.log("AuthCallback: Processando cdigo PKCE...");try{console.log("AuthCallback: Chamando exchangeCodeForSession...");const{data:g,error:w}=await Cr.auth.exchangeCodeForSession(l);if(console.log("AuthCallback: Resultado exchangeCodeForSession:",{data:g,error:w}),w)throw console.error("AuthCallback: Erro ao trocar cdigo por sesso:",w),console.error("Erro detalhado:",{message:w.message,name:w.name,status:w==null?void 0:w.status,stack:w.stack}),w;if(console.log("AuthCallback: Sesso criada com sucesso"),console.log("AuthCallback: User:",(r=g.user)==null?void 0:r.id),console.log("AuthCallback: Email:",(n=g.user)==null?void 0:n.email),console.log("AuthCallback: Session data:",g.session),g.session){console.log("AuthCallback: Redirecionando para:",u),t(u);return}else throw console.log("AuthCallback: Sesso no criada, dados:",g),new Error("Sesso no foi criada")}catch(g){console.error("AuthCallback: Erro crtico na troca de cdigo:",g),console.error("Tipo do erro:",g==null?void 0:g.name),console.error("Mensagem:",g==null?void 0:g.message),console.error("Status:",g==null?void 0:g.status),console.error("Erro completo:",g);const w=encodeURIComponent((g==null?void 0:g.message)||"Erro ao processar cdigo de autenticao");t(`/login?error=exchange_error&message=${w}`);return}}const h=window.location.hash;if(h&&h.includes("access_token")){console.log("AuthCallback: Processando tokens do hash...");const g=new URLSearchParams(h.substring(1)),w=g.get("access_token"),m=g.get("refresh_token"),y=g.get("expires_in");if(w&&m){console.log("AuthCallback: Configurando sesso a partir dos tokens...");const{data:v,error:b}=await Cr.auth.setSession({access_token:w,refresh_token:m});if(b)throw console.error("AuthCallback: Erro ao definir sesso:",b),b;if(v.session){console.log("AuthCallback: Sesso definida com sucesso a partir do hash"),t(u);return}}}console.log("AuthCallback: Verificando sesso existente...");const{data:{session:f},error:p}=await Cr.auth.getSession();if(p&&console.error("AuthCallback: Erro ao obter sesso:",p),f){console.log("AuthCallback: Sesso existente encontrada"),t(u);return}console.log("AuthCallback: Nenhum mtodo de autenticao funcionou"),console.log("AuthCallback: Parmetros disponveis:",{code:l||"nenhum",hash:window.location.hash||"nenhum",session:f?"sim":"no"}),console.log("AuthCallback: Tentando recuperao alternativa..."),setTimeout(async()=>{console.log("AuthCallback: Verificando sesso aps delay...");const{data:{session:g}}=await Cr.auth.getSession();g?(console.log("AuthCallback: Sesso encontrada aps delay"),t(u)):(console.log("AuthCallback: Sesso no encontrada aps delay"),t("/login?error=auth_failed&message=No foi possvel processar a autenticao"))},1e3)}catch(a){console.error("=== AuthCallback: ERRO CRTICO ==="),console.error("Tipo:",(a==null?void 0:a.name)||"Unknown"),console.error("Mensagem:",(a==null?void 0:a.message)||"Unknown error"),console.error("Status:",a==null?void 0:a.status),console.error("Stack:",a==null?void 0:a.stack),console.error("Erro completo:",a);let l="auth_error",u=(a==null?void 0:a.message)||"Erro desconhecido";(i=a==null?void 0:a.message)!=null&&i.includes("PKCE")?(l="pkce_error",u="Erro no processo de autenticao PKCE. Por favor, tente novamente."):(s=a==null?void 0:a.message)!=null&&s.includes("network")?(l="network_error",u="Erro de rede. Verifique sua conexo."):(o=a==null?void 0:a.message)!=null&&o.includes("timeout")&&(l="timeout_error",u="Tempo limite excedido. Por favor, tente novamente.");const c=encodeURIComponent(u);t(`/login?error=${l}&message=${c}`)}})()},[t]),B.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[color:var(--bg)] text-foreground",children:B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),B.jsx("p",{className:"text-muted",children:"Processando autenticao..."}),B.jsx("p",{className:"text-xs text-muted mt-2",children:"Aguarde, estamos verificando suas credenciais com o Google..."}),B.jsx("p",{className:"text-xs text-muted mt-1",children:"Se isso demorar muito, verifique o console para erros."})]})})}function Qt(t){this.content=t}Qt.prototype={constructor:Qt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),s=n.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new Qt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Qt(r)},addToStart:function(t,e){return new Qt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Qt(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),s=n.find(t);return i.splice(s==-1?i.length:s,0,e,r),new Qt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Qt.from(t),t.size?new Qt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Qt.from(t),t.size?new Qt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Qt.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Qt.from=function(t){if(t instanceof Qt)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Qt(e)};function pI(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),s=e.child(n);if(i==s){r+=i.nodeSize;continue}if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)r++;return r}if(i.content.size||s.content.size){let o=pI(i.content,s.content,r+1);if(o!=null)return o}r+=i.nodeSize}}function mI(t,e,r,n){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:r,b:n};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){r-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:r,b:n};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(o.content.size||a.content.size){let u=mI(o.content,a.content,r-1,n-1);if(u)return u}r-=l,n-=l}}class ge{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,s){for(let o=0,a=0;a<r;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&n(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,r-c),n,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let s="",o=!0;return this.nodesBetween(e,r,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,r-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&n&&(o?o=!1:s+=n),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ge(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let s=0,o=0;o<r;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>r)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,r-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,r-o-1))),n.push(a),i+=a.nodeSize),o=l}return new ge(n,i)}cutByIndex(e,r){return e==r?ge.empty:e==0&&r==this.content.length?this:new ge(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new ge(i,s)}addToStart(e){return new ge([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ge(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return pI(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return mI(this,e,r,n)}findIndex(e){if(e==0)return xd(0,e);if(e==this.size)return xd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),s=n+i.nodeSize;if(s>=e)return s==e?xd(r+1,s):xd(r,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return ge.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ge(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ge.empty;let r,n=0;for(let i=0;i<e.length;i++){let s=e[i];n+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(r||(r=e.slice(0,i)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new ge(r||e,n)}static from(e){if(!e)return ge.empty;if(e instanceof ge)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ge([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ge.empty=new ge([],0);const Bm={index:0,offset:0};function xd(t,e){return Bm.index=t,Bm.offset=e,Bm}function Xh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Xh(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Xh(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let nt=class Pv{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Pv.none;if(e instanceof Pv)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};nt.none=[];class Yh extends Error{}class xe{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=yI(this.content,e+this.openStart,r);return n&&new xe(n,this.openStart,this.openEnd)}removeBetween(e,r){return new xe(gI(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return xe.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xe(ge.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)i++;return new xe(e,n,i)}}xe.empty=new xe(ge.empty,0,0);function gI(t,e,r){let{index:n,offset:i}=t.findIndex(e),s=t.maybeChild(n),{index:o,offset:a}=t.findIndex(r);if(i==e||s.isText){if(a!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,s.copy(gI(s.content,e-i-1,r-i-1)))}function yI(t,e,r,n){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=yI(o.content,e-s-1,r,o);return a&&t.replaceChild(i,o.copy(a))}function gV(t,e,r){if(r.openStart>t.depth)throw new Yh("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Yh("Inconsistent open depths");return vI(t,e,r,0)}function vI(t,e,r,n){let i=t.index(n),s=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let o=vI(t,e,r,n+1);return s.copy(s.content.replaceChild(i,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,a=o.content;return go(o,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=yV(r,t);return go(s,bI(t,o,a,e,n))}else return go(s,Qh(t,e,n))}function wI(t,e){if(!e.type.compatibleContent(t.type))throw new Yh("Cannot join "+e.type.name+" onto "+t.type.name)}function Nv(t,e,r){let n=t.node(r);return wI(n,e.node(r)),n}function mo(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function yu(t,e,r,n){let i=(e||t).node(r),s=0,o=e?e.index(r):i.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(mo(t.nodeAfter,n),s++));for(let a=s;a<o;a++)mo(i.child(a),n);e&&e.depth==r&&e.textOffset&&mo(e.nodeBefore,n)}function go(t,e){return t.type.checkContent(e),t.copy(e)}function bI(t,e,r,n,i){let s=t.depth>i&&Nv(t,e,i+1),o=n.depth>i&&Nv(r,n,i+1),a=[];return yu(null,t,i,a),s&&o&&e.index(i)==r.index(i)?(wI(s,o),mo(go(s,bI(t,e,r,n,i+1)),a)):(s&&mo(go(s,Qh(t,e,i+1)),a),yu(e,r,i,a),o&&mo(go(o,Qh(r,n,i+1)),a)),yu(n,null,i,a),new ge(a)}function Qh(t,e,r){let n=[];if(yu(null,t,r,n),t.depth>r){let i=Nv(t,e,r+1);mo(go(i,Qh(t,e,r+1)),n)}return yu(e,null,r,n),new ge(n)}function yV(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let s=r-1;s>=0;s--)i=e.node(s).copy(ge.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class ac{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let s=0;s<e;s++)i+=n.child(s).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return nt.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let a=n;n=i,i=a}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!i||!n[s].isInSet(i.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Zh(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,s=r;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(n.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new ac(r,n,s)}static resolveCached(e,r){let n=S_.get(e);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==r)return o}else S_.set(e,n=new vV);let i=n.elts[n.i]=ac.resolve(e,r);return n.i=(n.i+1)%wV,i}}class vV{constructor(){this.elts=[],this.i=0}}const wV=12,S_=new WeakMap;class Zh{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const bV=Object.create(null);let ls=class Iv{constructor(e,r,n,i=nt.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||ge.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Xh(this.attrs,r||e.defaultAttrs||bV)&&nt.sameSet(this.marks,n||nt.none)}copy(e=null){return e==this.content?this:new Iv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Iv(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return xe.empty;let i=this.resolve(e),s=this.resolve(r),o=n?0:i.sharedDepth(r),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new xe(u,i.depth-o,s.depth-o)}replace(e,r,n){return gV(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return ac.resolveCached(this,e)}resolveNoCache(e){return ac.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,s=>(n.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),SI(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=ge.empty,i=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,s),a=o&&o.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(n),o=s&&s.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=nt.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!nt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=ge.fromJSON(e,r.content),s=e.nodeType(r.type).create(r.attrs,i,n);return s.type.checkAttrs(s.attrs),s}};ls.prototype.text=void 0;class ef extends ls{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):SI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ef(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ef(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function SI(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Co{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new SV(e,r);if(n.next==null)return Co.empty;let i=xI(n);n.next&&n.err("Unexpected trailing text");let s=AV(CV(i));return RV(s,n),s}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let s=r;i&&s<n;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function s(o,a){let l=o.matchFragment(e,n);if(l&&(!r||l.validEnd))return ge.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(c));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!i.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:i}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let s=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return s}).join(`
`)}}Co.empty=new Co(!0);class SV{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function xI(t){let e=[];do e.push(xV(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function xV(t){let e=[];do e.push(EV(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function EV(t){let e=TV(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=_V(t,e);else break;return e}function x_(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function _V(t,e){let r=x_(t),n=r;return t.eat(",")&&(t.next!="}"?n=x_(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function kV(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let s in r){let o=r[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function TV(t){if(t.eat("(")){let e=xI(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=kV(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function CV(t){let e=[[]];return i(s(t,0),r()),e;function r(){return e.push([])-1}function n(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=r())}else if(o.type=="star"){let l=r();return n(a,l),i(s(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=r();return i(s(o.expr,a),l),i(s(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=r();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=r();n(l,c),i(s(o.expr,l),c),l=c}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function EI(t,e){return e-t}function E_(t,e){let r=[];return n(e),r.sort(EI);function n(i){let s=t[i];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&r.indexOf(l)==-1&&n(l)}}}function AV(t){let e=Object.create(null);return r(E_(t,0));function r(n){let i=[];n.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);E_(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[n.join(",")]=new Co(n.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(EI);s.next.push({type:i[o][0],next:e[a.join(",")]||r(a)})}return s}}function RV(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(u)==-1&&n.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function _I(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function kI(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let s=t[n];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function TI(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function CI(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new PV(t,n,e[n]);return r}let __=class AI{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=CI(e,n.attrs),this.defaultAttrs=_I(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Co.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:kI(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ls(this,this.computeAttrs(e),ge.from(r),nt.setFrom(n))}createChecked(e=null,r,n){return r=ge.from(r),this.checkContent(r),new ls(this,this.computeAttrs(e),r,nt.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=ge.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let i=this.contentMatch.matchFragment(r),s=i&&i.fillBefore(ge.empty,!0);return s?new ls(this,e,r.append(s),nt.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){TI(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:nt.none:e}static compile(e,r){let n=Object.create(null);e.forEach((s,o)=>n[s]=new AI(s,r,o));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function OV(t,e,r){let n=r.split("|");return i=>{let s=i===null?"null":typeof i;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${s}`)}}class PV{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?OV(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class hp{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=CI(e,i.attrs),this.excluded=null;let s=_I(this.attrs);this.instance=s?new nt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new nt(this,kI(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((s,o)=>n[s]=new hp(s,i++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){TI(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class RI{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Qt.from(e.nodes),r.marks=Qt.from(e.marks||{}),this.nodes=__.compile(this.spec.nodes,this),this.marks=hp.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=Co.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?k_(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:k_(this,o.split(" "))}this.nodeFromJSON=i=>ls.fromJSON(this,i),this.markFromJSON=i=>nt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof __){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new ef(n,n.defaultAttrs,e,nt.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function k_(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t.marks[i],o=s;if(s)r.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function NV(t){return t.tag!=null}function IV(t){return t.style!=null}class us{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(NV(i))this.tags.push(i);else if(IV(i)){let s=/[^=]*/.exec(i.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,r={}){let n=new C_(this,r,!1);return n.addAll(e,nt.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new C_(this,r,!0);return n.addAll(e,nt.none,r.from,r.to),xe.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(LV(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,r,n,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(o.getAttrs){let l=o.getAttrs(r);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let r=[];function n(i){let s=i.priority==null?50:i.priority,o=0;for(;o<r.length;o++){let a=r[o];if((a.priority==null?50:a.priority)<s)break}r.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{n(o=A_(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{n(o=A_(o)),o.node||o.ignore||o.mark||(o.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new us(e,us.schemaRules(e)))}}const OI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},MV={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},PI={ol:!0,ul:!0},lc=1,Mv=2,vu=4;function T_(t,e,r){return e!=null?(e?lc:0)|(e==="full"?Mv:0):t&&t.whitespace=="pre"?lc|Mv:r&~vu}class Ed{constructor(e,r,n,i,s,o){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=nt.none,this.match=s||(o&vu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ge.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&lc)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let r=ge.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(ge.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!OI.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class C_{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,s,o=T_(null,r.preserveWhitespace,0)|(n?vu:0);i?s=new Ed(i.type,i.attrs,nt.none,!0,r.topMatch||i.type.contentMatch,o):n?s=new Ed(null,null,nt.none,!0,null,o):s=new Ed(e.schema.topNodeType,null,nt.none,!0,null,o),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,s=i.options&Mv?"full":this.localPreserveWS||(i.options&lc)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)if(s==="full")n=n.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=n.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),r,!0),a[l]&&this.insertNode(o.text(a[l]),r,!/\S/.test(a[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(o.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;PI.hasOwnProperty(o)&&this.parser.normalizeLists&&DV(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(l?l.ignore:MV.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if(OI.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let d=l&&l.skip?r:this.readStyles(e,r);d&&this.addAll(e,d),u&&this.sync(s),this.needsBlock=c}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=n.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(u=>!l.clearMark(u)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return r}addElementByRule(e,r,n,i){let s,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(o,r.attrs||null,n,r.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,r,n,i){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,r);this.findAtPoint(e,s)}findPlace(e,r,n){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+a)&&(i=u,s=l,!u.length))break;if(l.solid){if(n)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)r=this.enterInner(i[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=nt.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):R_(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,r,n,i){let s=this.findPlace(e.create(r),n,!1);return s&&(s=this.enterInner(e,r,n,!0,i)),s}enterInner(e,r,n,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=T_(e,s,o.options);o.options&vu&&o.content.length==0&&(a|=vu);let l=nt.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):R_(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new Ed(e,r,l,i,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=lc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=r[a];if(u==""){if(a==r.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function DV(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&PI.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function LV(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function A_(t){let e={};for(let r in t)e[r]=t[r];return e}function R_(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class Mo{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Fm(r).createDocumentFragment());let i=n,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,r);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=lh(Fm(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&lh(Fm(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return lh(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Mo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=O_(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return O_(e.marks)}}function O_(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Fm(t){return t.document||window.document}const P_=new WeakMap;function jV(t){let e=P_.get(t);return e===void 0&&P_.set(t,e=BV(t)),e}function BV(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function lh(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=jV(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let a,l=r?t.createElementNS(r,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),u[d]):d=="style"&&l.style?l.style.cssText=u[d]:l.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=lh(t,h,r,n);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const NI=65535,II=Math.pow(2,16);function FV(t,e){return t+e*II}function N_(t){return t&NI}function UV(t){return(t-(t&NI))/II}const MI=1,DI=2,uh=4,LI=8;class Dv{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&LI)>0}get deletedBefore(){return(this.delInfo&(MI|uh))>0}get deletedAfter(){return(this.delInfo&(DI|uh))>0}get deletedAcross(){return(this.delInfo&uh)>0}}class zr{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&zr.empty)return zr.empty}recover(e){let r=0,n=N_(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+UV(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],c=this.ranges[a+o],d=l+u;if(e<=d){let h=u?e==l?-1:e==d?1:r:r,f=l+i+(h<0?0:c);if(n)return f;let p=e==(r<0?l:d)?null:FV(a/3,e-l),g=e==l?DI:e==d?MI:uh;return(r<0?e!=l:e!=d)&&(g|=LI),new Dv(f,g,p)}i+=c-u}return n?e+i:new Dv(e+i,0,null)}touches(e,r){let n=0,i=N_(r),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[a+s],c=l+u;if(e<=c&&a==i*3)return!0;n+=this.ranges[a+o]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+r],c=this.ranges[i+n];e(a,a+u,l,l+c),s+=c-u}}invert(){return new zr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zr.empty:new zr(e<0?[0,-e,0]:[0,0,e])}}zr.empty=new zr([]);class uc{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new uc(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new uc;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,r);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return n?e:new Dv(e,i,null)}}const Um=Object.create(null);class hr{getMap(){return zr.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Um[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Um)throw new RangeError("Duplicate use of step JSON ID "+e);return Um[e]=r,r.prototype.jsonID=e,r}}class jt{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new jt(e,null)}static fail(e){return new jt(null,e)}static fromReplace(e,r,n,i){try{return jt.ok(e.replace(r,n,i))}catch(s){if(s instanceof Yh)return jt.fail(s.message);throw s}}}function rb(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(rb(s.content,e,s))),s.isInline&&(s=e(s,r,i)),n.push(s)}return ge.fromArray(n)}class Xi extends hr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new xe(rb(r.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),r.openStart,r.openEnd);return jt.fromReplace(e,this.from,this.to,s)}invert(){return new Vn(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Xi(r.pos,n.pos,this.mark)}merge(e){return e instanceof Xi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xi(r.from,r.to,e.markFromJSON(r.mark))}}hr.jsonID("addMark",Xi);class Vn extends hr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new xe(rb(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return jt.fromReplace(e,this.from,this.to,n)}invert(){return new Xi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Vn(r.pos,n.pos,this.mark)}merge(e){return e instanceof Vn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vn(r.from,r.to,e.markFromJSON(r.mark))}}hr.jsonID("removeMark",Vn);class Yi extends hr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return jt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return jt.fromReplace(e,this.pos,this.pos+1,new xe(ge.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Yi(this.pos,r.marks[i]);return new Yi(this.pos,this.mark)}}return new Ao(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Yi(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Yi(r.pos,e.markFromJSON(r.mark))}}hr.jsonID("addNodeMark",Yi);class Ao extends hr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return jt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return jt.fromReplace(e,this.pos,this.pos+1,new xe(ge.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Yi(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ao(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ao(r.pos,e.markFromJSON(r.mark))}}hr.jsonID("removeNodeMark",Ao);class Vt extends hr{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&Lv(e,this.from,this.to)?jt.fail("Structure replace would overwrite content"):jt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Vt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Vt(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Vt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?xe.empty:new xe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Vt(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?xe.empty:new xe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Vt(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Vt(r.from,r.to,xe.fromJSON(e,r.slice),!!r.structure)}}hr.jsonID("replace",Vt);class Ht extends hr{constructor(e,r,n,i,s,o,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Lv(e,this.from,this.gapFrom)||Lv(e,this.gapTo,this.to)))return jt.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return jt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?jt.fromReplace(e,this.from,this.to,n):jt.fail("Content does not fit in gap")}getMap(){return new zr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Ht(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||s>n.pos?null:new Ht(r.pos,n.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ht(r.from,r.to,r.gapFrom,r.gapTo,xe.fromJSON(e,r.slice),r.insert,!!r.structure)}}hr.jsonID("replaceAround",Ht);function Lv(t,e,r){let n=t.resolve(e),i=r-e,s=n.depth;for(;i>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,i--;if(i>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function zV(t,e,r,n){let i=[],s=[],o,a;t.doc.nodesBetween(e,r,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&c.type.allowsMarkType(n.type)){let h=Math.max(u,e),f=Math.min(u+l.nodeSize,r),p=n.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==h&&o.mark.eq(d[g])?o.to=f:i.push(o=new Vn(h,f,d[g])));a&&a.to==h?a.to=f:s.push(a=new Xi(h,f,n))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function VV(t,e,r,n){let i=[],s=0;t.doc.nodesBetween(e,r,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(n instanceof hp){let u=o.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,r);for(let c=0;c<l.length;c++){let d=l[c],h;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&d.eq(i[f].style)&&(h=p)}h?(h.to=u,h.step=s):i.push({style:d,from:Math.max(a,e),to:u,step:s})}}}),i.forEach(o=>t.step(new Vn(o.from,o.to,o.style)))}function nb(t,e,r,n=r.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),c=a+u.nodeSize,d=n.matchType(u.type);if(!d)o.push(new Vt(a,c,xe.empty));else{n=d;for(let h=0;h<u.marks.length;h++)r.allowsMarkType(u.marks[h].type)||t.step(new Vn(a,c,u.marks[h]));if(i&&u.isText&&r.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(u.text);)p||(p=new xe(ge.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new Vt(a+h.index,a+h.index+h[0].length,p))}}a=c}if(!n.validEnd){let l=n.fillBefore(ge.empty,!0);t.replace(a,a,new xe(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function $V(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function bl(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,i=0,s=0;;--n){let o=t.$from.node(n),a=t.$from.index(n)+i,l=t.$to.indexAfter(n)-s;if(n<t.depth&&o.canReplace(a,l,r))return n;if(n==0||o.type.spec.isolating||!$V(o,a,l))break;a&&(i=1),l<o.childCount&&(s=1)}return null}function HV(t,e,r){let{$from:n,$to:i,depth:s}=e,o=n.before(s+1),a=i.after(s+1),l=o,u=a,c=ge.empty,d=0;for(let p=s,g=!1;p>r;p--)g||n.index(p)>0?(g=!0,c=ge.from(n.node(p).copy(c)),d++):l--;let h=ge.empty,f=0;for(let p=s,g=!1;p>r;p--)g||i.after(p+1)<i.end(p)?(g=!0,h=ge.from(i.node(p).copy(h)),f++):u++;t.step(new Ht(l,u,o,a,new xe(c.append(h),d,f),c.size-d,!0))}function ib(t,e,r=null,n=t){let i=WV(t,e),s=i&&qV(n,e);return s?i.map(I_).concat({type:e,attrs:r}).concat(s.map(I_)):null}function I_(t){return{type:t,attrs:null}}function WV(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.contentMatchAt(n).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return r.canReplaceWith(n,i,o)?s:null}function qV(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.child(n),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:o}function KV(t,e,r){let n=ge.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let a=r[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=ge.from(r[o].type.create(r[o].attrs,n))}let i=e.start,s=e.end;t.step(new Ht(i,s,i,s,new xe(n,0,0),r.length,!0))}function GV(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(n,l)&&JV(t.doc,t.mapping.slice(s).map(a),n)){let u=null;if(n.schema.linebreakReplacement){let f=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);f&&!p?u=!1:!f&&p&&(u=!0)}u===!1&&BI(t,o,a,s),nb(t,t.mapping.slice(s).map(a,1),n,void 0,u===null);let c=t.mapping.slice(s),d=c.map(a,1),h=c.map(a+o.nodeSize,1);return t.step(new Ht(d,h,d+1,h-1,new xe(ge.from(n.create(l,null,o.marks)),0,0),1,!0)),u===!0&&jI(t,o,a,s),!1}})}function jI(t,e,r,n){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(n).map(r+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function BI(t,e,r,n){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function JV(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function XV(t,e,r,n,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let o=r.create(n,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Ht(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new xe(ge.from(o),0,0),1,!0))}function vi(t,e,r=1,n){let i=t.resolve(e),s=i.depth-r,o=n&&n[n.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>s;u--,c--){let d=i.node(u),h=i.index(u);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=n&&n[c+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[c]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(s),l=n&&n[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function YV(t,e,r=1,n){let i=t.doc.resolve(e),s=ge.empty,o=ge.empty;for(let a=i.depth,l=i.depth-r,u=r-1;a>l;a--,u--){s=ge.from(i.node(a).copy(s));let c=n&&n[u];o=ge.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}t.step(new Vt(e,e,new xe(s.append(o),r,r),!0))}function ks(t,e){let r=t.resolve(e),n=r.index();return FI(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function QV(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==n?t.type.schema.nodes.text:s.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}function FI(t,e){return!!(t&&e&&!t.isLeaf&&QV(t,e))}function fp(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let s,o,a=n.index(i);if(i==n.depth?(s=n.nodeBefore,o=n.nodeAfter):r>0?(s=n.node(i+1),a++,o=n.node(i).maybeChild(a)):(s=n.node(i).maybeChild(a-1),o=n.node(i+1)),s&&!s.isTextblock&&FI(s,o)&&n.node(i).canReplace(a,a+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function ZV(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-r),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);c&&!d?n=!1:!c&&d&&(n=!0)}let a=t.steps.length;if(n===!1){let c=t.doc.resolve(e+r);BI(t,c.node(),c.before(),a)}o.inlineContent&&nb(t,e+r-1,o,s.node().contentMatchAt(s.index()),n==null);let l=t.mapping.slice(a),u=l.map(e-r);if(t.step(new Vt(u,l.map(e+r,-1),xe.empty,!0)),n===!0){let c=t.doc.resolve(u);jI(t,c.node(),c.before(),t.steps.length)}return t}function e$(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let s=n.index(i);if(n.node(i).canReplaceWith(s,s,r))return n.before(i+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let s=n.indexAfter(i);if(n.node(i).canReplaceWith(s,s,r))return n.after(i+1);if(s<n.node(i).childCount)return null}return null}function UI(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let s=0;s<r.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),u=n.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function pp(t,e,r=e,n=xe.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),s=t.resolve(r);return zI(i,s,n)?new Vt(e,r,n):new t$(i,s,n).fit()}function zI(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class t${constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=ge.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ge.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let s=this.placed,o=n.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new xe(s,o,a);return e>-1?new Ht(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Vt(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let s=r.firstChild;if(r.childCount>1&&(i=0),s.type.spec.isolating&&i<=n){e=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,s=null;n?(s=zm(this.unplaced.content,n-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(r==1&&(o?u.matchType(o.type)||(d=u.fillBefore(ge.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:d};if(r==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=zm(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new xe(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=zm(e,r);if(i.childCount<=1&&r>0){let s=e.size-r<=r+i.size;this.unplaced=new xe(Yl(e,r-1,1),r-1,s?r-1:n)}else this.unplaced=new xe(Yl(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,u=0,c=[],{match:d,type:h}=this.frontier[r];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let g=a.child(u),w=d.matchType(g.type);if(!w)break;u++,(u>1||l==0||g.content.size)&&(d=w,c.push(VI(g.mark(h.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?f:-1)))}let p=u==a.childCount;p||(f=-1),this.placed=Ql(this.placed,r,ge.from(c)),this.frontier[r].match=d,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,w=a;g<f;g++){let m=w.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),w=m.content}this.unplaced=p?e==0?xe.empty:new xe(Yl(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new xe(Yl(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Vm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],s=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=Vm(e,r,i,n,s);if(o){for(let a=r-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=Vm(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:r,fit:o,move:s?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Ql(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ql(this.placed,this.depth,ge.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ge.empty,!0);r.childCount&&(this.placed=Ql(this.placed,this.frontier.length,r))}}function Yl(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Yl(t.firstChild.content,e-1,r)))}function Ql(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Ql(t.lastChild.content,e-1,r)))}function zm(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function VI(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,VI(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(ge.empty,!0)))),t.copy(n)}function Vm(t,e,r,n,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!r.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,o);return a&&!r$(r,s.content,o)?a:null}function r$(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function n$(t){return t.spec.defining||t.spec.definingForContent}function i$(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),s=t.doc.resolve(r);if(zI(i,s,n))return t.step(new Vt(e,r,n));let o=HI(i,s);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),u=[],c=n.openStart;for(let h=n.content,f=0;;f++){let p=h.firstChild;if(u.push(p),f==n.openStart)break;h=p.content}for(let h=c-1;h>=0;h--){let f=u[h],p=n$(f.type);if(p&&!f.sameMarkup(i.node(Math.abs(a)-1)))c=h;else if(p||!f.type.isTextblock)break}for(let h=n.openStart;h>=0;h--){let f=(h+c+1)%(n.openStart+1),p=u[f];if(p)for(let g=0;g<o.length;g++){let w=o[(g+l)%o.length],m=!0;w<0&&(m=!1,w=-w);let y=i.node(w-1),v=i.index(w-1);if(y.canReplaceWith(v,v,p.type,p.marks))return t.replace(i.before(w),m?s.after(w):r,new xe($I(n.content,0,n.openStart,f),f,n.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,r,n),!(t.steps.length>d));h--){let f=o[h];f<0||(e=i.before(f),r=s.after(f))}}function $I(t,e,r,n,i){if(e<r){let s=t.firstChild;t=t.replaceChild(0,s.copy($I(s.content,e+1,r,n,s)))}if(e>n){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(ge.empty,!0))}return t}function s$(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=e$(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new xe(ge.from(n),0,0))}function o$(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),s=HI(n,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),i.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return t.delete(n.before(a),i.after(a))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&i.end(o)-r!=i.depth-o&&n.start(o-1)==i.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),i.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function HI(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&r.push(i)}return r}class Da extends hr{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return jt.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return jt.fromReplace(e,this.pos,this.pos+1,new xe(ge.from(i),0,r.isLeaf?0:1))}getMap(){return zr.empty}invert(e){return new Da(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Da(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Da(r.pos,r.attr,r.value)}}hr.jsonID("attr",Da);class cc extends hr{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return jt.ok(n)}getMap(){return zr.empty}invert(e){return new cc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new cc(r.attr,r.value)}}hr.jsonID("docAttr",cc);let Ya=class extends Error{};Ya=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Ya.prototype=Object.create(Error.prototype);Ya.prototype.constructor=Ya;Ya.prototype.name="TransformError";class WI{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new uc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Ya(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=xe.empty){let i=pp(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new xe(ge.from(n),0,0))}delete(e,r){return this.replace(e,r,xe.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return i$(this,e,r,n),this}replaceRangeWith(e,r,n){return s$(this,e,r,n),this}deleteRange(e,r){return o$(this,e,r),this}lift(e,r){return HV(this,e,r),this}join(e,r=1){return ZV(this,e,r),this}wrap(e,r){return KV(this,e,r),this}setBlockType(e,r=e,n,i=null){return GV(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return XV(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Da(e,r,n)),this}setDocAttribute(e,r){return this.step(new cc(e,r)),this}addNodeMark(e,r){return this.step(new Yi(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof nt)r.isInSet(n.marks)&&this.step(new Ao(e,r));else{let i=n.marks,s,o=[];for(;s=r.isInSet(i);)o.push(new Ao(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,r=1,n){return YV(this,e,r,n),this}addMark(e,r,n){return zV(this,e,r,n),this}removeMark(e,r,n){return VV(this,e,r,n),this}clearIncompatible(e,r,n){return nb(this,e,r,n),this}}const $m=Object.create(null);class $e{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new a$(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=xe.empty){let n=r.content.lastChild,i=null;for(let a=0;a<r.openEnd;a++)i=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=e.mapping.slice(s);e.replaceRange(c.map(l.pos),c.map(u.pos),a?xe.empty:r),a==0&&L_(e,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(n),u=l.map(o.pos),c=l.map(a.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,r),L_(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new Fe(e):ia(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=r<0?ia(e.node(0),e.node(s),e.before(s+1),e.index(s),r,n):ia(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Wr(e.node(0))}static atStart(e){return ia(e,e,0,0,1)||new Wr(e)}static atEnd(e){return ia(e,e,e.content.size,e.childCount,-1)||new Wr(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=$m[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in $m)throw new RangeError("Duplicate use of selection JSON ID "+e);return $m[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Fe.between(this.$anchor,this.$head).getBookmark()}}$e.prototype.visible=!0;class a${constructor(e,r){this.$from=e,this.$to=r}}let M_=!1;function D_(t){!M_&&!t.parent.inlineContent&&(M_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Fe extends $e{constructor(e,r=e){D_(e),D_(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return $e.near(n);let i=e.resolve(r.map(this.anchor));return new Fe(i.parent.inlineContent?i:n,n)}replace(e,r=xe.empty){if(super.replace(e,r),r==xe.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Fe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new mp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Fe(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let s=$e.findFrom(r,n,!0)||$e.findFrom(r,-n,!0);if(s)r=s.$head;else return $e.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=($e.findFrom(e,-n,!0)||$e.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new Fe(e,r)}}$e.jsonID("text",Fe);class mp{constructor(e,r){this.anchor=e,this.head=r}map(e){return new mp(e.map(this.anchor),e.map(this.head))}resolve(e){return Fe.between(e.resolve(this.anchor),e.resolve(this.head))}}class Me extends $e{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),s=e.resolve(i);return n?$e.near(s):new Me(s)}content(){return new xe(ge.from(this.node),0,0)}eq(e){return e instanceof Me&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new sb(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Me(e.resolve(r.anchor))}static create(e,r){return new Me(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Me.prototype.visible=!1;$e.jsonID("node",Me);class sb{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new mp(n,n):new sb(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Me.isSelectable(n)?new Me(r):$e.near(r)}}class Wr extends $e{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=xe.empty){if(r==xe.empty){e.delete(0,e.doc.content.size);let n=$e.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wr(e)}map(e){return new Wr(e)}eq(e){return e instanceof Wr}getBookmark(){return l$}}$e.jsonID("all",Wr);const l$={map(){return this},resolve(t){return new Wr(t)}};function ia(t,e,r,n,i,s=!1){if(e.inlineContent)return Fe.create(t,r);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Me.isSelectable(a))return Me.create(t,r-(i<0?a.nodeSize:0))}else{let l=ia(t,a,r+i,i<0?a.childCount:0,i,s);if(l)return l}r+=a.nodeSize*i}return null}function L_(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof Vt||i instanceof Ht))return;let s=t.mapping.maps[n],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),t.setSelection($e.near(t.doc.resolve(o),r))}const j_=1,_d=2,B_=4;class u$ extends WI{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|j_)&~_d,this.storedMarks=null,this}get selectionSet(){return(this.updated&j_)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=_d,this}ensureMarks(e){return nt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&_d)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~_d,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||nt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(r);s=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,s)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection($e.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=B_,this}get scrolledIntoView(){return(this.updated&B_)>0}}function F_(t,e){return!e||!t?t:t.bind(e)}class Zl{constructor(e,r,n){this.name=e,this.init=F_(r.init,n),this.apply=F_(r.apply,n)}}const c$=[new Zl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Zl("selection",{init(t,e){return t.selection||$e.atStart(e.doc)},apply(t){return t.selection}}),new Zl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Zl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Hm{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=c$.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Zl(n.key,n.spec.state,n))})}}class ka{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<r.length&&a.spec.appendTransaction.call(a,l?r.slice(l):r,u,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:n,n:r.length}:{state:this,n:0})}r.push(c),n=n.applyInner(c),s=!0}i&&(i[o]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new ka(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let s=n[i];r[s.name]=s.apply(e,this[s.name],this,r)}return r}get tr(){return new u$(this)}static create(e){let r=new Hm(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new ka(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Hm(this.schema,e.plugins),n=r.fields,i=new ka(r);for(let s=0;s<n.length;s++){let o=n[s].name;i[o]=this.hasOwnProperty(o)?this[o]:n[s].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],s=i.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Hm(e.schema,e.plugins),s=new ka(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=ls.fromJSON(e.schema,r.doc);else if(o.name=="selection")s.selection=$e.fromJSON(s.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){s[o.name]=u.fromJSON.call(l,e,r[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function qI(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=qI(i,e,{})),r[n]=i}return r}class Gt{constructor(e){this.spec=e,this.props={},e.props&&qI(e.props,this,this.props),this.key=e.key?e.key.key:KI("plugin")}getState(e){return e[this.key]}}const Wm=Object.create(null);function KI(t){return t in Wm?t+"$"+ ++Wm[t]:(Wm[t]=0,t+"$")}class Lr{constructor(e="key"){this.key=KI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const er=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Qa=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let jv=null;const ci=function(t,e,r){let n=jv||(jv=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},d$=function(){jv=null},Ro=function(t,e,r,n){return r&&(U_(t,e,r,n,-1)||U_(t,e,r,n,1))},h$=/^(img|br|input|textarea|hr)$/i;function U_(t,e,r,n,i){for(var s;;){if(t==r&&e==n)return!0;if(e==(i<0?0:on(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Pc(t)||h$.test(t.nodeName)||t.contentEditable=="false")return!1;e=er(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?on(t):0}else return!1}}function on(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function f$(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=on(t)}else if(t.parentNode&&!Pc(t))e=er(t),t=t.parentNode;else return null}}function p$(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Pc(t))e=er(t)+1,t=t.parentNode;else return null}}function m$(t,e,r){for(let n=e==0,i=e==on(t);n||i;){if(t==r)return!0;let s=er(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,i=i&&s==on(t)}}function Pc(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const gp=function(t){return t.focusNode&&Ro(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Js(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function g$(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function y$(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(on(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(on(n.startContainer),n.startOffset)}}}const Gn=typeof navigator<"u"?navigator:null,z_=typeof document<"u"?document:null,Ts=Gn&&Gn.userAgent||"",Bv=/Edge\/(\d+)/.exec(Ts),GI=/MSIE \d/.exec(Ts),Fv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ts),Ir=!!(GI||Fv||Bv),cs=GI?document.documentMode:Fv?+Fv[1]:Bv?+Bv[1]:0,dn=!Ir&&/gecko\/(\d+)/i.test(Ts);dn&&+(/Firefox\/(\d+)/.exec(Ts)||[0,0])[1];const Uv=!Ir&&/Chrome\/(\d+)/.exec(Ts),ur=!!Uv,JI=Uv?+Uv[1]:0,vr=!Ir&&!!Gn&&/Apple Computer/.test(Gn.vendor),Za=vr&&(/Mobile\/\w+/.test(Ts)||!!Gn&&Gn.maxTouchPoints>2),rn=Za||(Gn?/Mac/.test(Gn.platform):!1),v$=Gn?/Win/.test(Gn.platform):!1,pi=/Android \d/.test(Ts),Nc=!!z_&&"webkitFontSmoothing"in z_.documentElement.style,w$=Nc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function b$(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ri(t,e){return typeof t=="number"?t:t[e]}function S$(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function V_(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=Qa(o);continue}let a=o,l=a==s.body,u=l?b$(s):S$(a),c=0,d=0;if(e.top<u.top+ri(n,"top")?d=-(u.top-e.top+ri(i,"top")):e.bottom>u.bottom-ri(n,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+ri(i,"top")-u.top:e.bottom-u.bottom+ri(i,"bottom")),e.left<u.left+ri(n,"left")?c=-(u.left-e.left+ri(i,"left")):e.right>u.right-ri(n,"right")&&(c=e.right-u.right+ri(i,"right")),c||d)if(l)s.defaultView.scrollBy(c,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let g=a.scrollLeft-f,w=a.scrollTop-p;e={left:e.left-g,top:e.top-w,right:e.right-g,bottom:e.bottom-w}}let h=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(h))break;o=h=="absolute"?o.offsetParent:Qa(o)}}function x$(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let s=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=r-20){n=a,i=l.top;break}}return{refDOM:n,refTop:i,stack:XI(t.dom)}}function XI(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Qa(n));return e}function E$({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;YI(r,n==0?0:n-e)}function YI(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:s}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let Yo=null;function _$(t){if(t.setActive)return t.setActive();if(Yo)return t.focus(Yo);let e=XI(t);t.focus(Yo==null?{get preventScroll(){return Yo={preventScroll:!0},!0}}:void 0),Yo||(Yo=!1,YI(e,0))}function QI(t,e){let r,n=2e8,i,s=0,o=e.top,a=e.top,l,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let h;if(c.nodeType==1)h=c.getClientRects();else if(c.nodeType==3)h=ci(c).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<n){r=c,n=g,i=g&&r.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&g&&(s=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!r&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=d+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?k$(r,i):!r||n&&r.nodeType==1?{node:t,offset:s}:QI(r,i)}function k$(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let s=Li(n,1);if(s.top!=s.bottom&&ob(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function ob(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function T$(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function C$(t,e,r){let{node:n,offset:i}=QI(e,r),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,i,s)}function A$(t,e,r,n){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>n.left||l.top>n.top?i=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function ZI(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(ob(e,u))return ZI(o,e,u)}}if((s=(s+1)%n)==i)break}return t}function R$(t,e){let r=t.dom.ownerDocument,n,i=0,s=y$(r,e.left,e.top);s&&({node:n,offset:i}=s);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!ob(e,u)||(o=ZI(t.dom,e,u),!o))return null}if(vr)for(let u=o;n&&u;u=Qa(u))u.draggable&&(n=void 0);if(o=T$(o,e),n){if(dn&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;Nc&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(a=A$(t,n,i,e))}a==null&&(a=C$(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function $_(t){return t.top<t.bottom||t.left<t.right}function Li(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if($_(n))return n}return Array.prototype.find.call(r,$_)||t.getBoundingClientRect()}const O$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function e2(t,e,r){let{node:n,offset:i,atom:s}=t.docView.domFromPos(e,r<0?-1:1),o=Nc||dn;if(n.nodeType==3)if(o&&(O$.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=Li(ci(n,i,i),r);if(dn&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=Li(ci(n,i-1,i-1),-1);if(u.top==l.top){let c=Li(ci(n,i,i+1),-1);if(c.top!=l.top)return jl(c,c.left<u.left)}}return l}else{let l=i,u=i,c=r<0?1:-1;return r<0&&!i?(u++,c=-1):r>=0&&i==n.nodeValue.length?(l--,c=1):r<0?l--:u++,jl(Li(ci(n,l,u),c),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(r<0||i==on(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return qm(l.getBoundingClientRect(),!1)}if(s==null&&i<on(n)){let l=n.childNodes[i];if(l.nodeType==1)return qm(l.getBoundingClientRect(),!0)}return qm(n.getBoundingClientRect(),r>=0)}if(s==null&&i&&(r<0||i==on(n))){let l=n.childNodes[i-1],u=l.nodeType==3?ci(l,on(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return jl(Li(u,1),!1)}if(s==null&&i<on(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?ci(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return jl(Li(u,-1),!0)}return jl(Li(n.nodeType==3?ci(n):n,-r),r>=0)}function jl(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function qm(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function t2(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function P$(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return t2(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=e2(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ci(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(r=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const N$=/[\u0590-\u08ac]/;function I$(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,s=!i,o=i==n.parent.content.size,a=t.domSelection();return a?!N$.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?s:o:t2(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",r,"character");let f=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),w=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==g;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return h!=null&&(a.caretBidiLevel=h),w}):n.pos==n.start()||n.pos==n.end()}let H_=null,W_=null,q_=!1;function M$(t,e,r){return H_==e&&W_==r?q_:(H_=e,W_=r,q_=r=="up"||r=="down"?P$(t,e,r):I$(t,e,r))}const hn=0,K_=1,io=2,Jn=3;class Ic{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=hn,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,o;if(e==this.contentDOM)s=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>er(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!r||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return s}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],s=n+i.size;if(n==e&&s!=n){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-n-i.border);n=s}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.size;if(a>e||o instanceof n2){i=e-s;break}s=a}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof r2&&s.side>=0;n--);if(r<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&r&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?er(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?er(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=n,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,c);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=er(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(u>r||a==this.children.length-1)){r=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=er(d.dom);break}r+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let s=Math.min(e,r),o=Math.max(e,r);for(let f=0,p=0;f<this.children.length;f++){let g=this.children[f],w=p+g.size;if(s>p&&o<w)return g.setSelection(e-p-g.border,r-p-g.border,n,i);p=w}let a=this.domFromPos(e,e?-1:1),l=r==e?a:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),c=n.domSelectionRange(),d=!1;if((dn||vr)&&e==r){let{node:f,offset:p}=a;if(f.nodeType==3){if(d=!!(p&&f.nodeValue[p-1]==`
`),d&&p==f.nodeValue.length)for(let g=f,w;g;g=g.parentNode){if(w=g.nextSibling){w.nodeName=="BR"&&(a=l={node:w.parentNode,offset:er(w)+1});break}let m=g.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let g=f.childNodes[p-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(dn&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||d&&vr)&&Ro(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Ro(l.node,l.offset,c.focusNode,c.focusOffset))return;let h=!1;if((u.extend||e==r)&&!(d&&dn)){u.collapse(a.node,a.offset);try{e!=r&&u.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>r){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let s=this.children[i],o=n+s.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let a=n+s.border,l=o-s.border;if(e>=a&&r<=l){this.dirty=e==n||r==o?io:K_,e==a&&r==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Jn:s.markDirty(e-a,r-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?io:Jn}n=o}this.dirty=io}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?io:K_;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class r2 extends Ic{constructor(e,r,n,i){let s,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,s=this}matchesWidget(e){return this.dirty==hn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class D$ extends Ic{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Oo extends Ic{constructor(e,r,n,i,s){super(e,[],n,i),this.mark=r,this.spec=s}static create(e,r,n,i){let s=i.nodeViews[r.type.name],o=s&&s(r,i,n);return(!o||!o.dom)&&(o=Mo.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Oo(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Jn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Jn&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=hn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=hn}}slice(e,r,n){let i=Oo.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;r<o&&(s=Vv(s,r,o,n)),e>0&&(s=Vv(s,0,e,n));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ds extends Ic{constructor(e,r,n,i,s,o,a,l,u){super(e,[],s,o),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=a}static create(e,r,n,i,s,o){let a=s.nodeViews[r.type.name],l,u=a&&a(r,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,d=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Mo.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let h=c;return c=o2(c,n,r),u?l=new L$(e,r,n,i,c,d||null,h,u,s,o+1):r.isText?new yp(e,r,n,i,c,h,s):new ds(e,r,n,i,c,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ge.empty)}return e}matchesNode(e,r,n){return this.dirty==hn&&e.eq(this.node)&&tf(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,s=e.composing?this.localCompositionInfo(e,r):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new B$(this,o&&o.node,e);z$(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?nt.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,d,h)=>{l.syncToMarks(u.marks,n,e);let f;l.findNodeMatch(u,c,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,d,f,e)||l.updateNextNode(u,c,d,e,h,i)||l.addNode(u,c,d,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==io)&&(o&&this.protectLocalComposition(e,o),i2(this.contentDOM,this.children,e),Za&&V$(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Fe)||n<r||i>r+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=$$(this.node.content,o,n-r,i-r);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new D$(this,s,r,i);e.input.compositionNodes.push(o),this.children=Vv(this.children,n,n+i.length,e,o)}update(e,r,n,i){return this.dirty==Jn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=hn}updateOuterDeco(e){if(tf(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=s2(this.dom,this.nodeDOM,zv(this.outerDeco,this.node,r),zv(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function G_(t,e,r,n,i){o2(n,e,t);let s=new ds(void 0,t,e,r,n,n,n,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class yp extends ds{constructor(e,r,n,i,s,o,a){super(e,r,n,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Jn||this.dirty!=hn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=hn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=hn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),s=document.createTextNode(i.text);return new yp(this.parent,i,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Jn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class n2 extends Ic{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==hn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class L$ extends ds{constructor(e,r,n,i,s,o,a,l,u,c){super(e,r,n,i,s,o,a,u,c),this.spec=l}update(e,r,n,i){if(this.dirty==Jn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,r,n);return s&&this.updateInner(e,r,n,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function i2(t,e,r){let n=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=n;)n=J_(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(a,n);if(o instanceof Oo){let l=n?n.previousSibling:t.lastChild;i2(o.contentDOM,o.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=J_(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const wu=function(t){t&&(this.nodeName=t)};wu.prototype=Object.create(null);const so=[new wu];function zv(t,e,r){if(t.length==0)return so;let n=r?so[0]:new wu,i=[n];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(n=new wu(o.nodeName));for(let a in o){let l=o[a];l!=null&&(r&&i.length==1&&i.push(n=new wu(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return i}function s2(t,e,r,n){if(r==so&&n==so)return e;let i=e;for(let s=0;s<n.length;s++){let o=n[s],a=r[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=so[0]),i=l}j$(i,a||so[0],o)}return i}function j$(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)i.indexOf(n[s])==-1&&t.classList.remove(n[s]);for(let s=0;s<i.length;s++)n.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function o2(t,e,r){return s2(t,t,so,zv(e,r,t.nodeType!=1))}function tf(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function J_(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class B${constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=F$(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=hn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Oo.create(this.top,e[s],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,r,n,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,r,n,i,s){let o=this.top.children[i];return o.dirty==Jn&&o.dom==o.contentDOM&&(o.dirty=io),o.update(e,r,n,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ds){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let c=l.dom,d,h=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Jn&&tf(r,l.outerDeco));if(!h&&l.update(e,r,n,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,r,n,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=io,d.updateChildren(i,o+1),d.dirty=hn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,s,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!tf(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=ds.create(this.top,r,n,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,r,n,i,s){let o=ds.create(this.top,e,r,n,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new r2(this.top,e,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Oo;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof yp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((vr||ur)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new n2(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function F$(t,e){let r=e,n=r.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(n){let u=r.children[n-1];if(u instanceof Oo)r=u,n=u.children.length;else{a=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function U$(t,e){return t.type.side-e.type.side}function z$(t,e,r,n){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);n(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==s;){let w=i[o++];w.widget&&(c?(d||(d=[c])).push(w):c=w)}if(c)if(d){d.sort(U$);for(let w=0;w<d.length;w++)r(d[w],u,!!l)}else r(c,u,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(u<t.childCount)f=u,h=t.child(u++);else break;for(let w=0;w<a.length;w++)a[w].to<=s&&a.splice(w--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+h.nodeSize;if(h.isText){let w=p;o<i.length&&i[o].from<w&&(w=i[o].from);for(let m=0;m<a.length;m++)a[m].to<w&&(w=a[m].to);w<p&&(l=h.cut(w-s),h=h.cut(0,w-s),p=w,f=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=h.isInline&&!h.isLeaf?a.filter(w=>!w.inline):a.slice();n(h,g,e.forChild(s,h),f),s=p}}function V$(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function $$(t,e,r,n){for(let i=0,s=0;i<t.childCount&&s<=n;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=r){if(s>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let u=a<n?l.lastIndexOf(e,n-a-1):-1;if(u>=0&&u+e.length+a>=r)return a+u;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function Vv(t,e,r,n,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],u=a,c=a+=l.size;u>=r||c<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,n)),i&&(s.push(i),i=void 0),c>r&&s.push(l.slice(r-u,l.size,n)))}return s}function ab(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,u;if(gp(r)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Me.isSelectable(d)&&i.parent&&!(d.isInline&&m$(r.focusNode,r.focusOffset,i.dom))){let h=i.posBefore;u=new Me(o==h?a:n.resolve(h))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let d=o,h=o;for(let f=0;f<r.rangeCount;f++){let p=r.getRangeAt(f);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=h==t.state.selection.anchor?[h,d]:[d,h],a=n.resolve(o)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let c=n.resolve(l);if(!u){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=lb(t,c,a,d)}return u}function a2(t){return t.editable?t.hasFocus():u2(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function wi(t,e=!1){let r=t.state.selection;if(l2(t,r),!!a2(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ur){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ro(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)W$(t);else{let{anchor:n,head:i}=r,s,o;X_&&!(r instanceof Fe)&&(r.$from.parent.inlineContent||(s=Y_(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=Y_(t,r.to))),t.docView.setSelection(n,i,t,e),X_&&(s&&Q_(s),o&&Q_(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&H$(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const X_=vr||ur&&JI<63;function Y_(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(vr&&i&&i.contentEditable=="false")return Km(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Km(i);if(s)return Km(s)}}function Km(t){return t.contentEditable="true",vr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Q_(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function H$(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!a2(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function W$(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,er(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Ir&&cs<=11&&(r.disabled=!0,r.disabled=!1)}function l2(t,e){if(e instanceof Me){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Z_(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Z_(t)}function Z_(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function lb(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||Fe.between(e,r,n)}function ek(t){return t.editable&&!t.hasFocus()?!1:u2(t)}function u2(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function q$(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Ro(e.node,e.offset,r.anchorNode,r.anchorOffset)}function $v(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&$e.findFrom(s,e)}function Fi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function tk(t,e,r){let n=t.state.selection;if(n instanceof Fe)if(r.indexOf("s")>-1){let{$head:i}=n,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Fi(t,new Fe(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=$v(t.state,e);return i&&i instanceof Me?Fi(t,i):!1}else if(!(rn&&r.indexOf("m")>-1)){let i=n.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?Me.isSelectable(s)?Fi(t,new Me(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Nc?Fi(t,new Fe(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Me&&n.node.isInline)return Fi(t,new Fe(e>0?n.$to:n.$from));{let i=$v(t.state,e);return i?Fi(t,i):!1}}}function rf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bu(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Qo(t,e){return e<0?K$(t):G$(t)}function K$(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,s,o=!1;for(dn&&r.nodeType==1&&n<rf(r)&&bu(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if(bu(a,-1))i=r,s=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(c2(r))break;{let a=r.previousSibling;for(;a&&bu(a,-1);)i=r.parentNode,s=er(a),a=a.previousSibling;if(a)r=a,n=rf(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?Hv(t,r,n):i&&Hv(t,i,s)}function G$(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=rf(r),s,o;for(;;)if(n<i){if(r.nodeType!=1)break;let a=r.childNodes[n];if(bu(a,1))s=r,o=++n;else break}else{if(c2(r))break;{let a=r.nextSibling;for(;a&&bu(a,1);)s=a.parentNode,o=er(a)+1,a=a.nextSibling;if(a)r=a,n=0,i=rf(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}s&&Hv(t,s,o)}function c2(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function J$(t,e){for(;t&&e==t.childNodes.length&&!Pc(t);)e=er(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function X$(t,e){for(;t&&!e&&!Pc(t);)e=er(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Hv(t,e,r){if(e.nodeType!=3){let s,o;(o=J$(e,r))?(e=o,r=0):(s=X$(e,r))&&(e=s,r=s.nodeValue.length)}let n=t.domSelection();if(!n)return;if(gp(n)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&wi(t)},50)}function rk(t,e){let r=t.state.doc.resolve(e);if(!(ur||v$)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<r.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function nk(t,e,r){let n=t.state.selection;if(n instanceof Fe&&!n.empty||r.indexOf("s")>-1||rn&&r.indexOf("m")>-1)return!1;let{$from:i,$to:s}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=$v(t.state,e);if(o&&o instanceof Me)return Fi(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=n instanceof Wr?$e.near(o,e):$e.findFrom(o,e);return a?Fi(t,a):!1}return!1}function ik(t,e){if(!(t.state.selection instanceof Fe))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(r.pos-s.nodeSize,r.pos):o.delete(r.pos,r.pos+s.nodeSize),t.dispatch(o),!0}return!1}function sk(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function Y$(t){if(!vr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;sk(t,n,"true"),setTimeout(()=>sk(t,n,"false"),20)}return!1}function Q$(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Z$(t,e){let r=e.keyCode,n=Q$(e);if(r==8||rn&&r==72&&n=="c")return ik(t,-1)||Qo(t,-1);if(r==46&&!e.shiftKey||rn&&r==68&&n=="c")return ik(t,1)||Qo(t,1);if(r==13||r==27)return!0;if(r==37||rn&&r==66&&n=="c"){let i=r==37?rk(t,t.state.selection.from)=="ltr"?-1:1:-1;return tk(t,i,n)||Qo(t,i)}else if(r==39||rn&&r==70&&n=="c"){let i=r==39?rk(t,t.state.selection.from)=="ltr"?1:-1:1;return tk(t,i,n)||Qo(t,i)}else{if(r==38||rn&&r==80&&n=="c")return nk(t,-1,n)||Qo(t,-1);if(r==40||rn&&r==78&&n=="c")return Y$(t)||nk(t,1,n)||Qo(t,1);if(n==(rn?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function ub(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let r=[],{content:n,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,s--;let f=n.firstChild;r.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),n=f.content}let o=t.someProp("clipboardSerializer")||Mo.fromSchema(t.state.schema),a=g2(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=m2[u.nodeName.toLowerCase()]);){for(let f=c.length-1;f>=0;f--){let p=a.createElement(c[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(r)}`);let h=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function d2(t,e,r,n,i){let s=i.parent.type.spec.code,o,a;if(!r&&!e)return null;let l=!!e&&(n||s||!r);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||n,t)}),s)return a=new xe(ge.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",h=>{a=h(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",h=>h(e,i,n,t));if(d)a=d;else{let h=i.marks(),{schema:f}=t.state,p=Mo.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let w=o.appendChild(document.createElement("p"));g&&w.appendChild(p.serializeNode(f.text(g,h)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r,t)}),o=n7(r),Nc&&i7(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||us.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!e7.test(h.parentNode.nodeName)?{ignore:!0}:null}})),c)a=s7(ok(a,+c[1],+c[2]),c[4]);else if(a=xe.maxOpen(t7(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=ok(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const e7=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function t7(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&f2(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=p2(o[o.length-1],s.length));let c=h2(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return ge.from(o)}return t}function h2(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,ge.from(t));return t}function f2(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=f2(t,e,r,n.lastChild,i+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(ge.from(h2(r,t,i+1))))}}function p2(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,p2(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(ge.empty,!0);return t.copy(r.append(n))}function Wv(t,e,r,n,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<n-1&&(a=Wv(a,e,r,n,i+1,s)),i>=r&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ge.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function ok(t,e,r){return e<t.openStart&&(t=new xe(Wv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new xe(Wv(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const m2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ak=null;function g2(){return ak||(ak=document.implementation.createHTMLDocument("title"))}let Gm=null;function r7(t){let e=window.trustedTypes;return e?(Gm||(Gm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Gm.createHTML(t)):t}function n7(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=g2().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&m2[n[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=r7(t),i)for(let s=0;s<i.length;s++)r=r.querySelector(i[s])||r;return r}function i7(t){let e=t.querySelectorAll(ur?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function s7(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=n.length-2;a>=0;a-=2){let l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;i=ge.from(l.create(n[a+1],i)),s++,o++}return new xe(i,s,o)}const wr={},br={},o7={touchstart:!0,touchmove:!0};class a7{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function l7(t){for(let e in wr){let r=wr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{c7(t,n)&&!cb(t,n)&&(t.editable||!(n.type in br))&&r(t,n)},o7[e]?{passive:!0}:void 0)}vr&&t.dom.addEventListener("input",()=>null),qv(t)}function Qi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function u7(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function qv(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>cb(t,n))})}function cb(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function c7(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function d7(t,e){!cb(t,e)&&wr[e.type]&&(t.editable||!(e.type in br))&&wr[e.type](t,e)}br.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!v2(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(pi&&ur&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Za&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,Js(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Z$(t,r)?r.preventDefault():Qi(t,"key")};br.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};br.keypress=(t,e)=>{let r=e;if(v2(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||rn&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Fe)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i,s))&&t.dispatch(s()),r.preventDefault()}};function vp(t){return{left:t.clientX,top:t.clientY}}function h7(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function db(t,e,r,n,i){if(n==-1)return!1;let s=t.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,r,s.nodeAfter,s.before(o),i,!0):a(t,r,s.node(o),s.before(o),i,!1)))return!0;return!1}function La(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function f7(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Me.isSelectable(n)?(La(t,new Me(r)),!0):!1}function p7(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof Me&&(n=r.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Me.isSelectable(a)){n&&r.$from.depth>0&&o>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?i=s.before(r.$from.depth):i=s.before(o);break}}return i!=null?(La(t,Me.create(t.state.doc,i)),!0):!1}function m7(t,e,r,n,i){return db(t,"handleClickOn",e,r,n)||t.someProp("handleClick",s=>s(t,e,n))||(i?p7(t,r):f7(t,r))}function g7(t,e,r,n){return db(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function y7(t,e,r,n){return db(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||v7(t,r,n)}function v7(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(La(t,Fe.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)La(t,Fe.create(n,a+1,a+1+o.content.size));else if(Me.isSelectable(o))La(t,Me.create(n,a));else continue;return!0}}function hb(t){return nf(t)}const y2=rn?"metaKey":"ctrlKey";wr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=hb(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&h7(r,t.input.lastClick)&&!r[y2]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:s,button:r.button};let o=t.posAtCoords(vp(r));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new w7(t,o,r,!!n)):(s=="doubleClick"?g7:y7)(t,o.pos,o.inside,r)?r.preventDefault():Qi(t,"pointer"))};class w7{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[y2],this.allowDefault=n.shiftKey;let s,o;if(r.inside>-1)s=e.state.doc.nodeAt(r.inside),o=r.inside;else{let c=e.state.doc.resolve(r.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Me&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&dn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(vp(e))),this.updateAllowDefault(e),this.allowDefault||!r?Qi(this.view,"pointer"):m7(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||vr&&this.mightDrag&&!this.mightDrag.node.isAtom||ur&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(La(this.view,$e.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Qi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Qi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}wr.touchstart=t=>{t.input.lastTouch=Date.now(),hb(t),Qi(t,"pointer")};wr.touchmove=t=>{t.input.lastTouch=Date.now(),Qi(t,"pointer")};wr.contextmenu=t=>hb(t);function v2(t,e){return t.composing?!0:vr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const b7=pi?5e3:-1;br.compositionstart=br.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Fe&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),nf(t,!0),t.markCursor=null;else if(nf(t,!e.selection.empty),dn&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,s=n.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}w2(t,b7)};br.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,w2(t,20))};function w2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>nf(t),e))}function b2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=x7());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function S7(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=f$(e.focusNode,e.focusOffset),n=p$(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function x7(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function nf(t,e=!1){if(!(pi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),b2(t),e||t.docView&&t.docView.dirty){let r=ab(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function E7(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const dc=Ir&&cs<15||Za&&w$<604;wr.copy=br.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let s=dc?null:r.clipboardData,o=n.content(),{dom:a,text:l}=ub(t,o);s?(r.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):E7(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _7(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function k7(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?hc(t,n.value,null,i,e):hc(t,n.textContent,n.innerHTML,i,e)},50)}function hc(t,e,r,n,i){let s=d2(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||xe.empty)))return!0;if(!s)return!1;let o=_7(s),a=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function S2(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}br.paste=(t,e)=>{let r=e;if(t.composing&&!pi)return;let n=dc?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&hc(t,S2(n),n.getData("text/html"),i,r)?r.preventDefault():k7(t,r)};class x2{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const T7=rn?"altKey":"ctrlKey";function E2(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[T7]}wr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(vp(r)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Me?i.to-1:i.to))){if(n&&n.mightDrag)o=Me.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=t.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=Me.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:u,slice:c}=ub(t,a);(!r.dataTransfer.files.length||!ur||JI>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(dc?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",dc||r.dataTransfer.setData("text/plain",u),t.dragging=new x2(c,E2(t,r),o)};wr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};br.dragover=br.dragenter=(t,e)=>e.preventDefault();br.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(vp(r));if(!i)return;let s=t.state.doc.resolve(i.pos),o=n&&n.slice;o?t.someProp("transformPasted",p=>{o=p(o,t,!1)}):o=d2(t,S2(r.dataTransfer),dc?null:r.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&E2(t,r));if(t.someProp("handleDrop",p=>p(t,r,o||xe.empty,a))){r.preventDefault();return}if(!o)return;r.preventDefault();let l=o?UI(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=t.state.tr;if(a){let{node:p}=n;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(h))return;let f=u.doc.resolve(c);if(d&&Me.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Me(f));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,w,m,y)=>p=y),u.setSelection(lb(t,f,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};wr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&wi(t)},20))};wr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};wr.beforeinput=(t,e)=>{if(ur&&pi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Js(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in br)wr[t]=br[t];function fc(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class sf{constructor(e,r){this.toDOM=e,this.spec=r||yo,this.side=this.spec.side||0}map(e,r,n,i){let{pos:s,deleted:o}=e.mapResult(r.from+i,this.side<0?-1:1);return o?null:new $r(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof sf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&fc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class hs{constructor(e,r){this.attrs=e,this.spec=r||yo}map(e,r,n,i){let s=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new $r(s,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof hs&&fc(this.attrs,e.attrs)&&fc(this.spec,e.spec)}static is(e){return e.type instanceof hs}destroy(){}}class fb{constructor(e,r){this.attrs=e,this.spec=r||yo}map(e,r,n,i){let s=e.mapResult(r.from+i,1);if(s.deleted)return null;let o=e.mapResult(r.to+i,-1);return o.deleted||o.pos<=s.pos?null:new $r(s.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),s;return i==r.from&&!(s=e.child(n)).isText&&i+s.nodeSize==r.to}eq(e){return this==e||e instanceof fb&&fc(this.attrs,e.attrs)&&fc(this.spec,e.spec)}destroy(){}}class $r{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new $r(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new $r(e,e,new sf(r,n))}static inline(e,r,n,i){return new $r(e,r,new hs(n,i))}static node(e,r,n,i){return new $r(e,r,new fb(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof hs}get widget(){return this.type instanceof sf}}const sa=[],yo={};class Dt{constructor(e,r){this.local=e.length?e:sa,this.children=r.length?r:sa}static create(e,r){return r.length?of(r,e,0,yo):or}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=r&&a.to>=e&&(!s||s(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,r-a,n,i+a,s)}}map(e,r,n){return this==or||e.maps.length==0?this:this.mapInner(e,r,0,0,n||yo)}mapInner(e,r,n,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,i);l&&l.type.valid(r,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?C7(this.children,o||[],e,r,n,i,s):o?new Dt(o.sort(vo),sa):or}add(e,r){return r.length?this==or?Dt.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,s=0;e.forEach((a,l)=>{let u=l+n,c;if(c=k2(r,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,of(c,a,u+1,yo)),s+=3}});let o=_2(s?T2(r):r,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Dt(o.length?this.local.concat(o).sort(vo):this.local,i||this.children)}remove(e){return e.length==0||this==or?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let s=0;s<n.length;s+=3){let o,a=n[s]+r,l=n[s+1]+r;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>a&&d.to<l&&(e[c]=null,(o||(o=[])).push(d));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[s+2].removeInner(o,a+1);u!=or?n[s+2]=u:(n.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,r)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Dt(i,n):or}forChild(e,r){if(this==or)return this;if(r.isLeaf)return Dt.empty;let n,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let s=e+1,o=s+r.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof hs){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new Dt(i.sort(vo),sa);return n?new Wi([a,n]):a}return n||or}eq(e){if(this==e)return!0;if(!(e instanceof Dt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return pb(this.localsInner(e))}localsInner(e){if(this==or)return sa;if(e.inlineContent||!this.local.some(hs.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof hs||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Dt.empty=new Dt([],[]);Dt.removeOverlap=pb;const or=Dt.empty;class Wi{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,yo));return Wi.from(n)}forChild(e,r){if(r.isLeaf)return Dt.empty;let n=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,r);s!=or&&(s instanceof Wi?n=n.concat(s.members):n.push(s))}return Wi.from(n)}eq(e){if(!(e instanceof Wi)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let o=0;o<s.length;o++)r.push(s[o])}}return r?pb(n?r:r.sort(vo)):sa}static from(e){switch(e.length){case 0:return or;case 1:return e[0];default:return new Wi(e.every(r=>r instanceof Dt)?e:e.reduce((r,n)=>r.concat(n instanceof Dt?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function C7(t,e,r,n,i,s,o){let a=t.slice();for(let u=0,c=s;u<r.maps.length;u++){let d=0;r.maps[u].forEach((h,f,p,g)=>{let w=g-p-(f-h);for(let m=0;m<a.length;m+=3){let y=a[m+1];if(y<0||h>y+c-d)continue;let v=a[m]+c-d;f>=v?a[m+1]=h<=v?-2:-1:h>=c&&w&&(a[m]+=w,a[m+1]+=w)}d+=w}),c=r.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=r.map(t[u]+s),d=c-i;if(d<0||d>=n.content.size){l=!0;continue}let h=r.map(t[u+1]+s,-1),f=h-i,{index:p,offset:g}=n.content.findIndex(d),w=n.maybeChild(p);if(w&&g==d&&g+w.nodeSize==f){let m=a[u+2].mapInner(r,w,c+1,t[u]+s+1,o);m!=or?(a[u]=d,a[u+1]=f,a[u+2]=m):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=A7(a,t,e,r,i,s,o),c=of(u,n,0,o);e=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<c.children.length;d+=3){let f=c.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Dt(e.sort(vo),a)}function _2(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new $r(i.from+e,i.to+e,i.type))}return r}function A7(t,e,r,n,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(n,i,u);d?r.push(d):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return r}function k2(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>r&&o.to<n&&((i||(i=[])).push(o),t[s]=null);return i}function T2(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function of(t,e,r,n){let i=[],s=!1;e.forEach((a,l)=>{let u=k2(t,a,l+r);if(u){s=!0;let c=of(u,a,r+l+1,n);c!=or&&i.push(l,l+a.nodeSize,c)}});let o=_2(s?T2(t):t,-r).sort(vo);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Dt(o,i):or}function vo(t,e){return t.from-e.from||t.to-e.to}function pb(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let s=e[i];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,n.to),lk(e,i+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),lk(e,i,n.copy(s.from,n.to)));break}}}return e}function lk(t,e,r){for(;e<t.length&&vo(r,t[e])>0;)e++;t.splice(e,0,r)}function Jm(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=or&&e.push(n)}),t.cursorWrapper&&e.push(Dt.create(t.state.doc,[t.cursorWrapper.deco])),Wi.from(e)}const R7={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},O7=Ir&&cs<=11;class P7{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class N7{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new P7,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Ir&&cs<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),O7&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,R7)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ek(this.view)){if(this.suppressingSelectionUpdates)return wi(this.view);if(Ir&&cs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ro(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let s=e.focusNode;s;s=Qa(s))r.add(s);for(let s=e.anchorNode;s;s=Qa(s))if(r.has(s)){n=s;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&ek(e)&&!this.ignoreSelectionChange(n),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let c=0;c<r.length;c++){let d=this.registerMutation(r[c],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(dn&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,h]=c;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of c){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||D7(e,d)!=f)&&h.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&gp(n)&&(u=ab(e))&&u.eq($e.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wi(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),I7(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||wi(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];r.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ir&&cs<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:h}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?er(i)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?er(s):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let uk=new WeakMap,ck=!1;function I7(t){if(!uk.has(t)&&(uk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=dn,ck)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ck=!0}}function dk(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Ro(o.node,o.offset,i,s)&&([r,n,i,s]=[i,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}function M7(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return dk(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?dk(t,r):null}function D7(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function L7(t,e,r){let{node:n,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],gp(l)||u.push({node:l.focusNode,offset:l.focusOffset})),ur&&t.input.lastKeyCode===8)for(let w=s;w>i;w--){let m=n.childNodes[w-1],y=m.pmViewDesc;if(m.nodeName=="BR"&&!y){s=w;break}if(!y||y.size)break}let d=t.state.doc,h=t.someProp("domParser")||us.fromSchema(t.state.schema),f=d.resolve(o),p=null,g=h.parse(n,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:j7,context:f});if(u&&u[0].pos!=null){let w=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=w),p={anchor:w+o,head:m+o}}return{doc:g,sel:p,from:o,to:a}}function j7(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(vr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||vr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const B7=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function F7(t,e,r,n,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=ab(t,_);if(I&&!t.state.selection.eq(I)){if(ur&&pi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",F=>F(t,Js(13,"Enter"))))return;let R=t.state.tr.setSelection(I);_=="pointer"?R.setMeta("pointer",!0):_=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),t.dispatch(R)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(r);e=o.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l=t.state.selection,u=L7(t,e,r),c=t.state.doc,d=c.slice(u.from,u.to),h,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,f="end"):(h=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=V7(d.content,u.doc.content,u.from,h,f);if(p&&t.input.domChangeCount++,(Za&&t.input.lastIOSEnter>Date.now()-225||pi)&&i.some(_=>_.nodeType==1&&!B7.test(_.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",_=>_(t,Js(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof Fe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let _=hk(t,t.state.doc,u.sel);if(_&&!_.eq(t.state.selection)){let I=t.state.tr.setSelection(_);s&&I.setMeta("composition",s),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Fe&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Ir&&cs<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=u.doc.resolveNoCache(p.start-u.from),w=u.doc.resolveNoCache(p.endB-u.from),m=c.resolve(p.start),y=g.sameParent(w)&&g.parent.inlineContent&&m.end()>=p.endA;if((Za&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!y&&g.pos<u.doc.content.size&&(!g.sameParent(w)||!g.parent.inlineContent)&&g.pos<w.pos&&!/\S/.test(u.doc.textBetween(g.pos,w.pos,"","")))&&t.someProp("handleKeyDown",_=>_(t,Js(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&z7(c,p.start,p.endA,g,w)&&t.someProp("handleKeyDown",_=>_(t,Js(8,"Backspace")))){pi&&ur&&t.domObserver.suppressSelectionUpdates();return}ur&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),pi&&!y&&g.start()!=w.start()&&w.parentOffset==0&&g.depth==w.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,w=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,Js(13,"Enter"))})},20));let v=p.start,b=p.endA,E=_=>{let I=_||t.state.tr.replace(v,b,u.doc.slice(p.start-u.from,p.endB-u.from));if(u.sel){let R=hk(t,I.doc,u.sel);R&&!(ur&&t.composing&&R.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(R.head==v||R.head==I.mapping.map(b)-1)||Ir&&R.empty&&R.head==v)&&I.setSelection(R)}return s&&I.setMeta("composition",s),I.scrollIntoView()},N;if(y)if(g.pos==w.pos){Ir&&cs<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>wi(t),20));let _=E(t.state.tr.delete(v,b)),I=c.resolve(p.start).marksAcross(c.resolve(p.endA));I&&_.ensureMarks(I),t.dispatch(_)}else if(p.endA==p.endB&&(N=U7(g.parent.content.cut(g.parentOffset,w.parentOffset),m.parent.content.cut(m.parentOffset,p.endA-m.start())))){let _=E(t.state.tr);N.type=="add"?_.addMark(v,b,N.mark):_.removeMark(v,b,N.mark),t.dispatch(_)}else if(g.parent.child(g.index()).isText&&g.index()==w.index()-(w.textOffset?0:1)){let _=g.parent.textBetween(g.parentOffset,w.parentOffset),I=()=>E(t.state.tr.insertText(_,v,b));t.someProp("handleTextInput",R=>R(t,v,b,_,I))||t.dispatch(I())}else t.dispatch(E());else t.dispatch(E())}function hk(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:lb(t,e.resolve(r.anchor),e.resolve(r.head))}function U7(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,s=n,o,a,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<r.length;c++)s=r[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(ge.from(u).eq(t))return{mark:a,type:o}}function z7(t,e,r,n,i){if(r-e<=i.pos-n.pos||Xm(n,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&r==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Xm(s,!0,!0));return!o.parent.isTextblock||o.pos>r||Xm(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Xm(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let s=t.node(n).maybeChild(t.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function V7(t,e,r,n,i){let s=t.findDiffStart(e,r);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.size<e.size){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<e.size&&fk(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<t.size&&fk(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function fk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class C2{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new a7,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(vk),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gk(this),mk(this),this.nodeViews=yk(this),this.docView=G_(this.state.doc,pk(this),Jm(this),this.dom,this),this.domObserver=new N7(this,(n,i,s,o)=>F7(this,n,i,s,o)),this.domObserver.start(),l7(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&qv(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(vk),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(b2(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let f=yk(this);H7(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&qv(this),this.editable=gk(this),mk(this);let l=Jm(this),u=pk(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,l);(d||!e.selection.eq(i.selection))&&(o=!0);let h=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&x$(this);if(o){this.domObserver.stop();let f=d&&(Ir||ur)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&$7(i.selection,e.selection);if(d){let p=ur?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=S7(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=G_(e.doc,u,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&q$(this))?wi(this,f):(l2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():h&&E$(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Me){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&V_(this,r.getBoundingClientRect(),e)}else V_(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(i=s)}this.dragging=new x2(e.slice,e.move,i<0?void 0:Me.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=r?r(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=r?r(a):a))return i}}hasFocus(){if(Ir){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_$(this.dom),wi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return R$(this,e)}coordsAtPos(e,r=1){return e2(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return M$(this,r||this.state,e)}pasteHTML(e,r){return hc(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return hc(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return ub(this,e)}destroy(){this.docView&&(u7(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Jm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,d$())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return d7(this,e)}domSelectionRange(){let e=this.domSelection();return e?vr&&this.root.nodeType===11&&g$(this.dom.ownerDocument)==this.dom&&M7(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}C2.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function pk(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[$r.node(0,t.state.doc.content.size,e)]}function mk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$r.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function gk(t){return!t.someProp("editable",e=>e(t.state)===!1)}function $7(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function yk(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function H7(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function vk(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ys={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},af={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},W7=typeof navigator<"u"&&/Mac/.test(navigator.platform),q7=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var tr=0;tr<10;tr++)ys[48+tr]=ys[96+tr]=String(tr);for(var tr=1;tr<=24;tr++)ys[tr+111]="F"+tr;for(var tr=65;tr<=90;tr++)ys[tr]=String.fromCharCode(tr+32),af[tr]=String.fromCharCode(tr);for(var Ym in ys)af.hasOwnProperty(Ym)||(af[Ym]=ys[Ym]);function K7(t){var e=W7&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||q7&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?af:ys)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const G7=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),J7=typeof navigator<"u"&&/Win/.test(navigator.platform);function X7(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))G7?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Y7(t){let e=Object.create(null);for(let r in t)e[X7(r)]=t[r];return e}function Qm(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Q7(t){return new Gt({props:{handleKeyDown:A2(t)}})}function A2(t){let e=Y7(t);return function(r,n){let i=K7(n),s,o=e[Qm(i,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let a=e[Qm(i,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(J7&&n.ctrlKey&&n.altKey)&&(s=ys[n.keyCode])&&s!=i){let a=e[Qm(s,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}const mb=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function R2(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const O2=(t,e,r)=>{let n=R2(t,r);if(!n)return!1;let i=gb(n);if(!i){let o=n.blockRange(),a=o&&bl(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(F2(t,i,e,-1))return!0;if(n.parent.content.size==0&&(el(s,"end")||Me.isSelectable(s)))for(let o=n.depth;;o--){let a=pp(t.doc,n.before(o),n.after(o),xe.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(el(s,"end")?$e.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Me.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Z7=(t,e,r)=>{let n=R2(t,r);if(!n)return!1;let i=gb(n);return i?P2(t,i,e):!1},e9=(t,e,r)=>{let n=I2(t,r);if(!n)return!1;let i=yb(n);return i?P2(t,i,e):!1};function P2(t,e,r){let n=e.nodeBefore,i=n,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=pp(t.doc,s,l,xe.empty);if(!u||u.from!=s||u instanceof Vt&&u.slice.size>=l-s)return!1;if(r){let c=t.tr.step(u);c.setSelection(Fe.create(c.doc,s)),r(c.scrollIntoView())}return!0}function el(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const N2=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;s=gb(n)}let o=s&&s.nodeBefore;return!o||!Me.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function gb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function I2(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const M2=(t,e,r)=>{let n=I2(t,r);if(!n)return!1;let i=yb(n);if(!i)return!1;let s=i.nodeAfter;if(F2(t,i,e,1))return!0;if(n.parent.content.size==0&&(el(s,"start")||Me.isSelectable(s))){let o=pp(t.doc,n.before(),n.after(),xe.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(el(s,"start")?$e.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Me.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},D2=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;s=yb(n)}let o=s&&s.nodeAfter;return!o||!Me.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,s.pos)).scrollIntoView()),!0)};function yb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const t9=(t,e)=>{let r=t.selection,n=r instanceof Me,i;if(n){if(r.node.isTextblock||!ks(t.doc,r.from))return!1;i=r.from}else if(i=fp(t.doc,r.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);n&&s.setSelection(Me.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},r9=(t,e)=>{let r=t.selection,n;if(r instanceof Me){if(r.node.isTextblock||!ks(t.doc,r.to))return!1;n=r.to}else if(n=fp(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},n9=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),s=i&&bl(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},L2=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function vb(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const i9=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),s=r.indexAfter(-1),o=vb(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=r.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection($e.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},j2=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof Wr||n.parent.inlineContent||i.parent.inlineContent)return!1;let s=vb(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(Fe.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},B2=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(vi(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),i=n&&bl(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function s9(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof Me&&e.selection.node.isBlock)return!n.parentOffset||!vi(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],o,a,l=!1,u=!1;for(let f=n.depth;;f--)if(n.node(f).isBlock){l=n.end(f)==n.pos+(n.depth-f),u=n.start(f)==n.pos-(n.depth-f),a=vb(n.node(f-1).contentMatchAt(n.indexAfter(f-1))),s.unshift(l&&a?{type:a}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof Fe||e.selection instanceof Wr)&&c.deleteSelection();let d=c.mapping.map(n.pos),h=vi(c.doc,d,s.length,s);if(h||(s[0]=a?{type:a}:null,h=vi(c.doc,d,s.length,s)),!h)return!1;if(c.split(d,s.length,s),!l&&u&&n.node(o).type!=a){let f=c.mapping.map(n.before(o)),p=c.doc.resolve(f);a&&n.node(o-1).canReplaceWith(p.index(),p.index()+1,a)&&c.setNodeMarkup(c.mapping.map(n.before(o)),a)}return r&&r(c.scrollIntoView()),!0}}const o9=s9(),a9=(t,e)=>{let{$from:r,to:n}=t.selection,i,s=r.sharedDepth(n);return s==0?!1:(i=r.before(s),e&&e(t.tr.setSelection(Me.create(t.doc,i))),!0)};function l9(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,s=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ks(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function F2(t,e,r,n){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&l9(t,e,r))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(r){let f=e.pos+s.nodeSize,p=ge.empty;for(let m=o.length-1;m>=0;m--)p=ge.from(o[m].create(null,p));p=ge.from(i.copy(p));let g=t.tr.step(new Ht(e.pos-1,f,e.pos,f,new xe(p,1,0),o.length,!0)),w=g.doc.resolve(f+2*o.length);w.nodeAfter&&w.nodeAfter.type==i.type&&ks(g.doc,w.pos)&&g.join(w.pos),r(g.scrollIntoView())}return!0}let c=s.type.spec.isolating||n>0&&l?null:$e.findFrom(e,1),d=c&&c.$from.blockRange(c.$to),h=d&&bl(d);if(h!=null&&h>=e.depth)return r&&r(t.tr.lift(d,h).scrollIntoView()),!0;if(u&&el(s,"start",!0)&&el(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let g=s,w=1;for(;!g.isTextblock;g=g.firstChild)w++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(r){let m=ge.empty;for(let v=p.length-1;v>=0;v--)m=ge.from(p[v].copy(m));let y=t.tr.step(new Ht(e.pos-p.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new xe(m,p.length,0),0,!0));r(y.scrollIntoView())}return!0}}return!1}function U2(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(r&&r(e.tr.setSelection(Fe.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const u9=U2(-1),c9=U2(1);function d9(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,o=i.blockRange(s),a=o&&ib(o,t,e);return a?(n&&n(r.tr.wrap(o,a).scrollIntoView()),!0):!1}}function wk(t,e=null){return function(r,n){let i=!1;for(let s=0;s<r.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=r.selection.ranges[s];r.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=r.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(n){let s=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=r.selection.ranges[o];s.setBlockType(a,l,t,e)}n(s.scrollIntoView())}return!0}}function wb(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}wb(mb,O2,N2);wb(mb,M2,D2);wb(L2,j2,B2,o9);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function h9(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,o=i.blockRange(s);if(!o)return!1;let a=n?r.tr:null;return f9(a,o,t,e)?(n&&n(a.scrollIntoView()),!0):!1}}function f9(t,e,r,n=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Zh(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Zh(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=ib(s,r,n,e);return a?(t&&p9(t,e,a,i,r),!0):!1}function p9(t,e,r,n,i){let s=ge.empty;for(let c=r.length-1;c>=0;c--)s=ge.from(r[c].type.create(r[c].attrs,s));t.step(new Ht(e.start-(n?2:0),e.end,e.start,e.end,new xe(s,0,0),r.length,!0));let o=0;for(let c=0;c<r.length;c++)r[c].type==i&&(o=c+1);let a=r.length-o,l=e.start+r.length-(n?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,h=!0;c<d;c++,h=!1)!h&&vi(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function m9(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?r?n.node(s.depth-1).type==t?g9(e,r,t,s):y9(e,r,s):!0:!1}}function g9(t,e,r,n){let i=t.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(i.step(new Ht(s-1,o,s,o,new xe(ge.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Zh(i.doc.resolve(n.$from.pos),i.doc.resolve(o),n.depth));const a=bl(n);if(a==null)return!1;i.lift(n,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return ks(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function y9(t,e,r){let n=t.tr,i=r.parent;for(let f=r.end,p=r.endIndex-1,g=r.startIndex;p>g;p--)f-=i.child(p).nodeSize,n.delete(f-1,f+1);let s=n.doc.resolve(r.start),o=s.nodeAfter;if(n.mapping.map(r.end)!=r.start+s.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,l=r.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(a?0:1),c+1,o.content.append(l?ge.empty:ge.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return n.step(new Ht(d-(a?1:0),h+(l?1:0),d+1,h-1,new xe((a?ge.empty:ge.from(i.copy(ge.empty))).append(l?ge.empty:ge.from(i.copy(ge.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function v9(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(r){let u=l.lastChild&&l.lastChild.type==a.type,c=ge.from(u?t.create():null),d=new xe(ge.from(t.create(null,ge.from(a.type.create(null,c)))),u?3:1,0),h=s.start,f=s.end;r(e.tr.step(new Ht(h-(u?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function wp(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:i}=r,{storedMarks:s}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,s=r.storedMarks,r}}}class bp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>{const d=l(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,u=e||s.tr,c=()=>(!l&&r&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(n).map(([h,f])=>[h,(...g)=>{const w=this.buildProps(u,r),m=f(...g)(w);return a.push(m),d}])),run:c};return d}createCan(e){const{rawCommands:r,state:n}=this,i=!1,s=e||n.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,r=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:wp({state:s,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}class w9{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}once(e,r){const n=(...i)=>{this.off(e,n),r.apply(this,i)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function Te(t,e,r){return t.config[e]===void 0&&t.parent?Te(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Te(t.parent,e,r):null}):t.config[e]}function Sp(t){const e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function z2(t){const e=[],{nodeExtensions:r,markExtensions:n}=Sp(t),i=[...r,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=Te(o,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Te(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const h={...s,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:c,attribute:h})})}),e}function qt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Kt(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([i,s])=>{if(!n[i]){n[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=n[i]?n[i].split(" "):[],u=a.filter(c=>!l.includes(c));n[i]=[...l,...u].join(" ")}else if(i==="style"){const a=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[d,h]=c.split(":").map(f=>f.trim());u.set(d,h)}),a.forEach(c=>{const[d,h]=c.split(":").map(f=>f.trim());u.set(d,h)}),n[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else n[i]=s}),n},{})}function Kv(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Kt(r,n),{})}function V2(t){return typeof t=="function"}function He(t,e=void 0,...r){return V2(t)?e?t.bind(e)(...r):t(...r):t}function b9(t={}){return Object.keys(t).length===0&&t.constructor===Object}function S9(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function bk(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(r):S9(r.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...n,...i}}}}function Sk(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&b9(r)?!1:r!=null))}function x9(t,e){var r;const n=z2(t),{nodeExtensions:i,markExtensions:s}=Sp(t),o=(r=i.find(u=>Te(u,"topNode")))===null||r===void 0?void 0:r.name,a=Object.fromEntries(i.map(u=>{const c=n.filter(m=>m.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},h=t.reduce((m,y)=>{const v=Te(y,"extendNodeSchema",d);return{...m,...v?v(u):{}}},{}),f=Sk({...h,content:He(Te(u,"content",d)),marks:He(Te(u,"marks",d)),group:He(Te(u,"group",d)),inline:He(Te(u,"inline",d)),atom:He(Te(u,"atom",d)),selectable:He(Te(u,"selectable",d)),draggable:He(Te(u,"draggable",d)),code:He(Te(u,"code",d)),whitespace:He(Te(u,"whitespace",d)),linebreakReplacement:He(Te(u,"linebreakReplacement",d)),defining:He(Te(u,"defining",d)),isolating:He(Te(u,"isolating",d)),attrs:Object.fromEntries(c.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),p=He(Te(u,"parseHTML",d));p&&(f.parseDOM=p.map(m=>bk(m,c)));const g=Te(u,"renderHTML",d);g&&(f.toDOM=m=>g({node:m,HTMLAttributes:Kv(m,c)}));const w=Te(u,"renderText",d);return w&&(f.toText=w),[u.name,f]})),l=Object.fromEntries(s.map(u=>{const c=n.filter(w=>w.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},h=t.reduce((w,m)=>{const y=Te(m,"extendMarkSchema",d);return{...w,...y?y(u):{}}},{}),f=Sk({...h,inclusive:He(Te(u,"inclusive",d)),excludes:He(Te(u,"excludes",d)),group:He(Te(u,"group",d)),spanning:He(Te(u,"spanning",d)),code:He(Te(u,"code",d)),attrs:Object.fromEntries(c.map(w=>{var m;return[w.name,{default:(m=w==null?void 0:w.attribute)===null||m===void 0?void 0:m.default}]}))}),p=He(Te(u,"parseHTML",d));p&&(f.parseDOM=p.map(w=>bk(w,c)));const g=Te(u,"renderHTML",d);return g&&(f.toDOM=w=>g({mark:w,HTMLAttributes:Kv(w,c)})),[u.name,f]}));return new RI({topNode:o,nodes:a,marks:l})}function Zm(t,e){return e.nodes[t]||e.marks[t]||null}function xk(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function bb(t,e){const r=Mo.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}const E9=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,s,o,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,n-s))}),r};function Sb(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class xp{constructor(e){this.find=e.find,this.handler=e.handler}}const _9=(t,e)=>{if(Sb(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function kd(t){var e;const{editor:r,from:n,to:i,text:s,rules:o,plugin:a}=t,{view:l}=r;if(l.composing)return!1;const u=l.state.doc.resolve(n);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let c=!1;const d=E9(u)+s;return o.forEach(h=>{if(c)return;const f=_9(d,h.find);if(!f)return;const p=l.state.tr,g=wp({state:l.state,transaction:p}),w={from:n-(f[0].length-s.length),to:i},{commands:m,chain:y,can:v}=new bp({editor:r,state:g});h.handler({state:g,range:w,match:f,commands:m,chain:y,can:v})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:n,to:i,text:s}),l.dispatch(p),c=!0)}),c}function k9(t){const{editor:e,rules:r}=t,n=new Gt({state:{init(){return null},apply(i,s,o){const a=i.getMeta(n);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=bb(ge.from(c),o.schema);const{from:d}=l,h=d+c.length;kd({editor:e,from:d,to:h,text:c,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return kd({editor:e,from:s,to:o,text:a,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&kd({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?kd({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function T9(t){return Object.prototype.toString.call(t).slice(8,-1)}function Td(t){return T9(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Ep(t,e){const r={...t};return Td(t)&&Td(e)&&Object.keys(e).forEach(n=>{Td(e[n])&&Td(t[n])?r[n]=Ep(t[n],e[n]):r[n]=e[n]}),r}class Xn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=He(Te(this,"addOptions",{name:this.name}))),this.storage=He(Te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Xn(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Ep(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new Xn(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=He(Te(r,"addOptions",{name:r.name})),r.storage=He(Te(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}function C9(t){return typeof t=="number"}class A9{constructor(e){this.find=e.find,this.handler=e.handler}}const R9=(t,e,r)=>{if(Sb(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function O9(t){const{editor:e,state:r,from:n,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:u,can:c}=new bp({editor:e,state:r}),d=[];return r.doc.nodesBetween(n,i,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(n,p),w=Math.min(i,p+f.content.size),m=f.textBetween(g-p,w-p,void 0,"");R9(m,s.find,o).forEach(v=>{if(v.index===void 0)return;const b=g+v.index+1,E=b+v[0].length,N={from:r.tr.mapping.map(b),to:r.tr.mapping.map(E)},_=s.handler({state:r,range:N,match:v,commands:l,chain:u,can:c,pasteEvent:o,dropEvent:a});d.push(_)})}),d.every(f=>f!==null)}let Cd=null;const P9=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function N9(t){const{editor:e,rules:r}=t;let n=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:c,from:d,to:h,rule:f,pasteEvt:p})=>{const g=c.tr,w=wp({state:c,transaction:g});if(!(!O9({editor:e,state:w,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(c=>new Gt({view(d){const h=p=>{var g;n=!((g=d.dom.parentElement)===null||g===void 0)&&g.contains(p.target)?d.dom.parentElement:null,n&&(Cd=e)},f=()=>{Cd&&(Cd=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(s=n===d.dom.parentElement,a=h,!s){const f=Cd;f!=null&&f.isEditable&&setTimeout(()=>{const p=f.state.selection;p&&f.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=h,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!i,w=p.getMeta("uiEvent")==="drop"&&!s,m=p.getMeta("applyPasteRules"),y=!!m;if(!g&&!w&&!y)return;if(y){let{text:E}=m;typeof E=="string"?E=E:E=bb(ge.from(E),f.schema);const{from:N}=m,_=N+E.length,I=P9(E);return l({rule:c,state:f,from:N,to:{b:_},pasteEvt:I})}const v=h.doc.content.findDiffStart(f.doc.content),b=h.doc.content.findDiffEnd(f.doc.content);if(!(!C9(v)||!b||v===b.b))return l({rule:c,state:f,from:v,to:b,pasteEvt:o})}}))}function I9(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}class Ta{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=Ta.resolve(e),this.schema=x9(this.extensions,r),this.setupExtensions()}static resolve(e){const r=Ta.sort(Ta.flatten(e)),n=I9(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},i=Te(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(e){return e.sort((n,i)=>{const s=Te(n,"priority")||100,o=Te(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Zm(r.name,this.schema)},i=Te(r,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,r=Ta.sort([...this.extensions].reverse()),n=[],i=[],s=r.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Zm(o.name,this.schema)},l=[],u=Te(o,"addKeyboardShortcuts",a);let c={};if(o.type==="mark"&&Te(o,"exitable",a)&&(c.ArrowRight=()=>Xn.handleExit({editor:e,mark:o})),u){const g=Object.fromEntries(Object.entries(u()).map(([w,m])=>[w,()=>m({editor:e})]));c={...c,...g}}const d=Q7(c);l.push(d);const h=Te(o,"addInputRules",a);xk(o,e.options.enableInputRules)&&h&&n.push(...h());const f=Te(o,"addPasteRules",a);xk(o,e.options.enablePasteRules)&&f&&i.push(...f());const p=Te(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[k9({editor:e,rules:n}),...N9({editor:e,rules:i}),...s]}get attributes(){return z2(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=Sp(this.extensions);return Object.fromEntries(r.filter(n=>!!Te(n,"addNodeView")).map(n=>{const i=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e,type:qt(n.name,this.schema)},o=Te(n,"addNodeView",s);if(!o)return[];const a=(l,u,c,d,h)=>{const f=Kv(l,i);return o()({node:l,view:u,getPos:c,decorations:d,innerDecorations:h,editor:e,extension:n,HTMLAttributes:f})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Zm(e.name,this.schema)};e.type==="mark"&&(!((r=He(Te(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const i=Te(e,"onBeforeCreate",n),s=Te(e,"onCreate",n),o=Te(e,"onUpdate",n),a=Te(e,"onSelectionUpdate",n),l=Te(e,"onTransaction",n),u=Te(e,"onFocus",n),c=Te(e,"onBlur",n),d=Te(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class dr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=He(Te(this,"addOptions",{name:this.name}))),this.storage=He(Te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new dr(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Ep(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new dr({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=He(Te(r,"addOptions",{name:r.name})),r.storage=He(Te(r,"addStorage",{name:r.name,options:r.options})),r}}function $2(t,e,r){const{from:n,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=r||{};let a="";return t.nodesBetween(n,i,(l,u,c,d)=>{var h;l.isBlock&&u>n&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return c&&(a+=f({node:l,pos:u,parent:c,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(n,u)-u,i-u))}),a}function H2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const M9=dr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Gt({key:new Lr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),a=Math.max(...s.map(c=>c.$to.pos)),l=H2(r);return $2(n,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),D9=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),L9=(t=!1)=>({commands:e})=>e.setContent("",t),j9=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(l)),h=u.resolve(c.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const p=bl(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,g)}(p||p===0)&&e.lift(f,p)})}),!0},B9=t=>e=>t(e),F9=()=>({state:t,dispatch:e})=>j2(t,e),U9=(t,e)=>({editor:r,tr:n})=>{const{state:i}=r,s=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,s.content),n.setSelection(new Fe(n.doc.resolve(Math.max(o-1,0)))),!0},z9=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===n.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},V9=t=>({tr:e,state:r,dispatch:n})=>{const i=qt(t,r.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(n){const l=s.before(o),u=s.after(o);e.delete(l,u).scrollIntoView()}return!0}return!1},$9=t=>({tr:e,dispatch:r})=>{const{from:n,to:i}=t;return r&&e.delete(n,i),!0},H9=()=>({state:t,dispatch:e})=>mb(t,e),W9=()=>({commands:t})=>t.keyboardShortcut("Enter"),q9=()=>({state:t,dispatch:e})=>i9(t,e);function lf(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:Sb(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function W2(t,e,r={}){return t.find(n=>n.type===e&&lf(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function Ek(t,e,r={}){return!!W2(t,e,r)}function xb(t,e,r){var n;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(r=r||((n=i.node.marks[0])===null||n===void 0?void 0:n.attrs),!W2([...i.node.marks],e,r)))return;let o=i.index,a=t.start()+i.offset,l=o+1,u=a+i.node.nodeSize;for(;o>0&&Ek([...t.parent.child(o-1).marks],e,r);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&Ek([...t.parent.child(l).marks],e,r);)u+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function Cs(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const K9=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const s=Cs(t,n.schema),{doc:o,selection:a}=r,{$from:l,from:u,to:c}=a;if(i){const d=xb(l,s,e);if(d&&d.from<=u&&d.to>=c){const h=Fe.create(o,d.from,d.to);r.setSelection(h)}}return!0},G9=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function q2(t){return t instanceof Fe}function oo(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function K2(t,e=null){if(!e)return null;const r=$e.atStart(t),n=$e.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const i=r.from,s=n.to;return e==="all"?Fe.create(t,oo(0,i,s),oo(t.content.size,i,s)):Fe.create(t,oo(e,i,s),oo(e,i,s))}function J9(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Eb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const X9=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Eb()||J9())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!q2(r.state.selection))return o(),!0;const a=K2(i.doc,t)||r.state.selection,l=r.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Y9=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),Q9=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),G2=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&G2(n)}return t};function Ad(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return G2(r)}function pc(t,e,r){if(t instanceof ls||t instanceof ge)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return ge.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),pc("",e,r)}if(i){if(r.errorOnInvalidContent){let o=!1,a="";const l=new RI({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?us.fromSchema(l).parseSlice(Ad(t),r.parseOptions):us.fromSchema(l).parse(Ad(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=us.fromSchema(e);return r.slice?s.parseSlice(Ad(t),r.parseOptions).content:s.parse(Ad(t),r.parseOptions)}return pc("",e,r)}function Z9(t,e,r){const n=t.steps.length-1;if(n<e)return;const i=t.steps[n];if(!(i instanceof Vt||i instanceof Ht))return;const s=t.mapping.maps[n];let o=0;s.forEach((a,l,u,c)=>{o===0&&(o=c)}),t.setSelection($e.near(t.doc.resolve(o),r))}const eH=t=>!("type"in t),tH=(t,e,r)=>({tr:n,dispatch:i,editor:s})=>{var o;if(i){r={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let a;const l=w=>{s.emit("contentError",{editor:s,error:w,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{pc(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(w){l(w)}try{a=pc(e,s.schema,{parseOptions:u,errorOnInvalidContent:(o=r.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(w){return l(w),!1}let{from:c,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},h=!0,f=!0;if((eH(a)?a:[a]).forEach(w=>{w.check(),h=h?w.isText&&w.marks.length===0:!1,f=f?w.isBlock:!1}),c===d&&f){const{parent:w}=n.doc.resolve(c);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(c-=1,d+=1)}let g;if(h){if(Array.isArray(e))g=e.map(w=>w.text||"").join("");else if(e instanceof ge){let w="";e.forEach(m=>{m.text&&(w+=m.text)}),g=w}else typeof e=="object"&&e&&e.text?g=e.text:g=e;n.insertText(g,c,d)}else g=a,n.replaceWith(c,d,g);r.updateSelection&&Z9(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:c,text:g}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:c,text:g})}return!0},rH=()=>({state:t,dispatch:e})=>t9(t,e),nH=()=>({state:t,dispatch:e})=>r9(t,e),iH=()=>({state:t,dispatch:e})=>O2(t,e),sH=()=>({state:t,dispatch:e})=>M2(t,e),oH=()=>({state:t,dispatch:e,tr:r})=>{try{const n=fp(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},aH=()=>({state:t,dispatch:e,tr:r})=>{try{const n=fp(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},lH=()=>({state:t,dispatch:e})=>Z7(t,e),uH=()=>({state:t,dispatch:e})=>e9(t,e);function J2(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function cH(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Eb()||J2()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}const dH=t=>({editor:e,view:r,tr:n,dispatch:i})=>{const s=cH(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,a))});return l==null||l.steps.forEach(u=>{const c=u.map(n.mapping);c&&i&&n.maybeStep(c)}),!0};function mc(t,e,r={}){const{from:n,to:i,empty:s}=t.selection,o=e?qt(e,t.schema):null,a=[];t.doc.nodesBetween(n,i,(d,h)=>{if(d.isText)return;const f=Math.max(n,h),p=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:p})});const l=i-n,u=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>lf(d.node.attrs,r,{strict:!1}));return s?!!u.length:u.reduce((d,h)=>d+h.to-h.from,0)>=l}const hH=(t,e={})=>({state:r,dispatch:n})=>{const i=qt(t,r.schema);return mc(r,i,e)?n9(r,n):!1},fH=()=>({state:t,dispatch:e})=>B2(t,e),pH=t=>({state:e,dispatch:r})=>{const n=qt(t,e.schema);return m9(n)(e,r)},mH=()=>({state:t,dispatch:e})=>L2(t,e);function _p(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function _k(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}const gH=(t,e)=>({tr:r,state:n,dispatch:i})=>{let s=null,o=null;const a=_p(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(s=qt(t,n.schema)),a==="mark"&&(o=Cs(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{s&&s===u.type&&r.setNodeMarkup(c,void 0,_k(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&r.addMark(c,c+u.nodeSize,o.create(_k(d.attrs,e)))})})}),!0):!1},yH=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),vH=()=>({tr:t,dispatch:e})=>{if(e){const r=new Wr(t.doc);t.setSelection(r)}return!0},wH=()=>({state:t,dispatch:e})=>N2(t,e),bH=()=>({state:t,dispatch:e})=>D2(t,e),SH=()=>({state:t,dispatch:e})=>a9(t,e),xH=()=>({state:t,dispatch:e})=>c9(t,e),EH=()=>({state:t,dispatch:e})=>u9(t,e);function Gv(t,e,r={},n={}){return pc(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}const _H=(t,e=!1,r={},n={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,u;const{doc:c}=s;if(r.preserveWhitespace!=="full"){const d=Gv(t,i.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:(u=n.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function X2(t,e){const r=Cs(e,t.schema),{from:n,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===r.name);return a?{...a.attrs}:{}}function kH(t,e){const r=new WI(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function TH(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function CH(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(i,s)=>{r(i)&&n.push({node:i,pos:s})}),n}function AH(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function _b(t){return e=>AH(e.$from,t)}function RH(t,e){const r={from:0,to:t.content.size};return $2(t,r,e)}function OH(t,e){const r=qt(e,t.schema),{from:n,to:i}=t.selection,s=[];t.doc.nodesBetween(n,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===r.name);return o?{...o.attrs}:{}}function Y2(t,e){const r=_p(typeof e=="string"?e:e.name,t.schema);return r==="node"?OH(t,e):r==="mark"?X2(t,e):{}}function PH(t,e=JSON.stringify){const r={};return t.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function NH(t){const e=PH(t);return e.length===1?e:e.filter((r,n)=>!e.filter((s,o)=>o!==n).some(s=>r.oldRange.from>=s.oldRange.from&&r.oldRange.to<=s.oldRange.to&&r.newRange.from>=s.newRange.from&&r.newRange.to<=s.newRange.to))}function IH(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=r[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const u=e.slice(s).map(a,-1),c=e.slice(s).map(l),d=e.invert().map(u,-1),h=e.invert().map(c);n.push({oldRange:{from:d,to:h},newRange:{from:u,to:c}})})}),NH(n)}function kb(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(i=>{const s=r.resolve(t),o=xb(s,i.type);o&&n.push({mark:i,...o})}):r.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),n}function ch(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=t.find(s=>s.type===e&&s.name===n);return i?i.attribute.keepOnSplit:!1}))}function Jv(t,e,r={}){const{empty:n,ranges:i}=t.selection,s=e?Cs(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>lf(d.attrs,r,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;t.doc.nodesBetween(f,p,(g,w)=>{if(!g.isText&&!g.marks.length)return;const m=Math.max(f,w),y=Math.min(p,w+g.nodeSize),v=y-m;o+=v,a.push(...g.marks.map(b=>({mark:b,from:m,to:y})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>lf(d.mark.attrs,r,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),u=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+u:l)>=o}function MH(t,e,r={}){if(!e)return mc(t,null,r)||Jv(t,null,r);const n=_p(e,t.schema);return n==="node"?mc(t,e,r):n==="mark"?Jv(t,e,r):!1}function kk(t,e){const{nodeExtensions:r}=Sp(e),n=r.find(o=>o.name===t);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},s=He(Te(n,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function kp(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(kp(s,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}function DH(t){return t instanceof Me}function LH(t,e,r){var n;const{selection:i}=e;let s=null;if(q2(i)&&(s=i.$cursor),s){const a=(n=t.storedMarks)!==null&&n!==void 0?n:s.marks();return!!r.isInSet(a)||!a.some(l=>l.type.excludes(r))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(a.pos,l.pos,(c,d,h)=>{if(u)return!1;if(c.isInline){const f=!h||h.type.allowsMarkType(r),p=!!r.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(r));u=f&&p}return!u}),u})}const jH=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const{selection:s}=r,{empty:o,ranges:a}=s,l=Cs(t,n.schema);if(i)if(o){const u=X2(n,l);r.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;n.doc.nodesBetween(c,d,(h,f)=>{const p=Math.max(f,c),g=Math.min(f+h.nodeSize,d);h.marks.find(m=>m.type===l)?h.marks.forEach(m=>{l===m.type&&r.addMark(p,g,l.create({...m.attrs,...e}))}):r.addMark(p,g,l.create(e))})});return LH(n,r,l)},BH=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),FH=(t,e={})=>({state:r,dispatch:n,chain:i})=>{const s=qt(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>wk(s,{...o,...e})(r)?!0:a.clearNodes()).command(({state:a})=>wk(s,{...o,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},UH=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,i=oo(t,0,n.content.size),s=Me.create(n,i);e.setSelection(s)}return!0},zH=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=Fe.atStart(n).from,a=Fe.atEnd(n).to,l=oo(i,o,a),u=oo(s,o,a),c=Fe.create(n,l,u);e.setSelection(c)}return!0},VH=t=>({state:e,dispatch:r})=>{const n=qt(t,e.schema);return v9(n)(e,r)};function Tk(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(n)}}const $H=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,u=i.extensionManager.attributes,c=ch(u,a.node().type.name,a.node().attrs);if(s instanceof Me&&s.node.isBlock)return!a.parentOffset||!vi(o,a.pos)?!1:(n&&(t&&Tk(r,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:TH(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:c}]:void 0,p=vi(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&vi(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:c}]:void 0),n){if(p&&(s instanceof Fe&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),w=e.doc.resolve(g);a.node(-1).canReplaceWith(w.index(),w.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&Tk(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},HH=(t,e={})=>({tr:r,state:n,dispatch:i,editor:s})=>{var o;const a=qt(t,n.schema),{$from:l,$to:u}=n.selection,c=n.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let m=ge.empty;const y=l.index(-1)?1:l.index(-2)?2:3;for(let I=l.depth-y;I>=l.depth-3;I-=1)m=ge.from(l.node(I).copy(m));const v=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,b={...ch(h,l.node().type.name,l.node().attrs),...e},E=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(b))||void 0;m=m.append(ge.from(a.createAndFill(null,E)||void 0));const N=l.before(l.depth-(y-1));r.replace(N,l.after(-v),new xe(m,4-y,0));let _=-1;r.doc.nodesBetween(N,r.doc.content.size,(I,R)=>{if(_>-1)return!1;I.isTextblock&&I.content.size===0&&(_=R+1)}),_>-1&&r.setSelection(Fe.near(r.doc.resolve(_))),r.scrollIntoView()}return!0}const f=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...ch(h,d.type.name,d.attrs),...e},g={...ch(h,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,u.pos);const w=f?[{type:a,attrs:p},{type:f,attrs:g}]:[{type:a,attrs:p}];if(!vi(r.doc,l.pos,2))return!1;if(i){const{selection:m,storedMarks:y}=n,{splittableMarks:v}=s.extensionManager,b=y||m.$to.parentOffset&&m.$from.marks();if(r.split(l.pos,2,w).scrollIntoView(),!b||!i)return!0;const E=b.filter(N=>v.includes(N.type.name));r.ensureMarks(E)}return!0},eg=(t,e)=>{const r=_b(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ks(t.doc,r.pos)&&t.join(r.pos),!0},tg=(t,e)=>{const r=_b(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ks(t.doc,n)&&t.join(n),!0},WH=(t,e,r,n={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=qt(t,o.schema),p=qt(e,o.schema),{selection:g,storedMarks:w}=o,{$from:m,$to:y}=g,v=m.blockRange(y),b=w||g.$to.parentOffset&&g.$from.marks();if(!v)return!1;const E=_b(N=>kk(N.type.name,d))(g);if(v.depth>=1&&E&&v.depth-E.depth<=1){if(E.node.type===f)return u.liftListItem(p);if(kk(E.node.type.name,d)&&f.validContent(E.node.content)&&a)return l().command(()=>(s.setNodeMarkup(E.pos,f),!0)).command(()=>eg(s,f)).command(()=>tg(s,f)).run()}return!r||!b||!a?l().command(()=>c().wrapInList(f,n)?!0:u.clearNodes()).wrapInList(f,n).command(()=>eg(s,f)).command(()=>tg(s,f)).run():l().command(()=>{const N=c().wrapInList(f,n),_=b.filter(I=>h.includes(I.type.name));return s.ensureMarks(_),N?!0:u.clearNodes()}).wrapInList(f,n).command(()=>eg(s,f)).command(()=>tg(s,f)).run()},qH=(t,e={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:s=!1}=r,o=Cs(t,n.schema);return Jv(n,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},KH=(t,e,r={})=>({state:n,commands:i})=>{const s=qt(t,n.schema),o=qt(e,n.schema),a=mc(n,s,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...r})},GH=(t,e={})=>({state:r,commands:n})=>{const i=qt(t,r.schema);return mc(r,i,e)?n.lift(i):n.wrapIn(i,e)},JH=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},XH=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},YH=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=r,l=Cs(t,n.schema),{$from:u,empty:c,ranges:d}=a;if(!i)return!0;if(c&&o){let{from:h,to:f}=a;const p=(s=u.marks().find(w=>w.type===l))===null||s===void 0?void 0:s.attrs,g=xb(u,l,p);g&&(h=g.from,f=g.to),r.removeMark(h,f,l)}else d.forEach(h=>{r.removeMark(h.$from.pos,h.$to.pos,l)});return r.removeStoredMark(l),!0},QH=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let s=null,o=null;const a=_p(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(s=qt(t,n.schema)),a==="mark"&&(o=Cs(t,n.schema)),i&&r.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;let d,h,f,p;r.selection.empty?n.doc.nodesBetween(u,c,(g,w)=>{s&&s===g.type&&(f=Math.max(w,u),p=Math.min(w+g.nodeSize,c),d=w,h=g)}):n.doc.nodesBetween(u,c,(g,w)=>{w<u&&s&&s===g.type&&(f=Math.max(w,u),p=Math.min(w+g.nodeSize,c),d=w,h=g),w>=u&&w<=c&&(s&&s===g.type&&r.setNodeMarkup(w,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(m=>{if(o===m.type){const y=Math.max(w,u),v=Math.min(w+g.nodeSize,c);r.addMark(y,v,o.create({...m.attrs,...e}))}}))}),h&&(d!==void 0&&r.setNodeMarkup(d,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(g=>{o===g.type&&r.addMark(f,p,o.create({...g.attrs,...e}))}))}),!0):!1},ZH=(t,e={})=>({state:r,dispatch:n})=>{const i=qt(t,r.schema);return d9(i,e)(r,n)},eW=(t,e={})=>({state:r,dispatch:n})=>{const i=qt(t,r.schema);return h9(i,e)(r,n)};var tW=Object.freeze({__proto__:null,blur:D9,clearContent:L9,clearNodes:j9,command:B9,createParagraphNear:F9,cut:U9,deleteCurrentNode:z9,deleteNode:V9,deleteRange:$9,deleteSelection:H9,enter:W9,exitCode:q9,extendMarkRange:K9,first:G9,focus:X9,forEach:Y9,insertContent:Q9,insertContentAt:tH,joinBackward:iH,joinDown:nH,joinForward:sH,joinItemBackward:oH,joinItemForward:aH,joinTextblockBackward:lH,joinTextblockForward:uH,joinUp:rH,keyboardShortcut:dH,lift:hH,liftEmptyBlock:fH,liftListItem:pH,newlineInCode:mH,resetAttributes:gH,scrollIntoView:yH,selectAll:vH,selectNodeBackward:wH,selectNodeForward:bH,selectParentNode:SH,selectTextblockEnd:xH,selectTextblockStart:EH,setContent:_H,setMark:jH,setMeta:BH,setNode:FH,setNodeSelection:UH,setTextSelection:zH,sinkListItem:VH,splitBlock:$H,splitListItem:HH,toggleList:WH,toggleMark:qH,toggleNode:KH,toggleWrap:GH,undoInputRule:JH,unsetAllMarks:XH,unsetMark:YH,updateAttributes:QH,wrapIn:ZH,wrapInList:eW});const rW=dr.create({name:"commands",addCommands(){return{...tW}}}),nW=dr.create({name:"drop",addProseMirrorPlugins(){return[new Gt({key:new Lr("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),iW=dr.create({name:"editable",addProseMirrorPlugins(){return[new Gt({key:new Lr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),sW=new Lr("focusEvents"),oW=dr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Gt({key:sW,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),aW=dr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:d}=l,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=p.parent.type.spec.isolating,w=d.pos-d.parentOffset,m=g&&p.parent.childCount===1?w===d.pos:$e.atStart(u).from===h;return!c||!f.type.isTextblock||f.textContent.length||!m||m&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Eb()||J2()?s:i},addProseMirrorPlugins(){return[new Gt({key:new Lr("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(g=>g.getMeta("composition")))return;const n=t.some(g=>g.docChanged)&&!e.doc.eq(r.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!n||i)return;const{empty:s,from:o,to:a}=e.selection,l=$e.atStart(e.doc).from,u=$e.atEnd(e.doc).to;if(s||!(o===l&&a===u)||!kp(r.doc))return;const h=r.tr,f=wp({state:r,transaction:h}),{commands:p}=new bp({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),lW=dr.create({name:"paste",addProseMirrorPlugins(){return[new Gt({key:new Lr("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),uW=dr.create({name:"tabindex",addProseMirrorPlugins(){return[new Gt({key:new Lr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Xs{get name(){return this.node.type.name}constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Xs(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Xs(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Xs(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,s=r.isAtom&&!r.isText,o=this.pos+n+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new Xs(a,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),e.push(new Xs(a,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){const s=i.node.attrs,o=Object.keys(r);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(r);return this.children.forEach(o=>{n&&i.length>0||(o.node.type.name===e&&s.every(l=>r[l]===o.node.attrs[l])&&i.push(o),!(n&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,r,n))))}),i}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}}const cW=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function dW(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let hW=class extends w9{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:n,moved:i})=>this.options.onDrop(r,n,i)),this.on("paste",({event:r,slice:n})=>this.options.onPaste(r,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=dW(cW,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=V2(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const r=this.state.plugins;let n=r;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(o))}),r.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,r;const i=[...this.options.enableCoreExtensions?[iW,M9.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),rW,oW,aW,uW,nW,lW].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Ta(i,this)}createCommandManager(){this.commandManager=new bp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let r;try{r=Gv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),r=Gv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=K2(r,this.options.autofocus);this.view=new C2(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ka.create({doc:r,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Y2(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return MH(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return bb(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return RH(this.state.doc,{blockSeparator:r,textSerializers:{...H2(this.schema),...n}})}get isEmpty(){return kp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new Xs(r,this)}get $doc(){return this.$pos(0)}};function tl(t){return new xp({find:t.find,handler:({state:e,range:r,match:n})=>{const i=He(t.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:s}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),u=r.from+a.indexOf(o),c=u+o.length;if(kb(r.from,r.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>u).length)return null;c<r.to&&s.delete(c,r.to),u>r.from&&s.delete(r.from+l,u);const h=r.from+l+o.length;s.addMark(r.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function fW(t){return new xp({find:t.find,handler:({state:e,range:r,match:n})=>{const i=He(t.getAttributes,void 0,n)||{},{tr:s}=e,o=r.from;let a=r.to;const l=t.type.create(i);if(n[1]){const u=n[0].lastIndexOf(n[1]);let c=o+u;c>a?c=a:a=c+n[1].length;const d=n[0][n[0].length-1];s.insertText(d,o+n[0].length-1),s.replaceWith(c,a,l)}else if(n[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function Xv(t){return new xp({find:t.find,handler:({state:e,range:r,match:n})=>{const i=e.doc.resolve(r.from),s=He(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,s)}})}function gc(t){return new xp({find:t.find,handler:({state:e,range:r,match:n,chain:i})=>{const s=He(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),l=o.doc.resolve(r.from).blockRange(),u=l&&ib(l,t.type,s);if(!u)return null;if(o.wrap(l,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:f}=t.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(w=>f.includes(w.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const c=o.doc.resolve(r.from-1).nodeBefore;c&&c.type===t.type&&ks(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,c))&&o.join(r.from-1)}})}class Mr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=He(Te(this,"addOptions",{name:this.name}))),this.storage=He(Te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mr(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Ep(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new Mr(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=He(Te(r,"addOptions",{name:r.name})),r.storage=He(Te(r,"addStorage",{name:r.name,options:r.options})),r}}function Po(t){return new A9({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{const s=He(t.getAttributes,void 0,n,i);if(s===!1||s===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let u=r.to;if(a){const c=l.search(/\S/),d=r.from+l.indexOf(a),h=d+a.length;if(kb(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>d).length)return null;h<r.to&&o.delete(h,r.to),d>r.from&&o.delete(r.from+c,d),u=r.from+c+a.length,o.addMark(r.from+c,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function pW(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Me){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let i=n.depth;for(;i>=0;){const s=n.index(i);if(n.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function mW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q2={exports:{}},rg={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ck;function gW(){if(Ck)return rg;Ck=1;var t=Qe;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var f=h(),p=n({inst:{value:f,getSnapshot:h}}),g=p[0].inst,w=p[1];return s(function(){g.value=f,g.getSnapshot=h,l(g)&&w({inst:g})},[d,f,h]),i(function(){return l(g)&&w({inst:g}),d(function(){l(g)&&w({inst:g})})},[d]),o(f),f}function l(d){var h=d.getSnapshot;d=d.value;try{var f=h();return!r(d,f)}catch{return!0}}function u(d,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,rg}Q2.exports=gW();var Tb=Q2.exports;const yW=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},vW=({contentComponent:t})=>{const e=Tb.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Qe.createElement(Qe.Fragment,null,Object.values(e))};function wW(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:lO.createPortal(n.reactElement,n.element,r)},t.forEach(i=>i())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(i=>i())}}}class bW extends Qe.Component{constructor(e){var r;super(e),this.editorContentRef=Qe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((r=e.editor)===null||r===void 0)&&r.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=wW(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:e,innerRef:r,...n}=this.props;return Qe.createElement(Qe.Fragment,null,Qe.createElement("div",{ref:yW(r,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&Qe.createElement(vW,{contentComponent:e.contentComponent}))}}const SW=ee.forwardRef((t,e)=>{const r=Qe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Qe.createElement(bW,{key:r,innerRef:e,...t})}),xW=Qe.memo(SW);var EW=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],r.get(i[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},_W=mW(EW),Z2={exports:{}},ng={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak;function kW(){if(Ak)return ng;Ak=1;var t=Qe,e=Tb;function r(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return ng.useSyncExternalStoreWithSelector=function(u,c,d,h,f){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function m(N){if(!y){if(y=!0,v=N,N=h(N),f!==void 0&&g.hasValue){var _=g.value;if(f(_,N))return b=_}return b=N}if(_=b,n(v,N))return _;var I=h(N);return f!==void 0&&f(_,I)?_:(v=N,b=I)}var y=!1,v,b,E=d===void 0?null:d;return[function(){return m(c())},E===null?void 0:function(){return m(E())}]},[c,d,h,f]);var w=i(u,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=w},[w]),l(w),w},ng}Z2.exports=kW();var TW=Z2.exports;const CW=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;class AW{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const r=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",r),()=>{n.off("transaction",r)}}}}function RW(t){var e;const[r]=ee.useState(()=>new AW(t.editor)),n=TW.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:_W);return CW(()=>r.watch(t.editor),[t.editor,r]),ee.useDebugValue(n),n}const OW=!1,Yv=typeof window>"u",PW=Yv||!!(typeof window<"u"&&window.next);class Cb{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Yv||PW?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...n)},onBlur:(...n)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...n)},onCreate:(...n)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...n)},onDestroy:(...n)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...n)},onFocus:(...n)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...n)},onSelectionUpdate:(...n)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...n)},onTransaction:(...n)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...n)},onUpdate:(...n)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...n)},onContentError:(...n)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...n)},onDrop:(...n)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...n)},onPaste:(...n)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...n)}};return new hW(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=r.extensions)===null||o===void 0?void 0:o[s])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Cb.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,i)=>n===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function NW(t={},e=[]){const r=ee.useRef(t);r.current=t;const[n]=ee.useState(()=>new Cb(r)),i=Tb.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return ee.useDebugValue(i),ee.useEffect(n.onRender(e)),RW({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const IW=ee.createContext({editor:null});IW.Consumer;const MW=ee.createContext({onDragStart:void 0}),DW=()=>ee.useContext(MW);Qe.forwardRef((t,e)=>{const{onDragStart:r}=DW(),n=t.as||"div";return Qe.createElement(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});const LW=/^\s*>\s$/,jW=Mr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[gc({find:LW,type:this.type})]}}),BW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,FW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,UW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,zW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,VW=Xn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[tl({find:BW,type:this.type}),tl({find:UW,type:this.type})]},addPasteRules(){return[Po({find:FW,type:this.type}),Po({find:zW,type:this.type})]}}),$W="listItem",Rk="textStyle",Ok=/^\s*([-+*])\s$/,HW=Mr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($W,this.editor.getAttributes(Rk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=gc({find:Ok,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=gc({find:Ok,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Rk),editor:this.editor})),[t]}}),WW=/(^|[^`])`([^`]+)`(?!`)/,qW=/(^|[^`])`([^`]+)`(?!`)/g,KW=Xn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[tl({find:WW,type:this.type})]},addPasteRules(){return[Po({find:qW,type:this.type})]}}),GW=/^```([a-z]+)?[\s\n]$/,JW=/^~~~([a-z]+)?[\s\n]$/,XW=Mr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Kt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:s}=r;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:n.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection($e.near(n.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Xv({find:GW,type:this.type,getAttributes:t=>({language:t[1]})}),Xv({find:JW,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Gt({key:new Lr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,s=i==null?void 0:i.mode;if(!r||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Fe.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),YW=Mr.create({name:"doc",topNode:!0,content:"block+"});function QW(t={}){return new Gt({view(e){return new ZW(e,t)}})}class ZW{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(r){let d=e.nodeBefore,h=e.nodeAfter;if(d||h){let f=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(f){let p=f.getBoundingClientRect(),g=d?p.bottom:p.top;d&&h&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*a;n={left:p.left,right:p.right,top:g-w,bottom:g+w}}}}if(!n){let d=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*o;n={left:d.left-h,right:d.left+h,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,c=-pageYOffset;else{let d=l.getBoundingClientRect(),h=d.width/l.offsetWidth,f=d.height/l.offsetHeight;u=d.left-l.scrollLeft*h,c=d.top-l.scrollTop*f}this.element.style.left=(n.left-u)/o+"px",this.element.style.top=(n.top-c)/a+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!s){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=UI(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const eq=dr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[QW(this.options)]}});class Tt extends $e{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return Tt.valid(n)?new Tt(n):$e.near(n)}content(){return xe.empty}eq(e){return e instanceof Tt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Tt(e.resolve(r.pos))}getBookmark(){return new Ab(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!tq(e)||!rq(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&Tt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(r>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=r;let l=e.doc.resolve(i);if(Tt.valid(l))return l}for(;;){let o=r>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Me.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*r),n=!1;continue e}break}s=o,i+=r;let a=e.doc.resolve(i);if(Tt.valid(a))return a}return null}}}Tt.prototype.visible=!1;Tt.findFrom=Tt.findGapCursorFrom;$e.jsonID("gapcursor",Tt);class Ab{constructor(e){this.pos=e}map(e){return new Ab(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return Tt.valid(r)?new Tt(r):$e.near(r)}}function eM(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function tq(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||eM(i.type))return!0;if(i.inlineContent)return!1}}return!0}function rq(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||eM(i.type))return!0;if(i.inlineContent)return!1}}return!0}function nq(){return new Gt({props:{decorations:aq,createSelectionBetween(t,e,r){return e.pos==r.pos&&Tt.valid(r)?new Tt(r):null},handleClick:sq,handleKeyDown:iq,handleDOMEvents:{beforeinput:oq}}})}const iq=A2({ArrowLeft:Rd("horiz",-1),ArrowRight:Rd("horiz",1),ArrowUp:Rd("vert",-1),ArrowDown:Rd("vert",1)});function Rd(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,s){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Fe){if(!s.endOfTextblock(r)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let u=Tt.findGapCursorFrom(a,e,l);return u?(i&&i(n.tr.setSelection(new Tt(u))),!0):!1}}function sq(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!Tt.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&Me.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Tt(n))),!0)}function oq(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Tt))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=ge.empty;for(let o=n.length-1;o>=0;o--)i=ge.from(n[o].createAndFill(null,i));let s=t.state.tr.replace(r.pos,r.pos,new xe(i,0,0));return s.setSelection(Fe.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function aq(t){if(!(t.selection instanceof Tt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Dt.create(t.doc,[$r.widget(t.selection.head,e,{key:"gapcursor"})])}const lq=dr.create({name:"gapCursor",addProseMirrorPlugins(){return[nq()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=He(Te(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),uq=Mr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Kt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&o){const d=l.filter(h=>a.includes(h.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cq=Mr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Kt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Xv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var uf=200,Wt=function(){};Wt.prototype.append=function(e){return e.length?(e=Wt.from(e),!this.length&&e||e.length<uf&&this.leafAppend(e)||this.length<uf&&e.leafPrepend(this)||this.appendInner(e)):this};Wt.prototype.prepend=function(e){return e.length?Wt.from(e).append(this):this};Wt.prototype.appendInner=function(e){return new dq(this,e)};Wt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Wt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Wt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Wt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Wt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},r,n),i};Wt.from=function(e){return e instanceof Wt?e:e&&e.length?new tM(e):Wt.empty};var tM=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=uf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=uf)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Wt);Wt.empty=new tM([]);var dq=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(n,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(n,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(n,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(n,i):n>=s?this.right.slice(n-s,i-s):this.left.slice(n,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Wt);const hq=500;class Cn{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,s;r&&(i=this.remapping(n,this.items.length),s=i.maps.length);let o=e.tr,a,l,u=[],c=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(n,h+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new Ni(d.map));let f=d.step.map(i.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ni(p,void 0,void 0,u.length+c.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new Cn(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,r,n,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),h=new Ni(e.mapping.maps[c],d,r),f;(f=l&&l.merge(h))&&(h=f,c?s.pop():a=a.slice(0,a.length-1)),s.push(h),r&&(o++,r=void 0),i||(l=h)}let u=o-n.depth;return u>pq&&(a=fq(a,u),o-=u),new Cn(a.append(s),o)}remapping(e,r){let n=new uc;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Cn(this.items.append(e.map(r=>new Ni(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=r;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(h.step){let g=e.steps[f].invert(e.docs[f]),w=h.selection&&h.selection.map(s.slice(l+1,f));w&&a++,n.push(new Ni(p,g,w))}else n.push(new Ni(p))},i);let u=[];for(let h=r;h<o;h++)u.push(new Ni(s.maps[h]));let c=this.items.slice(0,i).append(u).append(n),d=new Cn(c,a);return d.emptyItemCount()>hq&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let c=o.selection&&o.selection.map(r.slice(n));c&&s++;let d=new Ni(u.invert(),l,c),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else o.map&&n--},this.items.length,0),new Cn(Wt.from(i.reverse()),s)}}Cn.empty=new Cn(Wt.empty,0);function fq(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}let Ni=class rM{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new rM(r.getMap().invert(),r,this.selection)}}};class Ui{constructor(e,r,n,i,s){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}}const pq=20;function mq(t,e,r,n){let i=r.getMeta(wo),s;if(i)return i.historyState;r.getMeta(vq)&&(t=new Ui(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(wo))return o.getMeta(wo).redo?new Ui(t.done.addTransform(r,void 0,n,dh(e)),t.undone,Pk(r.mapping.maps),t.prevTime,t.prevComposition):new Ui(t.done,t.undone.addTransform(r,void 0,n,dh(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!gq(r,t.prevRanges)),u=o?ig(t.prevRanges,r.mapping):Pk(r.mapping.maps);return new Ui(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,dh(e)),Cn.empty,u,r.time,a??t.prevComposition)}else return(s=r.getMeta("rebased"))?new Ui(t.done.rebased(r,s),t.undone.rebased(r,s),ig(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Ui(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),ig(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function gq(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&i>=e[s]&&(r=!0)}),r}function Pk(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,s,o)=>e.push(s,o));return e}function ig(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),s=e.map(t[n+1],-1);i<=s&&r.push(i,s)}return r}function yq(t,e,r){let n=dh(e),i=wo.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,n),l=new Ui(r?a:s.remaining,r?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(wo,{redo:r,historyState:l})}let sg=!1,Nk=null;function dh(t){let e=t.plugins;if(Nk!=e){sg=!1,Nk=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){sg=!0;break}}return sg}const wo=new Lr("history"),vq=new Lr("closeHistory");function wq(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Gt({key:wo,state:{init(){return new Ui(Cn.empty,Cn.empty,null,0,-1)},apply(e,r,n){return mq(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?iM:n=="historyRedo"?sM:null;return!i||!e.editable?!1:(r.preventDefault(),i(e.state,e.dispatch))}}}})}function nM(t,e){return(r,n)=>{let i=wo.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let s=yq(i,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}const iM=nM(!1,!0),sM=nM(!0,!0),bq=dr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>iM(t,e),redo:()=>({state:t,dispatch:e})=>sM(t,e)}},addProseMirrorPlugins(){return[wq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Sq=Mr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Kt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!pW(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$from:n,$to:i}=r,s=t();return n.parentOffset===0?s.insertContentAt({from:Math.max(n.pos-1,0),to:i.pos},{type:this.name}):DH(r)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:u}=o.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(Fe.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(Me.create(o.doc,u.pos)):o.setSelection(Fe.create(o.doc,u.pos));else{const d=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(c,d),o.setSelection(Fe.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[fW({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xq=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Eq=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_q=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kq=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Tq=Xn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[tl({find:xq,type:this.type}),tl({find:_q,type:this.type})]},addPasteRules(){return[Po({find:Eq,type:this.type}),Po({find:kq,type:this.type})]}}),Cq=Mr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Kt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Aq="listItem",Ik="textStyle",Mk=/^(\d+)\.\s$/,Rq=Mr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Kt(this.options.HTMLAttributes,r),0]:["ol",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Aq,this.editor.getAttributes(Ik)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=gc({find:Mk,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=gc({find:Mk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ik)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),Oq=Mr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Pq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Nq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Iq=Xn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[tl({find:Pq,type:this.type})]},addPasteRules(){return[Po({find:Nq,type:this.type})]}}),Mq=Mr.create({name:"text",group:"inline"}),Dq=dr.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(VW.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(jW.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(HW.configure(this.options.bulletList)),this.options.code!==!1&&t.push(KW.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(XW.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(YW.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(eq.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(lq.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(uq.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(cq.configure(this.options.heading)),this.options.history!==!1&&t.push(bq.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Sq.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Tq.configure(this.options.italic)),this.options.listItem!==!1&&t.push(Cq.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(Rq.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Oq.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Iq.configure(this.options.strike)),this.options.text!==!1&&t.push(Mq.configure(this.options.text)),t}}),Lq=Xn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),jq=dr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Gt({key:new Lr("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,i=[];if(!r)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=n>=a&&n<=a+o.nodeSize,u=!o.isLeaf&&kp(o);if((l||!this.options.showOnlyCurrent)&&u){const c=[this.options.emptyNodeClass];s&&c.push(this.options.emptyEditorClass);const d=$r.node(a,a+o.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),Dt.create(t,i)}}})]}}),Bq="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Fq="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Qv="numeric",Zv="ascii",ew="alpha",Su="asciinumeric",eu="alphanumeric",tw="domain",oM="emoji",Uq="scheme",zq="slashscheme",og="whitespace";function Vq(t,e){return t in e||(e[t]=[]),e[t]}function ao(t,e,r){e[Qv]&&(e[Su]=!0,e[eu]=!0),e[Zv]&&(e[Su]=!0,e[ew]=!0),e[Su]&&(e[eu]=!0),e[ew]&&(e[eu]=!0),e[eu]&&(e[tw]=!0),e[oM]&&(e[tw]=!0);for(const n in e){const i=Vq(n,r);i.indexOf(t)<0&&i.push(t)}}function $q(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function kr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}kr.groups={};kr.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],s=e.jr[n][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||kr.groups;let i;return e&&e.j?i=e:(i=new kr(e),r&&n&&ao(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,r,n)},tt(t,e,r,n){n=n||kr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new kr,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new kr,s){if(n)if(o.t&&typeof o.t=="string"){const l=Object.assign($q(o.t,n),r);ao(s,l,n)}else r&&ao(s,r,n);o.t=s}return i.j[t]=o,o}};const Ve=(t,e,r,n,i)=>t.ta(e,r,n,i),St=(t,e,r,n,i)=>t.tr(e,r,n,i),Dk=(t,e,r,n,i)=>t.ts(e,r,n,i),ve=(t,e,r,n,i)=>t.tt(e,r,n,i),ai="WORD",rw="UWORD",aM="ASCIINUMERICAL",lM="ALPHANUMERICAL",yc="LOCALHOST",nw="TLD",iw="UTLD",hh="SCHEME",oa="SLASH_SCHEME",Rb="NUM",sw="WS",Ob="NL",xu="OPENBRACE",Eu="CLOSEBRACE",cf="OPENBRACKET",df="CLOSEBRACKET",hf="OPENPAREN",ff="CLOSEPAREN",pf="OPENANGLEBRACKET",mf="CLOSEANGLEBRACKET",gf="FULLWIDTHLEFTPAREN",yf="FULLWIDTHRIGHTPAREN",vf="LEFTCORNERBRACKET",wf="RIGHTCORNERBRACKET",bf="LEFTWHITECORNERBRACKET",Sf="RIGHTWHITECORNERBRACKET",xf="FULLWIDTHLESSTHAN",Ef="FULLWIDTHGREATERTHAN",_f="AMPERSAND",kf="APOSTROPHE",Tf="ASTERISK",zi="AT",Cf="BACKSLASH",Af="BACKTICK",Rf="CARET",qi="COLON",Pb="COMMA",Of="DOLLAR",jn="DOT",Pf="EQUALS",Nb="EXCLAMATION",en="HYPHEN",_u="PERCENT",Nf="PIPE",If="PLUS",Mf="POUND",ku="QUERY",Ib="QUOTE",uM="FULLWIDTHMIDDLEDOT",Mb="SEMI",Bn="SLASH",Tu="TILDE",Df="UNDERSCORE",cM="EMOJI",Lf="SYM";var dM=Object.freeze({__proto__:null,ALPHANUMERICAL:lM,AMPERSAND:_f,APOSTROPHE:kf,ASCIINUMERICAL:aM,ASTERISK:Tf,AT:zi,BACKSLASH:Cf,BACKTICK:Af,CARET:Rf,CLOSEANGLEBRACKET:mf,CLOSEBRACE:Eu,CLOSEBRACKET:df,CLOSEPAREN:ff,COLON:qi,COMMA:Pb,DOLLAR:Of,DOT:jn,EMOJI:cM,EQUALS:Pf,EXCLAMATION:Nb,FULLWIDTHGREATERTHAN:Ef,FULLWIDTHLEFTPAREN:gf,FULLWIDTHLESSTHAN:xf,FULLWIDTHMIDDLEDOT:uM,FULLWIDTHRIGHTPAREN:yf,HYPHEN:en,LEFTCORNERBRACKET:vf,LEFTWHITECORNERBRACKET:bf,LOCALHOST:yc,NL:Ob,NUM:Rb,OPENANGLEBRACKET:pf,OPENBRACE:xu,OPENBRACKET:cf,OPENPAREN:hf,PERCENT:_u,PIPE:Nf,PLUS:If,POUND:Mf,QUERY:ku,QUOTE:Ib,RIGHTCORNERBRACKET:wf,RIGHTWHITECORNERBRACKET:Sf,SCHEME:hh,SEMI:Mb,SLASH:Bn,SLASH_SCHEME:oa,SYM:Lf,TILDE:Tu,TLD:nw,UNDERSCORE:Df,UTLD:iw,UWORD:rw,WORD:ai,WS:sw});const ni=/[a-z]/,Bl=new RegExp("\\p{L}","u"),ag=new RegExp("\\p{Emoji}","u"),ii=/\d/,lg=/\s/,Lk="\r",ug=`
`,Hq="",Wq="",cg="";let Od=null,Pd=null;function qq(t=[]){const e={};kr.groups=e;const r=new kr;Od==null&&(Od=jk(Bq)),Pd==null&&(Pd=jk(Fq)),ve(r,"'",kf),ve(r,"{",xu),ve(r,"}",Eu),ve(r,"[",cf),ve(r,"]",df),ve(r,"(",hf),ve(r,")",ff),ve(r,"<",pf),ve(r,">",mf),ve(r,"",gf),ve(r,"",yf),ve(r,"",vf),ve(r,"",wf),ve(r,"",bf),ve(r,"",Sf),ve(r,"",xf),ve(r,"",Ef),ve(r,"&",_f),ve(r,"*",Tf),ve(r,"@",zi),ve(r,"`",Af),ve(r,"^",Rf),ve(r,":",qi),ve(r,",",Pb),ve(r,"$",Of),ve(r,".",jn),ve(r,"=",Pf),ve(r,"!",Nb),ve(r,"-",en),ve(r,"%",_u),ve(r,"|",Nf),ve(r,"+",If),ve(r,"#",Mf),ve(r,"?",ku),ve(r,'"',Ib),ve(r,"/",Bn),ve(r,";",Mb),ve(r,"~",Tu),ve(r,"_",Df),ve(r,"\\",Cf),ve(r,"",uM);const n=St(r,ii,Rb,{[Qv]:!0});St(n,ii,n);const i=St(n,ni,aM,{[Su]:!0}),s=St(n,Bl,lM,{[eu]:!0}),o=St(r,ni,ai,{[Zv]:!0});St(o,ii,i),St(o,ni,o),St(i,ii,i),St(i,ni,i);const a=St(r,Bl,rw,{[ew]:!0});St(a,ni),St(a,ii,s),St(a,Bl,a),St(s,ii,s),St(s,ni),St(s,Bl,s);const l=ve(r,ug,Ob,{[og]:!0}),u=ve(r,Lk,sw,{[og]:!0}),c=St(r,lg,sw,{[og]:!0});ve(r,cg,c),ve(u,ug,l),ve(u,cg,c),St(u,lg,c),ve(c,Lk),ve(c,ug),St(c,lg,c),ve(c,cg,c);const d=St(r,ag,cM,{[oM]:!0});ve(d,"#"),St(d,ag,d),ve(d,Hq,d);const h=ve(d,Wq);ve(h,"#"),St(h,ag,d);const f=[[ni,o],[ii,i]],p=[[ni,null],[Bl,a],[ii,s]];for(let g=0;g<Od.length;g++)Ii(r,Od[g],nw,ai,f);for(let g=0;g<Pd.length;g++)Ii(r,Pd[g],iw,rw,p);ao(nw,{tld:!0,ascii:!0},e),ao(iw,{utld:!0,alpha:!0},e),Ii(r,"file",hh,ai,f),Ii(r,"mailto",hh,ai,f),Ii(r,"http",oa,ai,f),Ii(r,"https",oa,ai,f),Ii(r,"ftp",oa,ai,f),Ii(r,"ftps",oa,ai,f),ao(hh,{scheme:!0,ascii:!0},e),ao(oa,{slashscheme:!0,ascii:!0},e),t=t.sort((g,w)=>g[0]>w[0]?1:-1);for(let g=0;g<t.length;g++){const w=t[g][0],y=t[g][1]?{[Uq]:!0}:{[zq]:!0};w.indexOf("-")>=0?y[tw]=!0:ni.test(w)?ii.test(w)?y[Su]=!0:y[Zv]=!0:y[Qv]=!0,Dk(r,w,w,y)}return Dk(r,"localhost",yc,{ascii:!0}),r.jd=new kr(Lf),{start:r,tokens:Object.assign({groups:e},dM)}}function hM(t,e){const r=Kq(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=r.length,i=[];let s=0,o=0;for(;o<n;){let a=t,l=null,u=0,c=null,d=-1,h=-1;for(;o<n&&(l=a.go(r[o]));)a=l,a.accepts()?(d=0,h=0,c=a):d>=0&&(d+=r[o].length,h++),u+=r[o].length,s+=r[o].length,o++;s-=d,o-=h,u-=d,i.push({t:c.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function Kq(t){const e=[],r=t.length;let n=0;for(;n<r;){let i=t.charCodeAt(n),s,o=i<55296||i>56319||n+1===r||(s=t.charCodeAt(n+1))<56320||s>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function Ii(t,e,r,n,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new kr(n),s.jr=i.slice(),t.j[l]=s),t=s}return s=new kr(r),s.jr=i.slice(),t.j[e[o-1]]=s,s}function jk(t){const e=[],r=[];let n=0,i="0123456789";for(;n<t.length;){let s=0;for(;i.indexOf(t[n+s])>=0;)s++;if(s>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+s),10);o>0;o--)r.pop();n+=s}else r.push(t[n]),n++}return e}const vc={defaultProtocol:"http",events:null,format:Bk,formatHref:Bk,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Db(t,e=null){let r=Object.assign({},vc);t&&(r=Object.assign(r,t instanceof Db?t.o:t));const n=r.ignoreTags,i=[];for(let s=0;s<n.length;s++)i.push(n[s].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}Db.prototype={o:vc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:vc[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Bk(t){return t}function fM(t,e){this.t="token",this.v=t,this.tk=e}fM.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=vc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),s=this.toFormattedString(t),o={},a=t.get("className",r,e),l=t.get("target",r,e),u=t.get("rel",r,e),c=t.getObj("attributes",r,e),d=t.getObj("events",r,e);return o.href=n,a&&(o.class=a),l&&(o.target=l),u&&(o.rel=u),c&&Object.assign(o,c),{tagName:i,attributes:o,content:s,eventListeners:d}}};function Tp(t,e){class r extends fM{constructor(i,s){super(i,s),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const Fk=Tp("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Uk=Tp("text"),Gq=Tp("nl"),Nd=Tp("url",{isLink:!0,toHref(t=vc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==yc&&t[1].t===qi}}),Yr=t=>new kr(t);function Jq({groups:t}){const e=t.domain.concat([_f,Tf,zi,Cf,Af,Rf,Of,Pf,en,Rb,_u,Nf,If,Mf,Bn,Lf,Tu,Df]),r=[kf,qi,Pb,jn,Nb,_u,ku,Ib,Mb,pf,mf,xu,Eu,df,cf,hf,ff,gf,yf,vf,wf,bf,Sf,xf,Ef],n=[_f,kf,Tf,Cf,Af,Rf,Of,Pf,en,xu,Eu,_u,Nf,If,Mf,ku,Bn,Lf,Tu,Df],i=Yr(),s=ve(i,Tu);Ve(s,n,s),Ve(s,t.domain,s);const o=Yr(),a=Yr(),l=Yr();Ve(i,t.domain,o),Ve(i,t.scheme,a),Ve(i,t.slashscheme,l),Ve(o,n,s),Ve(o,t.domain,o);const u=ve(o,zi);ve(s,zi,u),ve(a,zi,u),ve(l,zi,u);const c=ve(s,jn);Ve(c,n,s),Ve(c,t.domain,s);const d=Yr();Ve(u,t.domain,d),Ve(d,t.domain,d);const h=ve(d,jn);Ve(h,t.domain,d);const f=Yr(Fk);Ve(h,t.tld,f),Ve(h,t.utld,f),ve(u,yc,f);const p=ve(d,en);ve(p,en,p),Ve(p,t.domain,d),Ve(f,t.domain,d),ve(f,jn,h),ve(f,en,p);const g=ve(f,qi);Ve(g,t.numeric,Fk);const w=ve(o,en),m=ve(o,jn);ve(w,en,w),Ve(w,t.domain,o),Ve(m,n,s),Ve(m,t.domain,o);const y=Yr(Nd);Ve(m,t.tld,y),Ve(m,t.utld,y),Ve(y,t.domain,o),Ve(y,n,s),ve(y,jn,m),ve(y,en,w),ve(y,zi,u);const v=ve(y,qi),b=Yr(Nd);Ve(v,t.numeric,b);const E=Yr(Nd),N=Yr();Ve(E,e,E),Ve(E,r,N),Ve(N,e,E),Ve(N,r,N),ve(y,Bn,E),ve(b,Bn,E);const _=ve(a,qi),I=ve(l,qi),R=ve(I,Bn),F=ve(R,Bn);Ve(a,t.domain,o),ve(a,jn,m),ve(a,en,w),Ve(l,t.domain,o),ve(l,jn,m),ve(l,en,w),Ve(_,t.domain,E),ve(_,Bn,E),ve(_,ku,E),Ve(F,t.domain,E),Ve(F,e,E),ve(F,Bn,E);const ne=[[xu,Eu],[cf,df],[hf,ff],[pf,mf],[gf,yf],[vf,wf],[bf,Sf],[xf,Ef]];for(let M=0;M<ne.length;M++){const[U,C]=ne[M],G=ve(E,U);ve(N,U,G),ve(G,C,E);const ie=Yr(Nd);Ve(G,e,ie);const $=Yr();Ve(G,r),Ve(ie,e,ie),Ve(ie,r,$),Ve($,e,ie),Ve($,r,$),ve(ie,C,E),ve($,C,E)}return ve(i,yc,y),ve(i,Ob,Gq),{start:i,tokens:dM}}function Xq(t,e,r){let n=r.length,i=0,s=[],o=[];for(;i<n;){let a=t,l=null,u=null,c=0,d=null,h=-1;for(;i<n&&!(l=a.go(r[i].t));)o.push(r[i++]);for(;i<n&&(u=l||a.go(r[i].t));)l=null,a=u,a.accepts()?(h=0,d=a):h>=0&&h++,i++,c++;if(h<0)i-=c,i<n&&(o.push(r[i]),i++);else{o.length>0&&(s.push(dg(Uk,e,o)),o=[]),i-=h,c-=h;const f=d.t,p=r.slice(i-c,i);s.push(dg(f,e,p))}}return o.length>0&&s.push(dg(Uk,e,o)),s}function dg(t,e,r){const n=r[0].s,i=r[r.length-1].e,s=e.slice(n,i);return new t(s,r)}const Yq=typeof console<"u"&&console&&console.warn||(()=>{}),Qq="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ut={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Zq(){return kr.groups={},ut.scanner=null,ut.parser=null,ut.tokenQueue=[],ut.pluginQueue=[],ut.customSchemes=[],ut.initialized=!1,ut}function zk(t,e=!1){if(ut.initialized&&Yq(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Qq}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ut.customSchemes.push([t,e])}function eK(){ut.scanner=qq(ut.customSchemes);for(let t=0;t<ut.tokenQueue.length;t++)ut.tokenQueue[t][1]({scanner:ut.scanner});ut.parser=Jq(ut.scanner.tokens);for(let t=0;t<ut.pluginQueue.length;t++)ut.pluginQueue[t][1]({scanner:ut.scanner,parser:ut.parser});return ut.initialized=!0,ut}function Lb(t){return ut.initialized||eK(),Xq(ut.parser.start,t,hM(ut.scanner.start,t))}Lb.scan=hM;function pM(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new Db(r),i=Lb(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&n.check(a)&&s.push(a.toFormattedObject(n))}return s}const jb="[\0- -\u2029]",tK=new RegExp(jb),rK=new RegExp(`${jb}$`),nK=new RegExp(jb,"g");function iK(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function sK(t){return new Gt({key:new Lr("autolink"),appendTransaction:(e,r,n)=>{const i=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=n,a=kH(r.doc,[...e]);if(IH(a).forEach(({newRange:u})=>{const c=CH(n.doc,u,f=>f.isTextblock);let d,h;if(c.length>1)d=c[0],h=n.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(c.length){const f=n.doc.textBetween(u.from,u.to," "," ");if(!rK.test(f))return;d=c[0],h=n.doc.textBetween(d.pos,u.to,void 0," ")}if(d&&h){const f=h.split(tK).filter(Boolean);if(f.length<=0)return!1;const p=f[f.length-1],g=d.pos+h.lastIndexOf(p);if(!p)return!1;const w=Lb(p).map(m=>m.toObject(t.defaultProtocol));if(!iK(w))return!1;w.filter(m=>m.isLink).map(m=>({...m,from:g+m.start+1,to:g+m.end+1})).filter(m=>n.schema.marks.code?!n.doc.rangeHasMark(m.from,m.to,n.schema.marks.code):!0).filter(m=>t.validate(m.value)).filter(m=>t.shouldAutoLink(m.value)).forEach(m=>{kb(m.from,m.to,n.doc).some(y=>y.mark.type===t.type)||o.addMark(m.from,m.to,t.type.create({href:m.href}))})}}),!!o.steps.length)return o}})}function oK(t){return new Gt({key:new Lr("handleClickLink"),props:{handleClick:(e,r,n)=>{var i,s;if(n.button!==0||!e.editable)return!1;let o=n.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=Y2(e.state,t.type.name),u=n.target,c=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:l.href,d=(s=u==null?void 0:u.target)!==null&&s!==void 0?s:l.target;return u&&c?(window.open(c,d),!0):!1}}})}function aK(t){return new Gt({key:new Lr("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";n.content.forEach(u=>{a+=u.textContent});const l=pM(a,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===a);return!a||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}function Ls(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!t||t.replace(nK,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const lK=Xn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){zk(t);return}zk(t.scheme,t.optionalSlashes)})},onDestroy(){Zq()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ls(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!Ls(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ls(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Kt(this.options.HTMLAttributes,t),0]:["a",Kt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Ls(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Ls(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Po({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,i=pM(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Ls(o,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(sK({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!Ls(i,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(oK({type:this.type})),this.options.linkOnPaste&&t.push(aK({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),uK={},Vk=t=>{let e;const r=new Set,n=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(uK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,l);return l},cK=t=>t?Vk(t):Vk;var mM={exports:{}},gM={},yM={exports:{}},vM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=ee;function dK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hK=typeof Object.is=="function"?Object.is:dK,fK=rl.useState,pK=rl.useEffect,mK=rl.useLayoutEffect,gK=rl.useDebugValue;function yK(t,e){var r=e(),n=fK({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return mK(function(){i.value=r,i.getSnapshot=e,hg(i)&&s({inst:i})},[t,r,e]),pK(function(){return hg(i)&&s({inst:i}),t(function(){hg(i)&&s({inst:i})})},[t]),gK(r),r}function hg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hK(t,r)}catch{return!0}}function vK(t,e){return e()}var wK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vK:yK;vM.useSyncExternalStore=rl.useSyncExternalStore!==void 0?rl.useSyncExternalStore:wK;yM.exports=vM;var bK=yM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=ee,SK=bK;function xK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EK=typeof Object.is=="function"?Object.is:xK,_K=SK.useSyncExternalStore,kK=Cp.useRef,TK=Cp.useEffect,CK=Cp.useMemo,AK=Cp.useDebugValue;gM.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=kK(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=CK(function(){function l(f){if(!u){if(u=!0,c=f,f=n(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,EK(c,f))return p;var g=n(f);return i!==void 0&&i(p,g)?(c=f,p):(c=f,d=g)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var a=_K(t,s[0],s[1]);return TK(function(){o.hasValue=!0,o.value=a},[a]),AK(a),a};mM.exports=gM;var RK=mM.exports;const OK=mw(RK),Bb={},{useDebugValue:PK}=Qe,{useSyncExternalStoreWithSelector:NK}=OK;let $k=!1;const IK=t=>t;function MK(t,e=IK,r){(Bb?"production":void 0)!=="production"&&r&&!$k&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$k=!0);const n=NK(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return PK(n),n}const Hk=t=>{(Bb?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?cK(t):t,r=(n,i)=>MK(e,n,i);return Object.assign(r,e),r},DK=t=>t?Hk(t):Hk;var LK=t=>((Bb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),DK(t));const wM="radreport.versions";function jK(){try{return JSON.parse(localStorage.getItem(wM)||"[]")}catch{return[]}}const Cu=LK((t,e)=>({modalidade:null,content:"",versions:jK(),setContent:r=>t({content:r}),pushVersion:()=>{const n=[{id:crypto.randomUUID(),ts:Date.now(),content:e().content},...e().versions].slice(0,50);localStorage.setItem(wM,JSON.stringify(n)),t({versions:n})},setModalidade:r=>t({modalidade:r})}));function bM(t,e){t.chain().focus().insertContent(e+`
`).run()}function jf(t,e){t.chain().focus().insertContent(`<h3>Concluso</h3>
<p>`+e+"</p>").run()}function BK({editor:t}){const{modalidade:e}=Cu(),[r,n]=ee.useState(!1);async function i(){var o,a,l;if(t){n(!0);try{const u=t.getText().slice(0,1200),c=await Nr.aiSuggest({text:u,modality:e||"TC",topK:6}),d=(a=(o=c==null?void 0:c.suggestions)==null?void 0:o[0])==null?void 0:a.text;d&&bM(t,d);const h=(l=c==null?void 0:c.conclusion)==null?void 0:l.text;h&&jf(t,h)}finally{n(!1)}}}async function s(){if(t){n(!0);try{const o=t.getText().slice(-400),a=await Nr.aiComplete({textPrefix:o,modality:e||"TC"});a!=null&&a.completion&&jf(t,a.completion)}finally{n(!1)}}}return B.jsxs("div",{style:{display:"inline-flex",gap:8},children:[B.jsx("button",{className:"btn",onClick:i,disabled:r,title:"Ctrl+J",children:r?"IA":"IA Sugerir"}),B.jsx("button",{className:"btn",onClick:s,disabled:r,title:"Ctrl+Shift+J",children:"Concluso IA"})]})}const SM=Qe.createContext(null);function FK({children:t}){const[e,r]=Qe.useState(!1),[n,i]=Qe.useState("account");return Qe.useEffect(()=>{const s=localStorage.getItem("rr.settings.tab");s&&i(s)},[]),Qe.useEffect(()=>{localStorage.setItem("rr.settings.tab",n)},[n]),B.jsx(SM.Provider,{value:{open:e,tab:n,setOpen:r,setTab:i},children:t})}function Fb(){const t=Qe.useContext(SM);if(!t)throw new Error("SettingsDrawerProvider missing");return t}function UK({userEmail:t}){const{tab:e,setTab:r,setOpen:n}=Fb(),i=({t:s,icon:o,label:a})=>B.jsxs("button",{className:`flex w-full items-center gap-2 rounded-md border border-[color:var(--divider)] px-3 py-2 text-left ${e===s?"bg-white/10":""}`,onClick:()=>r(s),children:[B.jsx(o,{size:16}),B.jsx("span",{children:a})]});return B.jsxs("aside",{className:"flex h-full w-60 flex-col gap-3 bg-[color:var(--panel)]/90 p-3",children:[B.jsx("div",{className:"rounded-md border border-[color:var(--divider)] p-3",children:B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-cyan-400/20 text-sm",children:(t||"U").slice(0,1).toUpperCase()}),B.jsx("div",{className:"text-sm",children:t||"Usurio"})]})}),B.jsxs("nav",{className:"flex flex-col gap-2",children:[i({t:"account",icon:TB,label:"Conta"}),i({t:"general",icon:lB,label:"Geral"}),i({t:"clinic",icon:iB,label:"Clnica"}),i({t:"editor",icon:_B,label:"Editor"}),i({t:"plans",icon:cB,label:"Planos"}),i({t:"history",icon:pB,label:"Histrico"}),i({t:"help",icon:oB,label:"Ajuda"}),B.jsxs("button",{className:"flex w-full items-center gap-2 rounded-md border border-[color:var(--divider)] px-3 py-2 text-left",onClick:()=>n(!1),children:[B.jsx(vB,{size:16}),B.jsx("span",{children:"Ir para Editor"})]}),B.jsxs("button",{className:"flex w-full items-center gap-2 rounded-md border border-[color:var(--divider)] px-3 py-2 text-left",onClick:async()=>{await Nr.logout(),window.location.assign("/login")},children:[B.jsx(xB,{size:16}),B.jsx("span",{children:"Sair"})]})]})]})}function zK(){const{tab:t}=Fb(),[e,r]=Qe.useState(null),[n,i]=Qe.useState(!1),[s,o]=Qe.useState(null);Qe.useEffect(()=>{(async()=>{try{const u=await Nr.me();o((u==null?void 0:u.email)||null)}catch{}try{const u=await Nr.getPrefs();r(u||{})}catch{}})()},[]);const a=async()=>{i(!0);try{await Nr.savePrefs(e||{})}finally{i(!1)}},l=({title:u,children:c})=>B.jsxs("div",{className:"rounded-md border border-[color:var(--divider)] p-4",children:[B.jsx("div",{className:"mb-2 text-sm font-semibold",children:u}),c]});return B.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 bg-[color:var(--bg)]/60 p-4",children:[t==="account"&&B.jsx(l,{title:"Informaes da conta",children:B.jsxs("div",{className:"grid gap-3",children:[B.jsxs("label",{className:"grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Nome"}),B.jsx("input",{className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2",value:(e==null?void 0:e.name)||"",onChange:u=>r({...e,name:u.target.value})})]}),B.jsxs("label",{className:"grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Email"}),B.jsx("input",{className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2",value:s||"",readOnly:!0})]})]})}),t==="general"&&B.jsx(l,{title:"Preferncias gerais",children:B.jsxs("div",{className:"grid gap-3",children:[B.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[B.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.dark_mode),onChange:u=>r({...e,dark_mode:u.target.checked})}),B.jsx("span",{children:"Tema escuro"})]}),B.jsxs("label",{className:"grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Idioma"}),B.jsxs("select",{className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2",value:(e==null?void 0:e.lang)||"pt",onChange:u=>r({...e,lang:u.target.value}),children:[B.jsx("option",{value:"pt",children:"Portugus"}),B.jsx("option",{value:"en",children:"English"})]})]})]})}),t==="clinic"&&B.jsx(l,{title:"Configurao da clnica",children:B.jsx("div",{className:"grid gap-3",children:B.jsxs("label",{className:"grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Nome da clnica"}),B.jsx("input",{className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2",value:(e==null?void 0:e.clinic_name)||"",onChange:u=>r({...e,clinic_name:u.target.value})})]})})}),t==="editor"&&B.jsx(l,{title:"Ajustes do editor",children:B.jsxs("div",{className:"grid gap-3",children:[B.jsxs("label",{className:"grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Modalidade padro"}),B.jsxs("select",{className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2",value:(e==null?void 0:e.default_modality)||"TC",onChange:u=>r({...e,default_modality:u.target.value}),children:[B.jsx("option",{children:"TC"}),B.jsx("option",{children:"RM"}),B.jsx("option",{children:"RX"}),B.jsx("option",{children:"US"})]})]}),B.jsxs("label",{className:"grid gap-1",children:[B.jsx("span",{className:"text-sm",children:"Velocidade da voz"}),B.jsx("input",{type:"number",min:.5,max:2,step:.1,className:"rounded-md border border-[color:var(--divider)] bg-black/30 px-3 py-2",value:(e==null?void 0:e.voice_rate)||1,onChange:u=>r({...e,voice_rate:Number(u.target.value)})})]})]})}),t==="plans"&&B.jsx(l,{title:"Planos",children:B.jsx("div",{className:"text-sm text-muted",children:"Gerencie sua assinatura em breve."})}),t==="history"&&B.jsx(l,{title:"Histrico",children:B.jsx("div",{className:"text-sm text-muted",children:"Resumo de uso ser exibido aqui."})}),t==="help"&&B.jsx(l,{title:"Ajuda",children:B.jsx("div",{className:"text-sm text-muted",children:"Acesse suporte e tutoriais."})}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{className:"rounded-md border border-[color:var(--divider)] px-4 py-2",onClick:a,disabled:n,children:n?"Salvando":"Salvar"}),B.jsx("button",{className:"rounded-md border border-[color:var(--divider)] px-4 py-2",onClick:()=>window.location.reload(),children:"Reverter"})]})]})}function VK({onGenerateConclusion:t}){const{content:e,setContent:r}=Cu(),n=NW({extensions:[Dq,Lq,lK.configure({openOnClick:!1}),jq.configure({placeholder:"Escreva os Achados e a Concluso"})],content:e,onUpdate:({editor:u})=>r(u.getHTML()),editorProps:{attributes:{class:"rte"}}});if(ee.useEffect(()=>{n&&e&&n.getHTML()!==e&&n.commands.setContent(e)},[e,n]),!n)return null;Qe.useEffect(()=>{if(!n)return;function u(c){const d=c.ctrlKey||c.metaKey;if(d&&c.key.toLowerCase()==="j"&&!c.shiftKey&&(c.preventDefault(),n)){const h=n.getText().slice(0,1200),f=Cu.getState().modalidade||"TC";Nr.aiSuggest({text:h,modality:f,topK:6}).then(p=>{var m,y,v;const g=(y=(m=p==null?void 0:p.suggestions)==null?void 0:m[0])==null?void 0:y.text;g&&n&&bM(n,g);const w=(v=p==null?void 0:p.conclusion)==null?void 0:v.text;w&&n&&jf(n,w)}).catch(()=>{})}if(d&&c.shiftKey&&c.key.toLowerCase()==="j"&&(c.preventDefault(),n)){const h=Cu.getState().modalidade||"TC",f=n.getText().slice(-400);Nr.aiComplete({textPrefix:f,modality:h}).then(p=>{p!=null&&p.completion&&n&&jf(n,p.completion)}).catch(()=>{})}}return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n]);const i=(u,c,d)=>B.jsx("button",{className:d?" active":"",onClick:c,children:u}),{open:s,setOpen:o}=Fb(),[a,l]=Qe.useState(null);return Qe.useEffect(()=>{(async()=>{try{const u=await Nr.me();l((u==null?void 0:u.email)||null)}catch{}})()},[]),Qe.useEffect(()=>{function u(c){c.key==="Escape"&&o(!1)}return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[o]),B.jsxs("div",{className:"editorWrap",children:[B.jsxs("div",{className:"toolbar",style:{display:"flex",alignItems:"center"},children:[i("B",()=>n.chain().focus().toggleBold().run(),n.isActive("bold")),i("I",()=>n.chain().focus().toggleItalic().run(),n.isActive("italic")),i("U",()=>n.chain().focus().toggleUnderline().run(),n.isActive("underline")),i("Lista",()=>n.chain().focus().toggleBulletList().run(),n.isActive("bulletList")),i("Num",()=>n.chain().focus().toggleOrderedList().run(),n.isActive("orderedList")),i("H3",()=>n.chain().focus().toggleHeading({level:3}).run(),n.isActive("heading",{level:3})),i("Concluso ",t),B.jsx(BK,{editor:n}),B.jsx("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:8},children:B.jsxs("button",{className:"pill",onClick:()=>o(!0),style:{display:"flex",alignItems:"center",gap:8},children:[B.jsx("span",{style:{display:"inline-flex",width:24,height:24,borderRadius:999,alignItems:"center",justifyContent:"center",background:"var(--accent)",color:"#001016"},children:(a||"U").slice(0,1).toUpperCase()}),B.jsx("span",{children:"Perfil"})]})})]}),B.jsx(xW,{editor:n}),s&&B.jsx("div",{className:"fixed inset-0 z-50",style:{display:"grid",gridTemplateColumns:"240px 1fr",background:"rgba(0,0,0,.5)"},onClick:()=>o(!1),children:B.jsxs("div",{onClick:u=>u.stopPropagation(),style:{display:"contents"},children:[B.jsx(UK,{userEmail:a}),B.jsx(zK,{})]})})]})}function $K({onGenerateConclusion:t}){return B.jsx(FK,{children:B.jsx(VK,{onGenerateConclusion:t})})}const xM=[{id:"tc-torax-basico",titulo:"TC Trax  Bsico",modalidade:"TC",conteudo:{achados:"Parnquima pulmonar analisado em janelas de pulmo e mediastino. Sem consolidaes francas. Sem derrame pleural evidente. Linfonodos mediastinais no aumentados aos nveis avaliados.",conclusao:"Sem alteraes significativas no estudo tomogrfico do trax.",tecnica:"Tomografia computadorizada do trax conforme protocolo institucional."}},{id:"us-abdome",titulo:"US Abdome Superior",modalidade:"US",conteudo:{achados:"Fgado de forma e contornos preservados, ecotextura homognea. Vescula biliar normodistendida, paredes finas. Vias biliares sem dilatao. Pncreas e bao sem alteraes significativas. Ausncia de lquido livre.",conclusao:"Ultrassonografia de abdome superior sem alteraes significativas.",tecnica:"Exame realizado com transdutor convexo multifrequencial."}}],EM=[{id:"pulmoes-normais",chave:"macro pulmes normais",modalidade:"TC",texto:"Pulmes com arquitetura preservada, sem consolidaes, sem derrames, sem pneumotrax."},{id:"conclusao-padrao",chave:"macro concluso padro",texto:"Achados compatveis com estudo sem alteraes significativas."},{id:"coluna-lombar-normal",chave:"macro normal coluna lombar",modalidade:"RM",texto:"Alinhamento preservado, discos sem protruses significativas, sinais inflamatrios ausentes."}],Id={achados:"Descrever achados relevantes de forma objetiva, com localizao e caractersticas.",conclusao:"Sntese interpretativa com as principais impresses diagnsticas."};function HK(t){const e=t.trim().toLowerCase();if(e.startsWith("inserir macro")||e.startsWith("macro ")){const r=e.replace("inserir","").replace("macro","").trim(),n=EM.find(i=>i.chave.toLowerCase().includes(r));if(n)return{type:"insert",payload:n.texto}}if(e.startsWith("template ")){const r=e.replace("template","").trim(),n=xM.find(i=>i.titulo.toLowerCase().includes(r)||i.modalidade.toLowerCase()===r);if(n)return{type:"template",payload:n}}return e.startsWith("ir para")?{type:"navigate",payload:e.replace("ir para","").trim()}:e.startsWith("estilo")?{type:"style",payload:e.replace("estilo","").trim()}:e.includes("gerar concluso")?{type:"generate",payload:"conclusao"}:e.includes("verificar consistncia")?{type:"check"}:null}function WK({onText:t,onCommand:e}){const[r,n]=ee.useState(!1),i=ee.useRef(null);ee.useEffect(()=>{const o=window,a=o.SpeechRecognition||o.webkitSpeechRecognition;if(!a)return;const l=new a;l.lang="pt-BR",l.continuous=!0,l.interimResults=!0,l.onresult=u=>{for(let c=u.resultIndex;c<u.results.length;c++){const d=u.results[c],h=d[0].transcript;if(d.isFinal){const f=HK(h);f?e(f):t(h.trim()+" ")}}},i.current=l},[t,e]);function s(){const o=i.current;if(!o)return alert("Reconhecimento de voz no suportado neste navegador");r?(o.stop(),n(!1)):(o.start(),n(!0))}return B.jsx("button",{className:"btn",onClick:s,"aria-pressed":r,title:"Ditado por voz",children:r?" Parar":" Ditado"})}var qK=Object.defineProperty,KK=Object.defineProperties,GK=Object.getOwnPropertyDescriptors,Wk=Object.getOwnPropertySymbols,JK=Object.prototype.hasOwnProperty,XK=Object.prototype.propertyIsEnumerable,ow=(t,e,r)=>e in t?qK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ge=(t,e)=>{for(var r in e||(e={}))JK.call(e,r)&&ow(t,r,e[r]);if(Wk)for(var r of Wk(e))XK.call(e,r)&&ow(t,r,e[r]);return t},nl=(t,e)=>KK(t,GK(e)),fe=(t,e,r)=>ow(t,typeof e!="symbol"?e+"":e,r),YK=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(u){i(u)}},o=l=>{try{a(r.throw(l))}catch(u){i(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())});class Bf{constructor(e){fe(this,"rootKey"),this.rootKey=e}}const QK=Object.seal({});class pe extends Bf{constructor(e){super(e),fe(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof Bf?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:QK}}addChildElement(e){return this.root.push(e),this}}class Ap extends pe{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class je extends Bf{constructor(e){super("_attr"),fe(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class Rp extends Bf{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>nl(Ge({},n),{[i]:s}),{})}}}class Ot extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _M(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fg={},Md={exports:{}},qk;function Ub(){if(qk)return Md.exports;qk=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(E,N,_){return Function.prototype.apply.call(E,N,_)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:r=function(E){return Object.getOwnPropertyNames(E)};function n(b){console&&console.warn&&console.warn(b)}var i=Number.isNaN||function(E){return E!==E};function s(){s.init.call(this)}Md.exports=s,Md.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(b){if(typeof b!="number"||b<0||i(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");o=b}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function l(b){return b._maxListeners===void 0?s.defaultMaxListeners:b._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(E){for(var N=[],_=1;_<arguments.length;_++)N.push(arguments[_]);var I=E==="error",R=this._events;if(R!==void 0)I=I&&R.error===void 0;else if(!I)return!1;if(I){var F;if(N.length>0&&(F=N[0]),F instanceof Error)throw F;var ne=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw ne.context=F,ne}var M=R[E];if(M===void 0)return!1;if(typeof M=="function")e(M,this,N);else for(var U=M.length,C=p(M,U),_=0;_<U;++_)e(C[_],this,N);return!0};function u(b,E,N,_){var I,R,F;if(a(N),R=b._events,R===void 0?(R=b._events=Object.create(null),b._eventsCount=0):(R.newListener!==void 0&&(b.emit("newListener",E,N.listener?N.listener:N),R=b._events),F=R[E]),F===void 0)F=R[E]=N,++b._eventsCount;else if(typeof F=="function"?F=R[E]=_?[N,F]:[F,N]:_?F.unshift(N):F.push(N),I=l(b),I>0&&F.length>I&&!F.warned){F.warned=!0;var ne=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");ne.name="MaxListenersExceededWarning",ne.emitter=b,ne.type=E,ne.count=F.length,n(ne)}return b}s.prototype.addListener=function(E,N){return u(this,E,N,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(E,N){return u(this,E,N,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(b,E,N){var _={fired:!1,wrapFn:void 0,target:b,type:E,listener:N},I=c.bind(_);return I.listener=N,_.wrapFn=I,I}s.prototype.once=function(E,N){return a(N),this.on(E,d(this,E,N)),this},s.prototype.prependOnceListener=function(E,N){return a(N),this.prependListener(E,d(this,E,N)),this},s.prototype.removeListener=function(E,N){var _,I,R,F,ne;if(a(N),I=this._events,I===void 0)return this;if(_=I[E],_===void 0)return this;if(_===N||_.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete I[E],I.removeListener&&this.emit("removeListener",E,_.listener||N));else if(typeof _!="function"){for(R=-1,F=_.length-1;F>=0;F--)if(_[F]===N||_[F].listener===N){ne=_[F].listener,R=F;break}if(R<0)return this;R===0?_.shift():g(_,R),_.length===1&&(I[E]=_[0]),I.removeListener!==void 0&&this.emit("removeListener",E,ne||N)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(E){var N,_,I;if(_=this._events,_===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete _[E]),this;if(arguments.length===0){var R=Object.keys(_),F;for(I=0;I<R.length;++I)F=R[I],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=_[E],typeof N=="function")this.removeListener(E,N);else if(N!==void 0)for(I=N.length-1;I>=0;I--)this.removeListener(E,N[I]);return this};function h(b,E,N){var _=b._events;if(_===void 0)return[];var I=_[E];return I===void 0?[]:typeof I=="function"?N?[I.listener||I]:[I]:N?w(I):p(I,I.length)}s.prototype.listeners=function(E){return h(this,E,!0)},s.prototype.rawListeners=function(E){return h(this,E,!1)},s.listenerCount=function(b,E){return typeof b.listenerCount=="function"?b.listenerCount(E):f.call(b,E)},s.prototype.listenerCount=f;function f(b){var E=this._events;if(E!==void 0){var N=E[b];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function p(b,E){for(var N=new Array(E),_=0;_<E;++_)N[_]=b[_];return N}function g(b,E){for(;E+1<b.length;E++)b[E]=b[E+1];b.pop()}function w(b){for(var E=new Array(b.length),N=0;N<E.length;++N)E[N]=b[N].listener||b[N];return E}function m(b,E){return new Promise(function(N,_){function I(F){b.removeListener(E,R),_(F)}function R(){typeof b.removeListener=="function"&&b.removeListener("error",I),N([].slice.call(arguments))}v(b,E,R,{once:!0}),E!=="error"&&y(b,I,{once:!0})})}function y(b,E,N){typeof b.on=="function"&&v(b,"error",E,N)}function v(b,E,N,_){if(typeof b.on=="function")_.once?b.once(E,N):b.on(E,N);else if(typeof b.addEventListener=="function")b.addEventListener(E,function I(R){_.once&&b.removeEventListener(E,I),N(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b)}return Md.exports}var Dd={exports:{}},Kk;function As(){return Kk||(Kk=1,typeof Object.create=="function"?Dd.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Dd.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Dd.exports}function ZK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kM={exports:{}},Pt=kM.exports={},Fn,Un;function aw(){throw new Error("setTimeout has not been defined")}function lw(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Fn=setTimeout:Fn=aw}catch{Fn=aw}try{typeof clearTimeout=="function"?Un=clearTimeout:Un=lw}catch{Un=lw}})();function TM(t){if(Fn===setTimeout)return setTimeout(t,0);if((Fn===aw||!Fn)&&setTimeout)return Fn=setTimeout,setTimeout(t,0);try{return Fn(t,0)}catch{try{return Fn.call(null,t,0)}catch{return Fn.call(this,t,0)}}}function eG(t){if(Un===clearTimeout)return clearTimeout(t);if((Un===lw||!Un)&&clearTimeout)return Un=clearTimeout,clearTimeout(t);try{return Un(t)}catch{try{return Un.call(null,t)}catch{return Un.call(this,t)}}}var mi=[],ja=!1,lo,fh=-1;function tG(){!ja||!lo||(ja=!1,lo.length?mi=lo.concat(mi):fh=-1,mi.length&&CM())}function CM(){if(!ja){var t=TM(tG);ja=!0;for(var e=mi.length;e;){for(lo=mi,mi=[];++fh<e;)lo&&lo[fh].run();fh=-1,e=mi.length}lo=null,ja=!1,eG(t)}}Pt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];mi.push(new AM(t,e)),mi.length===1&&!ja&&TM(CM)};function AM(t,e){this.fun=t,this.array=e}AM.prototype.run=function(){this.fun.apply(null,this.array)};Pt.title="browser";Pt.browser=!0;Pt.env={};Pt.argv=[];Pt.version="";Pt.versions={};function Ai(){}Pt.on=Ai;Pt.addListener=Ai;Pt.once=Ai;Pt.off=Ai;Pt.removeListener=Ai;Pt.removeAllListeners=Ai;Pt.emit=Ai;Pt.prependListener=Ai;Pt.prependOnceListener=Ai;Pt.listeners=function(t){return[]};Pt.binding=function(t){throw new Error("process.binding is not supported")};Pt.cwd=function(){return"/"};Pt.chdir=function(t){throw new Error("process.chdir is not supported")};Pt.umask=function(){return 0};var rG=kM.exports;const We=ZK(rG);var pg,Gk;function RM(){return Gk||(Gk=1,pg=Ub().EventEmitter),pg}var mg={},Fl={},Jk;function nG(){if(Jk)return Fl;Jk=1,Fl.byteLength=a,Fl.toByteArray=u,Fl.fromByteArray=h;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");g===-1&&(g=p);var w=g===p?0:4-g%4;return[g,w]}function a(f){var p=o(f),g=p[0],w=p[1];return(g+w)*3/4-w}function l(f,p,g){return(p+g)*3/4-g}function u(f){var p,g=o(f),w=g[0],m=g[1],y=new r(l(f,w,m)),v=0,b=m>0?w-4:w,E;for(E=0;E<b;E+=4)p=e[f.charCodeAt(E)]<<18|e[f.charCodeAt(E+1)]<<12|e[f.charCodeAt(E+2)]<<6|e[f.charCodeAt(E+3)],y[v++]=p>>16&255,y[v++]=p>>8&255,y[v++]=p&255;return m===2&&(p=e[f.charCodeAt(E)]<<2|e[f.charCodeAt(E+1)]>>4,y[v++]=p&255),m===1&&(p=e[f.charCodeAt(E)]<<10|e[f.charCodeAt(E+1)]<<4|e[f.charCodeAt(E+2)]>>2,y[v++]=p>>8&255,y[v++]=p&255),y}function c(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[f&63]}function d(f,p,g){for(var w,m=[],y=p;y<g;y+=3)w=(f[y]<<16&16711680)+(f[y+1]<<8&65280)+(f[y+2]&255),m.push(c(w));return m.join("")}function h(f){for(var p,g=f.length,w=g%3,m=[],y=16383,v=0,b=g-w;v<b;v+=y)m.push(d(f,v,v+y>b?b:v+y));return w===1?(p=f[g-1],m.push(t[p>>2]+t[p<<4&63]+"==")):w===2&&(p=(f[g-2]<<8)+f[g-1],m.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),m.join("")}return Fl}var Ld={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Xk;function iG(){return Xk||(Xk=1,Ld.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,d=r?i-1:0,h=r?-1:1,f=t[e+d];for(d+=h,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=s*256+t[e+d],d+=h,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+d],d+=h,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(f?-1:1)*o*Math.pow(2,s-n)},Ld.write=function(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,d=c>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(e*l-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=a&255,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+f]=o&255,f+=p,o/=256,u-=8);t[r+f-p]|=g*128}),Ld}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Yk;function Op(){return Yk||(Yk=1,function(t){var e=nG(),r=iG(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var P=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(P,S),P.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(P){if(P>i)throw new RangeError('The value "'+P+'" is invalid for option "size"');var S=new Uint8Array(P);return Object.setPrototypeOf(S,a.prototype),S}function a(P,S,x){if(typeof P=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(P)}return l(P,S,x)}a.poolSize=8192;function l(P,S,x){if(typeof P=="string")return h(P,S);if(ArrayBuffer.isView(P))return p(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(re(P,ArrayBuffer)||P&&re(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(re(P,SharedArrayBuffer)||P&&re(P.buffer,SharedArrayBuffer)))return g(P,S,x);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=P.valueOf&&P.valueOf();if(T!=null&&T!==P)return a.from(T,S,x);var z=w(P);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return a.from(P[Symbol.toPrimitive]("string"),S,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}a.from=function(P,S,x){return l(P,S,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function c(P,S,x){return u(P),P<=0?o(P):S!==void 0?typeof x=="string"?o(P).fill(S,x):o(P).fill(S):o(P)}a.alloc=function(P,S,x){return c(P,S,x)};function d(P){return u(P),o(P<0?0:m(P)|0)}a.allocUnsafe=function(P){return d(P)},a.allocUnsafeSlow=function(P){return d(P)};function h(P,S){if((typeof S!="string"||S==="")&&(S="utf8"),!a.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var x=v(P,S)|0,T=o(x),z=T.write(P,S);return z!==x&&(T=T.slice(0,z)),T}function f(P){for(var S=P.length<0?0:m(P.length)|0,x=o(S),T=0;T<S;T+=1)x[T]=P[T]&255;return x}function p(P){if(re(P,Uint8Array)){var S=new Uint8Array(P);return g(S.buffer,S.byteOffset,S.byteLength)}return f(P)}function g(P,S,x){if(S<0||P.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<S+(x||0))throw new RangeError('"length" is outside of buffer bounds');var T;return S===void 0&&x===void 0?T=new Uint8Array(P):x===void 0?T=new Uint8Array(P,S):T=new Uint8Array(P,S,x),Object.setPrototypeOf(T,a.prototype),T}function w(P){if(a.isBuffer(P)){var S=m(P.length)|0,x=o(S);return x.length===0||P.copy(x,0,0,S),x}if(P.length!==void 0)return typeof P.length!="number"||k(P.length)?o(0):f(P);if(P.type==="Buffer"&&Array.isArray(P.data))return f(P.data)}function m(P){if(P>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return P|0}function y(P){return+P!=P&&(P=0),a.alloc(+P)}a.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==a.prototype},a.compare=function(S,x){if(re(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),re(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(S)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===x)return 0;for(var T=S.length,z=x.length,X=0,H=Math.min(T,z);X<H;++X)if(S[X]!==x[X]){T=S[X],z=x[X];break}return T<z?-1:z<T?1:0},a.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(S,x){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return a.alloc(0);var T;if(x===void 0)for(x=0,T=0;T<S.length;++T)x+=S[T].length;var z=a.allocUnsafe(x),X=0;for(T=0;T<S.length;++T){var H=S[T];if(re(H,Uint8Array))X+H.length>z.length?a.from(H).copy(z,X):Uint8Array.prototype.set.call(z,H,X);else if(a.isBuffer(H))H.copy(z,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=H.length}return z};function v(P,S){if(a.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||re(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var x=P.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&x===0)return 0;for(var z=!1;;)switch(S){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return A(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return L(P).length;default:if(z)return T?-1:A(P).length;S=(""+S).toLowerCase(),z=!0}}a.byteLength=v;function b(P,S,x){var T=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,S>>>=0,x<=S))return"";for(P||(P="utf8");;)switch(P){case"hex":return Y(this,S,x);case"utf8":case"utf-8":return C(this,S,x);case"ascii":return $(this,S,x);case"latin1":case"binary":return K(this,S,x);case"base64":return U(this,S,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,S,x);default:if(T)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),T=!0}}a.prototype._isBuffer=!0;function E(P,S,x){var T=P[S];P[S]=P[x],P[x]=T}a.prototype.swap16=function(){var S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<S;x+=2)E(this,x,x+1);return this},a.prototype.swap32=function(){var S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<S;x+=4)E(this,x,x+3),E(this,x+1,x+2);return this},a.prototype.swap64=function(){var S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<S;x+=8)E(this,x,x+7),E(this,x+1,x+6),E(this,x+2,x+5),E(this,x+3,x+4);return this},a.prototype.toString=function(){var S=this.length;return S===0?"":arguments.length===0?C(this,0,S):b.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(S){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:a.compare(this,S)===0},a.prototype.inspect=function(){var S="",x=t.INSPECT_MAX_BYTES;return S=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(S+=" ... "),"<Buffer "+S+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(S,x,T,z,X){if(re(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),!a.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(x===void 0&&(x=0),T===void 0&&(T=S?S.length:0),z===void 0&&(z=0),X===void 0&&(X=this.length),x<0||T>S.length||z<0||X>this.length)throw new RangeError("out of range index");if(z>=X&&x>=T)return 0;if(z>=X)return-1;if(x>=T)return 1;if(x>>>=0,T>>>=0,z>>>=0,X>>>=0,this===S)return 0;for(var H=X-z,ce=T-x,he=Math.min(H,ce),de=this.slice(z,X),be=S.slice(x,T),ke=0;ke<he;++ke)if(de[ke]!==be[ke]){H=de[ke],ce=be[ke];break}return H<ce?-1:ce<H?1:0};function N(P,S,x,T,z){if(P.length===0)return-1;if(typeof x=="string"?(T=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,k(x)&&(x=z?0:P.length-1),x<0&&(x=P.length+x),x>=P.length){if(z)return-1;x=P.length-1}else if(x<0)if(z)x=0;else return-1;if(typeof S=="string"&&(S=a.from(S,T)),a.isBuffer(S))return S.length===0?-1:_(P,S,x,T,z);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(P,S,x):Uint8Array.prototype.lastIndexOf.call(P,S,x):_(P,[S],x,T,z);throw new TypeError("val must be string, number or Buffer")}function _(P,S,x,T,z){var X=1,H=P.length,ce=S.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(P.length<2||S.length<2)return-1;X=2,H/=2,ce/=2,x/=2}function he(at,gn){return X===1?at[gn]:at.readUInt16BE(gn*X)}var de;if(z){var be=-1;for(de=x;de<H;de++)if(he(P,de)===he(S,be===-1?0:de-be)){if(be===-1&&(be=de),de-be+1===ce)return be*X}else be!==-1&&(de-=de-be),be=-1}else for(x+ce>H&&(x=H-ce),de=x;de>=0;de--){for(var ke=!0,Ne=0;Ne<ce;Ne++)if(he(P,de+Ne)!==he(S,Ne)){ke=!1;break}if(ke)return de}return-1}a.prototype.includes=function(S,x,T){return this.indexOf(S,x,T)!==-1},a.prototype.indexOf=function(S,x,T){return N(this,S,x,T,!0)},a.prototype.lastIndexOf=function(S,x,T){return N(this,S,x,T,!1)};function I(P,S,x,T){x=Number(x)||0;var z=P.length-x;T?(T=Number(T),T>z&&(T=z)):T=z;var X=S.length;T>X/2&&(T=X/2);for(var H=0;H<T;++H){var ce=parseInt(S.substr(H*2,2),16);if(k(ce))return H;P[x+H]=ce}return H}function R(P,S,x,T){return j(A(S,P.length-x),P,x,T)}function F(P,S,x,T){return j(W(S),P,x,T)}function ne(P,S,x,T){return j(L(S),P,x,T)}function M(P,S,x,T){return j(V(S,P.length-x),P,x,T)}a.prototype.write=function(S,x,T,z){if(x===void 0)z="utf8",T=this.length,x=0;else if(T===void 0&&typeof x=="string")z=x,T=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(T)?(T=T>>>0,z===void 0&&(z="utf8")):(z=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var X=this.length-x;if((T===void 0||T>X)&&(T=X),S.length>0&&(T<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");for(var H=!1;;)switch(z){case"hex":return I(this,S,x,T);case"utf8":case"utf-8":return R(this,S,x,T);case"ascii":case"latin1":case"binary":return F(this,S,x,T);case"base64":return ne(this,S,x,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,S,x,T);default:if(H)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),H=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(P,S,x){return S===0&&x===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(S,x))}function C(P,S,x){x=Math.min(P.length,x);for(var T=[],z=S;z<x;){var X=P[z],H=null,ce=X>239?4:X>223?3:X>191?2:1;if(z+ce<=x){var he,de,be,ke;switch(ce){case 1:X<128&&(H=X);break;case 2:he=P[z+1],(he&192)===128&&(ke=(X&31)<<6|he&63,ke>127&&(H=ke));break;case 3:he=P[z+1],de=P[z+2],(he&192)===128&&(de&192)===128&&(ke=(X&15)<<12|(he&63)<<6|de&63,ke>2047&&(ke<55296||ke>57343)&&(H=ke));break;case 4:he=P[z+1],de=P[z+2],be=P[z+3],(he&192)===128&&(de&192)===128&&(be&192)===128&&(ke=(X&15)<<18|(he&63)<<12|(de&63)<<6|be&63,ke>65535&&ke<1114112&&(H=ke))}}H===null?(H=65533,ce=1):H>65535&&(H-=65536,T.push(H>>>10&1023|55296),H=56320|H&1023),T.push(H),z+=ce}return ie(T)}var G=4096;function ie(P){var S=P.length;if(S<=G)return String.fromCharCode.apply(String,P);for(var x="",T=0;T<S;)x+=String.fromCharCode.apply(String,P.slice(T,T+=G));return x}function $(P,S,x){var T="";x=Math.min(P.length,x);for(var z=S;z<x;++z)T+=String.fromCharCode(P[z]&127);return T}function K(P,S,x){var T="";x=Math.min(P.length,x);for(var z=S;z<x;++z)T+=String.fromCharCode(P[z]);return T}function Y(P,S,x){var T=P.length;(!S||S<0)&&(S=0),(!x||x<0||x>T)&&(x=T);for(var z="",X=S;X<x;++X)z+=oe[P[X]];return z}function le(P,S,x){for(var T=P.slice(S,x),z="",X=0;X<T.length-1;X+=2)z+=String.fromCharCode(T[X]+T[X+1]*256);return z}a.prototype.slice=function(S,x){var T=this.length;S=~~S,x=x===void 0?T:~~x,S<0?(S+=T,S<0&&(S=0)):S>T&&(S=T),x<0?(x+=T,x<0&&(x=0)):x>T&&(x=T),x<S&&(x=S);var z=this.subarray(S,x);return Object.setPrototypeOf(z,a.prototype),z};function q(P,S,x){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+S>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(S,x,T){S=S>>>0,x=x>>>0,T||q(S,x,this.length);for(var z=this[S],X=1,H=0;++H<x&&(X*=256);)z+=this[S+H]*X;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(S,x,T){S=S>>>0,x=x>>>0,T||q(S,x,this.length);for(var z=this[S+--x],X=1;x>0&&(X*=256);)z+=this[S+--x]*X;return z},a.prototype.readUint8=a.prototype.readUInt8=function(S,x){return S=S>>>0,x||q(S,1,this.length),this[S]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(S,x){return S=S>>>0,x||q(S,2,this.length),this[S]|this[S+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(S,x){return S=S>>>0,x||q(S,2,this.length),this[S]<<8|this[S+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(S,x){return S=S>>>0,x||q(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(S,x){return S=S>>>0,x||q(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},a.prototype.readIntLE=function(S,x,T){S=S>>>0,x=x>>>0,T||q(S,x,this.length);for(var z=this[S],X=1,H=0;++H<x&&(X*=256);)z+=this[S+H]*X;return X*=128,z>=X&&(z-=Math.pow(2,8*x)),z},a.prototype.readIntBE=function(S,x,T){S=S>>>0,x=x>>>0,T||q(S,x,this.length);for(var z=x,X=1,H=this[S+--z];z>0&&(X*=256);)H+=this[S+--z]*X;return X*=128,H>=X&&(H-=Math.pow(2,8*x)),H},a.prototype.readInt8=function(S,x){return S=S>>>0,x||q(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},a.prototype.readInt16LE=function(S,x){S=S>>>0,x||q(S,2,this.length);var T=this[S]|this[S+1]<<8;return T&32768?T|4294901760:T},a.prototype.readInt16BE=function(S,x){S=S>>>0,x||q(S,2,this.length);var T=this[S+1]|this[S]<<8;return T&32768?T|4294901760:T},a.prototype.readInt32LE=function(S,x){return S=S>>>0,x||q(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},a.prototype.readInt32BE=function(S,x){return S=S>>>0,x||q(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},a.prototype.readFloatLE=function(S,x){return S=S>>>0,x||q(S,4,this.length),r.read(this,S,!0,23,4)},a.prototype.readFloatBE=function(S,x){return S=S>>>0,x||q(S,4,this.length),r.read(this,S,!1,23,4)},a.prototype.readDoubleLE=function(S,x){return S=S>>>0,x||q(S,8,this.length),r.read(this,S,!0,52,8)},a.prototype.readDoubleBE=function(S,x){return S=S>>>0,x||q(S,8,this.length),r.read(this,S,!1,52,8)};function D(P,S,x,T,z,X){if(!a.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>z||S<X)throw new RangeError('"value" argument is out of bounds');if(x+T>P.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(S,x,T,z){if(S=+S,x=x>>>0,T=T>>>0,!z){var X=Math.pow(2,8*T)-1;D(this,S,x,T,X,0)}var H=1,ce=0;for(this[x]=S&255;++ce<T&&(H*=256);)this[x+ce]=S/H&255;return x+T},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(S,x,T,z){if(S=+S,x=x>>>0,T=T>>>0,!z){var X=Math.pow(2,8*T)-1;D(this,S,x,T,X,0)}var H=T-1,ce=1;for(this[x+H]=S&255;--H>=0&&(ce*=256);)this[x+H]=S/ce&255;return x+T},a.prototype.writeUint8=a.prototype.writeUInt8=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,1,255,0),this[x]=S&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,2,65535,0),this[x]=S&255,this[x+1]=S>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,2,65535,0),this[x]=S>>>8,this[x+1]=S&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,4,4294967295,0),this[x+3]=S>>>24,this[x+2]=S>>>16,this[x+1]=S>>>8,this[x]=S&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,4,4294967295,0),this[x]=S>>>24,this[x+1]=S>>>16,this[x+2]=S>>>8,this[x+3]=S&255,x+4},a.prototype.writeIntLE=function(S,x,T,z){if(S=+S,x=x>>>0,!z){var X=Math.pow(2,8*T-1);D(this,S,x,T,X-1,-X)}var H=0,ce=1,he=0;for(this[x]=S&255;++H<T&&(ce*=256);)S<0&&he===0&&this[x+H-1]!==0&&(he=1),this[x+H]=(S/ce>>0)-he&255;return x+T},a.prototype.writeIntBE=function(S,x,T,z){if(S=+S,x=x>>>0,!z){var X=Math.pow(2,8*T-1);D(this,S,x,T,X-1,-X)}var H=T-1,ce=1,he=0;for(this[x+H]=S&255;--H>=0&&(ce*=256);)S<0&&he===0&&this[x+H+1]!==0&&(he=1),this[x+H]=(S/ce>>0)-he&255;return x+T},a.prototype.writeInt8=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,1,127,-128),S<0&&(S=255+S+1),this[x]=S&255,x+1},a.prototype.writeInt16LE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,2,32767,-32768),this[x]=S&255,this[x+1]=S>>>8,x+2},a.prototype.writeInt16BE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,2,32767,-32768),this[x]=S>>>8,this[x+1]=S&255,x+2},a.prototype.writeInt32LE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,4,2147483647,-2147483648),this[x]=S&255,this[x+1]=S>>>8,this[x+2]=S>>>16,this[x+3]=S>>>24,x+4},a.prototype.writeInt32BE=function(S,x,T){return S=+S,x=x>>>0,T||D(this,S,x,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[x]=S>>>24,this[x+1]=S>>>16,this[x+2]=S>>>8,this[x+3]=S&255,x+4};function Q(P,S,x,T,z,X){if(x+T>P.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function te(P,S,x,T,z){return S=+S,x=x>>>0,z||Q(P,S,x,4),r.write(P,S,x,T,23,4),x+4}a.prototype.writeFloatLE=function(S,x,T){return te(this,S,x,!0,T)},a.prototype.writeFloatBE=function(S,x,T){return te(this,S,x,!1,T)};function ae(P,S,x,T,z){return S=+S,x=x>>>0,z||Q(P,S,x,8),r.write(P,S,x,T,52,8),x+8}a.prototype.writeDoubleLE=function(S,x,T){return ae(this,S,x,!0,T)},a.prototype.writeDoubleBE=function(S,x,T){return ae(this,S,x,!1,T)},a.prototype.copy=function(S,x,T,z){if(!a.isBuffer(S))throw new TypeError("argument should be a Buffer");if(T||(T=0),!z&&z!==0&&(z=this.length),x>=S.length&&(x=S.length),x||(x=0),z>0&&z<T&&(z=T),z===T||S.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),S.length-x<z-T&&(z=S.length-x+T);var X=z-T;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,T,z):Uint8Array.prototype.set.call(S,this.subarray(T,z),x),X},a.prototype.fill=function(S,x,T,z){if(typeof S=="string"){if(typeof x=="string"?(z=x,x=0,T=this.length):typeof T=="string"&&(z=T,T=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(S.length===1){var X=S.charCodeAt(0);(z==="utf8"&&X<128||z==="latin1")&&(S=X)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(x<0||this.length<x||this.length<T)throw new RangeError("Out of range index");if(T<=x)return this;x=x>>>0,T=T===void 0?this.length:T>>>0,S||(S=0);var H;if(typeof S=="number")for(H=x;H<T;++H)this[H]=S;else{var ce=a.isBuffer(S)?S:a.from(S,z),he=ce.length;if(he===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(H=0;H<T-x;++H)this[H+x]=ce[H%he]}return this};var J=/[^+/0-9A-Za-z-_]/g;function O(P){if(P=P.split("=")[0],P=P.trim().replace(J,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function A(P,S){S=S||1/0;for(var x,T=P.length,z=null,X=[],H=0;H<T;++H){if(x=P.charCodeAt(H),x>55295&&x<57344){if(!z){if(x>56319){(S-=3)>-1&&X.push(239,191,189);continue}else if(H+1===T){(S-=3)>-1&&X.push(239,191,189);continue}z=x;continue}if(x<56320){(S-=3)>-1&&X.push(239,191,189),z=x;continue}x=(z-55296<<10|x-56320)+65536}else z&&(S-=3)>-1&&X.push(239,191,189);if(z=null,x<128){if((S-=1)<0)break;X.push(x)}else if(x<2048){if((S-=2)<0)break;X.push(x>>6|192,x&63|128)}else if(x<65536){if((S-=3)<0)break;X.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((S-=4)<0)break;X.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return X}function W(P){for(var S=[],x=0;x<P.length;++x)S.push(P.charCodeAt(x)&255);return S}function V(P,S){for(var x,T,z,X=[],H=0;H<P.length&&!((S-=2)<0);++H)x=P.charCodeAt(H),T=x>>8,z=x%256,X.push(z),X.push(T);return X}function L(P){return e.toByteArray(O(P))}function j(P,S,x,T){for(var z=0;z<T&&!(z+x>=S.length||z>=P.length);++z)S[z+x]=P[z];return z}function re(P,S){return P instanceof S||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===S.name}function k(P){return P!==P}var oe=function(){for(var P="0123456789abcdef",S=new Array(256),x=0;x<16;++x)for(var T=x*16,z=0;z<16;++z)S[T+z]=P[x]+P[z];return S}()}(mg)),mg}var gg={},yg={},vg,Qk;function OM(){return Qk||(Qk=1,vg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),vg}var wg,Zk;function zb(){if(Zk)return wg;Zk=1;var t=OM();return wg=function(){return t()&&!!Symbol.toStringTag},wg}var bg,eT;function PM(){return eT||(eT=1,bg=Object),bg}var Sg,tT;function sG(){return tT||(tT=1,Sg=Error),Sg}var xg,rT;function oG(){return rT||(rT=1,xg=EvalError),xg}var Eg,nT;function aG(){return nT||(nT=1,Eg=RangeError),Eg}var _g,iT;function lG(){return iT||(iT=1,_g=ReferenceError),_g}var kg,sT;function NM(){return sT||(sT=1,kg=SyntaxError),kg}var Tg,oT;function Mc(){return oT||(oT=1,Tg=TypeError),Tg}var Cg,aT;function uG(){return aT||(aT=1,Cg=URIError),Cg}var Ag,lT;function cG(){return lT||(lT=1,Ag=Math.abs),Ag}var Rg,uT;function dG(){return uT||(uT=1,Rg=Math.floor),Rg}var Og,cT;function hG(){return cT||(cT=1,Og=Math.max),Og}var Pg,dT;function fG(){return dT||(dT=1,Pg=Math.min),Pg}var Ng,hT;function pG(){return hT||(hT=1,Ng=Math.pow),Ng}var Ig,fT;function mG(){return fT||(fT=1,Ig=Math.round),Ig}var Mg,pT;function gG(){return pT||(pT=1,Mg=Number.isNaN||function(e){return e!==e}),Mg}var Dg,mT;function yG(){if(mT)return Dg;mT=1;var t=gG();return Dg=function(r){return t(r)||r===0?r:r<0?-1:1},Dg}var Lg,gT;function vG(){return gT||(gT=1,Lg=Object.getOwnPropertyDescriptor),Lg}var jg,yT;function Dc(){if(yT)return jg;yT=1;var t=vG();if(t)try{t([],"length")}catch{t=null}return jg=t,jg}var Bg,vT;function Pp(){if(vT)return Bg;vT=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Bg=t,Bg}var Fg,wT;function wG(){if(wT)return Fg;wT=1;var t=typeof Symbol<"u"&&Symbol,e=OM();return Fg=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Fg}var Ug,bT;function IM(){return bT||(bT=1,Ug=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ug}var zg,ST;function MM(){if(ST)return zg;ST=1;var t=PM();return zg=t.getPrototypeOf||null,zg}var Vg,xT;function bG(){if(xT)return Vg;xT=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],d=0;d<l.length;d+=1)c[d]=l[d];for(var h=0;h<u.length;h+=1)c[h+l.length]=u[h];return c},s=function(l,u){for(var c=[],d=u,h=0;d<l.length;d+=1,h+=1)c[h]=l[d];return c},o=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return Vg=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=s(arguments,1),d,h=function(){if(this instanceof d){var m=u.apply(this,i(c,arguments));return Object(m)===m?m:this}return u.apply(l,i(c,arguments))},f=r(0,u.length-c.length),p=[],g=0;g<f;g++)p[g]="$"+g;if(d=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var w=function(){};w.prototype=u.prototype,d.prototype=new w,w.prototype=null}return d},Vg}var $g,ET;function Lc(){if(ET)return $g;ET=1;var t=bG();return $g=Function.prototype.bind||t,$g}var Hg,_T;function Vb(){return _T||(_T=1,Hg=Function.prototype.call),Hg}var Wg,kT;function DM(){return kT||(kT=1,Wg=Function.prototype.apply),Wg}var qg,TT;function SG(){return TT||(TT=1,qg=typeof Reflect<"u"&&Reflect&&Reflect.apply),qg}var Kg,CT;function xG(){if(CT)return Kg;CT=1;var t=Lc(),e=DM(),r=Vb(),n=SG();return Kg=n||t.call(r,e),Kg}var Gg,AT;function EG(){if(AT)return Gg;AT=1;var t=Lc(),e=Mc(),r=Vb(),n=xG();return Gg=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},Gg}var Jg,RT;function _G(){if(RT)return Jg;RT=1;var t=EG(),e=Dc(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Jg=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,Jg}var Xg,OT;function kG(){if(OT)return Xg;OT=1;var t=IM(),e=MM(),r=_G();return Xg=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,Xg}var Yg,PT;function TG(){if(PT)return Yg;PT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Lc();return Yg=r.call(t,e),Yg}var Qg,NT;function $b(){if(NT)return Qg;NT=1;var t,e=PM(),r=sG(),n=oG(),i=aG(),s=lG(),o=NM(),a=Mc(),l=uG(),u=cG(),c=dG(),d=hG(),h=fG(),f=pG(),p=mG(),g=yG(),w=Function,m=function(W){try{return w('"use strict"; return ('+W+").constructor;")()}catch{}},y=Dc(),v=Pp(),b=function(){throw new a},E=y?function(){try{return arguments.callee,b}catch{try{return y(arguments,"callee").get}catch{return b}}}():b,N=wG()(),_=kG(),I=MM(),R=IM(),F=DM(),ne=Vb(),M={},U=typeof Uint8Array>"u"||!_?t:_(Uint8Array),C={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":N&&_?_([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":M,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":N&&_?_(_([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!N||!_?t:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!N||!_?t:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":N&&_?_(""[Symbol.iterator]()):t,"%Symbol%":N?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":E,"%TypedArray%":U,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":ne,"%Function.prototype.apply%":F,"%Object.defineProperty%":v,"%Object.getPrototypeOf%":I,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":d,"%Math.min%":h,"%Math.pow%":f,"%Math.round%":p,"%Math.sign%":g,"%Reflect.getPrototypeOf%":R};if(_)try{null.error}catch(W){var G=_(_(W));C["%Error.prototype%"]=G}var ie=function W(V){var L;if(V==="%AsyncFunction%")L=m("async function () {}");else if(V==="%GeneratorFunction%")L=m("function* () {}");else if(V==="%AsyncGeneratorFunction%")L=m("async function* () {}");else if(V==="%AsyncGenerator%"){var j=W("%AsyncGeneratorFunction%");j&&(L=j.prototype)}else if(V==="%AsyncIteratorPrototype%"){var re=W("%AsyncGenerator%");re&&_&&(L=_(re.prototype))}return C[V]=L,L},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=Lc(),Y=TG(),le=K.call(ne,Array.prototype.concat),q=K.call(F,Array.prototype.splice),D=K.call(ne,String.prototype.replace),Q=K.call(ne,String.prototype.slice),te=K.call(ne,RegExp.prototype.exec),ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,J=/\\(\\)?/g,O=function(V){var L=Q(V,0,1),j=Q(V,-1);if(L==="%"&&j!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(j==="%"&&L!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var re=[];return D(V,ae,function(k,oe,P,S){re[re.length]=P?D(S,J,"$1"):oe||k}),re},A=function(V,L){var j=V,re;if(Y($,j)&&(re=$[j],j="%"+re[0]+"%"),Y(C,j)){var k=C[j];if(k===M&&(k=ie(j)),typeof k>"u"&&!L)throw new a("intrinsic "+V+" exists, but is not available. Please file an issue!");return{alias:re,name:j,value:k}}throw new o("intrinsic "+V+" does not exist!")};return Qg=function(V,L){if(typeof V!="string"||V.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof L!="boolean")throw new a('"allowMissing" argument must be a boolean');if(te(/^%?[^%]*%?$/,V)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var j=O(V),re=j.length>0?j[0]:"",k=A("%"+re+"%",L),oe=k.name,P=k.value,S=!1,x=k.alias;x&&(re=x[0],q(j,le([0,1],x)));for(var T=1,z=!0;T<j.length;T+=1){var X=j[T],H=Q(X,0,1),ce=Q(X,-1);if((H==='"'||H==="'"||H==="`"||ce==='"'||ce==="'"||ce==="`")&&H!==ce)throw new o("property names with quotes must have matching quotes");if((X==="constructor"||!z)&&(S=!0),re+="."+X,oe="%"+re+"%",Y(C,oe))P=C[oe];else if(P!=null){if(!(X in P)){if(!L)throw new a("base intrinsic for "+V+" exists, but the property is not available.");return}if(y&&T+1>=j.length){var he=y(P,X);z=!!he,z&&"get"in he&&!("originalValue"in he.get)?P=he.get:P=P[X]}else z=Y(P,X),P=P[X];z&&!S&&(C[oe]=P)}}return P},Qg}var Zg={exports:{}},ey,IT;function CG(){if(IT)return ey;IT=1;var t=Pp(),e=NM(),r=Mc(),n=Dc();return ey=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,h=!!n&&n(s,o);if(t)t(s,o,{configurable:c===null&&h?h.configurable:!c,enumerable:l===null&&h?h.enumerable:!l,value:a,writable:u===null&&h?h.writable:!u});else if(d||!l&&!u&&!c)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ey}var ty,MT;function AG(){if(MT)return ty;MT=1;var t=Pp(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},ty=e,ty}var ry,DT;function RG(){if(DT)return ry;DT=1;var t=$b(),e=CG(),r=AG()(),n=Dc(),i=Mc(),s=t("%Math.floor%");return ry=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],c=!0,d=!0;if("length"in a&&n){var h=n(a,"length");h&&!h.configurable&&(c=!1),h&&!h.writable&&(d=!1)}return(c||d||!u)&&(r?e(a,"length",l,!0,!0):e(a,"length",l)),a},ry}var LT;function LM(){return LT||(LT=1,function(t){var e=Lc(),r=$b(),n=RG(),i=Mc(),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=Pp(),u=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var f=a(e,o,arguments);return n(f,1+u(0,h.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c}(Zg)),Zg.exports}var ny,jT;function jM(){if(jT)return ny;jT=1;var t=$b(),e=LM(),r=e(t("String.prototype.indexOf"));return ny=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},ny}var iy,BT;function OG(){if(BT)return iy;BT=1;var t=zb()(),e=jM(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,iy=s?n:i,iy}var sy,FT;function PG(){if(FT)return sy;FT=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=zb()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return sy=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var u=t.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var c=s();o=c?i(c):!1}return i(l)===o},sy}var oy,UT;function NG(){if(UT)return oy;UT=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(y){y!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(v){try{var b=t.call(v);return i.test(b)}catch{return!1}},o=function(v){try{return s(v)?!1:(t.call(v),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",d="[object HTMLAllCollection]",h="[object HTML document.all class]",f="[object HTMLCollection]",p=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var m=document.all;a.call(m)===a.call(document.all)&&(w=function(v){if((g||!v)&&(typeof v>"u"||typeof v=="object"))try{var b=a.call(v);return(b===d||b===h||b===f||b===l)&&v("")==null}catch{}return!1})}return oy=e?function(v){if(w(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;try{e(v,null,r)}catch(b){if(b!==n)return!1}return!s(v)&&o(v)}:function(v){if(w(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;if(p)return o(v);if(s(v))return!1;var b=a.call(v);return b!==u&&b!==c&&!/^\[object HTML/.test(b)?!1:o(v)},oy}var ay,zT;function IG(){if(zT)return ay;zT=1;var t=NG(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,c){for(var d=0,h=l.length;d<h;d++)r.call(l,d)&&(c==null?u(l[d],d,l):u.call(c,l[d],d,l))},i=function(l,u,c){for(var d=0,h=l.length;d<h;d++)c==null?u(l.charAt(d),d,l):u.call(c,l.charAt(d),d,l)},s=function(l,u,c){for(var d in l)r.call(l,d)&&(c==null?u(l[d],d,l):u.call(c,l[d],d,l))},o=function(l,u,c){if(!t(u))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=c),e.call(l)==="[object Array]"?n(l,u,d):typeof l=="string"?i(l,u,d):s(l,u,d)};return ay=o,ay}var ly,VT;function MG(){return VT||(VT=1,ly=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),ly}var uy,$T;function DG(){if($T)return uy;$T=1;var t=MG(),e=typeof globalThis>"u"?$n:globalThis;return uy=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},uy}var cy,HT;function BM(){if(HT)return cy;HT=1;var t=IG(),e=DG(),r=LM(),n=jM(),i=Dc(),s=n("Object.prototype.toString"),o=zb()(),a=typeof globalThis>"u"?$n:globalThis,l=e(),u=n("String.prototype.slice"),c=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(w,m){for(var y=0;y<w.length;y+=1)if(w[y]===m)return y;return-1},h={__proto__:null};o&&i&&c?t(l,function(g){var w=new a[g];if(Symbol.toStringTag in w){var m=c(w),y=i(m,Symbol.toStringTag);if(!y){var v=c(m);y=i(v,Symbol.toStringTag)}h["$"+g]=r(y.get)}}):t(l,function(g){var w=new a[g],m=w.slice||w.set;m&&(h["$"+g]=r(m))});var f=function(w){var m=!1;return t(h,function(y,v){if(!m)try{"$"+y(w)===v&&(m=u(v,1))}catch{}}),m},p=function(w){var m=!1;return t(h,function(y,v){if(!m)try{y(w),m=u(v,1)}catch{}}),m};return cy=function(w){if(!w||typeof w!="object")return!1;if(!o){var m=u(s(w),8,-1);return d(l,m)>-1?m:m!=="Object"?!1:p(w)}return i?f(w):null},cy}var dy,WT;function LG(){if(WT)return dy;WT=1;var t=BM();return dy=function(r){return!!t(r)},dy}var qT;function jG(){return qT||(qT=1,function(t){var e=OG(),r=PG(),n=BM(),i=LG();function s(T){return T.call.bind(T)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(o)var h=s(BigInt.prototype.valueOf);if(a)var f=s(Symbol.prototype.valueOf);function p(T,z){if(typeof T!="object")return!1;try{return z(T),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function g(T){return typeof Promise<"u"&&T instanceof Promise||T!==null&&typeof T=="object"&&typeof T.then=="function"&&typeof T.catch=="function"}t.isPromise=g;function w(T){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(T):i(T)||Q(T)}t.isArrayBufferView=w;function m(T){return n(T)==="Uint8Array"}t.isUint8Array=m;function y(T){return n(T)==="Uint8ClampedArray"}t.isUint8ClampedArray=y;function v(T){return n(T)==="Uint16Array"}t.isUint16Array=v;function b(T){return n(T)==="Uint32Array"}t.isUint32Array=b;function E(T){return n(T)==="Int8Array"}t.isInt8Array=E;function N(T){return n(T)==="Int16Array"}t.isInt16Array=N;function _(T){return n(T)==="Int32Array"}t.isInt32Array=_;function I(T){return n(T)==="Float32Array"}t.isFloat32Array=I;function R(T){return n(T)==="Float64Array"}t.isFloat64Array=R;function F(T){return n(T)==="BigInt64Array"}t.isBigInt64Array=F;function ne(T){return n(T)==="BigUint64Array"}t.isBigUint64Array=ne;function M(T){return l(T)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function U(T){return typeof Map>"u"?!1:M.working?M(T):T instanceof Map}t.isMap=U;function C(T){return l(T)==="[object Set]"}C.working=typeof Set<"u"&&C(new Set);function G(T){return typeof Set>"u"?!1:C.working?C(T):T instanceof Set}t.isSet=G;function ie(T){return l(T)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function $(T){return typeof WeakMap>"u"?!1:ie.working?ie(T):T instanceof WeakMap}t.isWeakMap=$;function K(T){return l(T)==="[object WeakSet]"}K.working=typeof WeakSet<"u"&&K(new WeakSet);function Y(T){return K(T)}t.isWeakSet=Y;function le(T){return l(T)==="[object ArrayBuffer]"}le.working=typeof ArrayBuffer<"u"&&le(new ArrayBuffer);function q(T){return typeof ArrayBuffer>"u"?!1:le.working?le(T):T instanceof ArrayBuffer}t.isArrayBuffer=q;function D(T){return l(T)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function Q(T){return typeof DataView>"u"?!1:D.working?D(T):T instanceof DataView}t.isDataView=Q;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(T){return l(T)==="[object SharedArrayBuffer]"}function J(T){return typeof te>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new te)),ae.working?ae(T):T instanceof te)}t.isSharedArrayBuffer=J;function O(T){return l(T)==="[object AsyncFunction]"}t.isAsyncFunction=O;function A(T){return l(T)==="[object Map Iterator]"}t.isMapIterator=A;function W(T){return l(T)==="[object Set Iterator]"}t.isSetIterator=W;function V(T){return l(T)==="[object Generator]"}t.isGeneratorObject=V;function L(T){return l(T)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=L;function j(T){return p(T,u)}t.isNumberObject=j;function re(T){return p(T,c)}t.isStringObject=re;function k(T){return p(T,d)}t.isBooleanObject=k;function oe(T){return o&&p(T,h)}t.isBigIntObject=oe;function P(T){return a&&p(T,f)}t.isSymbolObject=P;function S(T){return j(T)||re(T)||k(T)||oe(T)||P(T)}t.isBoxedPrimitive=S;function x(T){return typeof Uint8Array<"u"&&(q(T)||J(T))}t.isAnyArrayBuffer=x,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(T){Object.defineProperty(t,T,{enumerable:!1,value:function(){throw new Error(T+" is not supported in userland")}})})}(yg)),yg}var hy,KT;function BG(){return KT||(KT=1,hy=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),hy}var GT;function FM(){return GT||(GT=1,function(t){var e=Object.getOwnPropertyDescriptors||function(Q){for(var te=Object.keys(Q),ae={},J=0;J<te.length;J++)ae[te[J]]=Object.getOwnPropertyDescriptor(Q,te[J]);return ae},r=/%[sdj%]/g;t.format=function(D){if(!E(D)){for(var Q=[],te=0;te<arguments.length;te++)Q.push(o(arguments[te]));return Q.join(" ")}for(var te=1,ae=arguments,J=ae.length,O=String(D).replace(r,function(W){if(W==="%%")return"%";if(te>=J)return W;switch(W){case"%s":return String(ae[te++]);case"%d":return Number(ae[te++]);case"%j":try{return JSON.stringify(ae[te++])}catch{return"[Circular]"}default:return W}}),A=ae[te];te<J;A=ae[++te])y(A)||!R(A)?O+=" "+A:O+=" "+o(A);return O},t.deprecate=function(D,Q){if(typeof We<"u"&&We.noDeprecation===!0)return D;if(typeof We>"u")return function(){return t.deprecate(D,Q).apply(this,arguments)};var te=!1;function ae(){if(!te){if(We.throwDeprecation)throw new Error(Q);We.traceDeprecation?console.trace(Q):console.error(Q),te=!0}return D.apply(this,arguments)}return ae};var n={},i=/^$/;if(We.env.NODE_DEBUG){var s=We.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!n[D])if(i.test(D)){var Q=We.pid;n[D]=function(){var te=t.format.apply(t,arguments);console.error("%s %d: %s",D,Q,te)}}else n[D]=function(){};return n[D]};function o(D,Q){var te={seen:[],stylize:l};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),m(Q)?te.showHidden=Q:Q&&t._extend(te,Q),_(te.showHidden)&&(te.showHidden=!1),_(te.depth)&&(te.depth=2),_(te.colors)&&(te.colors=!1),_(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=a),c(te,D,te.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(D,Q){var te=o.styles[Q];return te?"\x1B["+o.colors[te][0]+"m"+D+"\x1B["+o.colors[te][1]+"m":D}function l(D,Q){return D}function u(D){var Q={};return D.forEach(function(te,ae){Q[te]=!0}),Q}function c(D,Q,te){if(D.customInspect&&Q&&M(Q.inspect)&&Q.inspect!==t.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var ae=Q.inspect(te,D);return E(ae)||(ae=c(D,ae,te)),ae}var J=d(D,Q);if(J)return J;var O=Object.keys(Q),A=u(O);if(D.showHidden&&(O=Object.getOwnPropertyNames(Q)),ne(Q)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return h(Q);if(O.length===0){if(M(Q)){var W=Q.name?": "+Q.name:"";return D.stylize("[Function"+W+"]","special")}if(I(Q))return D.stylize(RegExp.prototype.toString.call(Q),"regexp");if(F(Q))return D.stylize(Date.prototype.toString.call(Q),"date");if(ne(Q))return h(Q)}var V="",L=!1,j=["{","}"];if(w(Q)&&(L=!0,j=["[","]"]),M(Q)){var re=Q.name?": "+Q.name:"";V=" [Function"+re+"]"}if(I(Q)&&(V=" "+RegExp.prototype.toString.call(Q)),F(Q)&&(V=" "+Date.prototype.toUTCString.call(Q)),ne(Q)&&(V=" "+h(Q)),O.length===0&&(!L||Q.length==0))return j[0]+V+j[1];if(te<0)return I(Q)?D.stylize(RegExp.prototype.toString.call(Q),"regexp"):D.stylize("[Object]","special");D.seen.push(Q);var k;return L?k=f(D,Q,te,A,O):k=O.map(function(oe){return p(D,Q,te,A,oe,L)}),D.seen.pop(),g(k,V,j)}function d(D,Q){if(_(Q))return D.stylize("undefined","undefined");if(E(Q)){var te="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(te,"string")}if(b(Q))return D.stylize(""+Q,"number");if(m(Q))return D.stylize(""+Q,"boolean");if(y(Q))return D.stylize("null","null")}function h(D){return"["+Error.prototype.toString.call(D)+"]"}function f(D,Q,te,ae,J){for(var O=[],A=0,W=Q.length;A<W;++A)K(Q,String(A))?O.push(p(D,Q,te,ae,String(A),!0)):O.push("");return J.forEach(function(V){V.match(/^\d+$/)||O.push(p(D,Q,te,ae,V,!0))}),O}function p(D,Q,te,ae,J,O){var A,W,V;if(V=Object.getOwnPropertyDescriptor(Q,J)||{value:Q[J]},V.get?V.set?W=D.stylize("[Getter/Setter]","special"):W=D.stylize("[Getter]","special"):V.set&&(W=D.stylize("[Setter]","special")),K(ae,J)||(A="["+J+"]"),W||(D.seen.indexOf(V.value)<0?(y(te)?W=c(D,V.value,null):W=c(D,V.value,te-1),W.indexOf(`
`)>-1&&(O?W=W.split(`
`).map(function(L){return"  "+L}).join(`
`).slice(2):W=`
`+W.split(`
`).map(function(L){return"   "+L}).join(`
`))):W=D.stylize("[Circular]","special")),_(A)){if(O&&J.match(/^\d+$/))return W;A=JSON.stringify(""+J),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.slice(1,-1),A=D.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=D.stylize(A,"string"))}return A+": "+W}function g(D,Q,te){var ae=D.reduce(function(J,O){return O.indexOf(`
`)>=0,J+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?te[0]+(Q===""?"":Q+`
 `)+" "+D.join(`,
  `)+" "+te[1]:te[0]+Q+" "+D.join(", ")+" "+te[1]}t.types=jG();function w(D){return Array.isArray(D)}t.isArray=w;function m(D){return typeof D=="boolean"}t.isBoolean=m;function y(D){return D===null}t.isNull=y;function v(D){return D==null}t.isNullOrUndefined=v;function b(D){return typeof D=="number"}t.isNumber=b;function E(D){return typeof D=="string"}t.isString=E;function N(D){return typeof D=="symbol"}t.isSymbol=N;function _(D){return D===void 0}t.isUndefined=_;function I(D){return R(D)&&C(D)==="[object RegExp]"}t.isRegExp=I,t.types.isRegExp=I;function R(D){return typeof D=="object"&&D!==null}t.isObject=R;function F(D){return R(D)&&C(D)==="[object Date]"}t.isDate=F,t.types.isDate=F;function ne(D){return R(D)&&(C(D)==="[object Error]"||D instanceof Error)}t.isError=ne,t.types.isNativeError=ne;function M(D){return typeof D=="function"}t.isFunction=M;function U(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=U,t.isBuffer=BG();function C(D){return Object.prototype.toString.call(D)}function G(D){return D<10?"0"+D.toString(10):D.toString(10)}var ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $(){var D=new Date,Q=[G(D.getHours()),G(D.getMinutes()),G(D.getSeconds())].join(":");return[D.getDate(),ie[D.getMonth()],Q].join(" ")}t.log=function(){console.log("%s - %s",$(),t.format.apply(t,arguments))},t.inherits=As(),t._extend=function(D,Q){if(!Q||!R(Q))return D;for(var te=Object.keys(Q),ae=te.length;ae--;)D[te[ae]]=Q[te[ae]];return D};function K(D,Q){return Object.prototype.hasOwnProperty.call(D,Q)}var Y=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');if(Y&&Q[Y]){var te=Q[Y];if(typeof te!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,Y,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var ae,J,O=new Promise(function(V,L){ae=V,J=L}),A=[],W=0;W<arguments.length;W++)A.push(arguments[W]);A.push(function(V,L){V?J(V):ae(L)});try{Q.apply(this,A)}catch(V){J(V)}return O}return Object.setPrototypeOf(te,Object.getPrototypeOf(Q)),Y&&Object.defineProperty(te,Y,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,e(Q))},t.promisify.custom=Y;function le(D,Q){if(!D){var te=new Error("Promise was rejected with a falsy value");te.reason=D,D=te}return Q(D)}function q(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var te=[],ae=0;ae<arguments.length;ae++)te.push(arguments[ae]);var J=te.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var O=this,A=function(){return J.apply(O,arguments)};D.apply(this,te).then(function(W){We.nextTick(A.bind(null,null,W))},function(W){We.nextTick(le.bind(null,W,A))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(D)),Object.defineProperties(Q,e(D)),Q}t.callbackify=q}(gg)),gg}var fy,JT;function FG(){if(JT)return fy;JT=1;function t(h,f){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);f&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(h,w).enumerable})),p.push.apply(p,g)}return p}function e(h){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?t(Object(p),!0).forEach(function(g){r(h,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(p,g))})}return h}function r(h,f,p){return f in h?Object.defineProperty(h,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[f]=p,h}function n(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function i(h,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function s(h,f,p){return f&&i(h.prototype,f),h}var o=Op(),a=o.Buffer,l=FM(),u=l.inspect,c=u&&u.custom||"inspect";function d(h,f,p){a.prototype.copy.call(h,f,p)}return fy=function(){function h(){n(this,h),this.head=null,this.tail=null,this.length=0}return s(h,[{key:"push",value:function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(p){var g={data:p,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var g=this.head,w=""+g.data;g=g.next;)w+=p+g.data;return w}},{key:"concat",value:function(p){if(this.length===0)return a.alloc(0);for(var g=a.allocUnsafe(p>>>0),w=this.head,m=0;w;)d(w.data,g,m),m+=w.data.length,w=w.next;return g}},{key:"consume",value:function(p,g){var w;return p<this.head.data.length?(w=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?w=this.shift():w=g?this._getString(p):this._getBuffer(p),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var g=this.head,w=1,m=g.data;for(p-=m.length;g=g.next;){var y=g.data,v=p>y.length?y.length:p;if(v===y.length?m+=y:m+=y.slice(0,p),p-=v,p===0){v===y.length?(++w,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=y.slice(v));break}++w}return this.length-=w,m}},{key:"_getBuffer",value:function(p){var g=a.allocUnsafe(p),w=this.head,m=1;for(w.data.copy(g),p-=w.data.length;w=w.next;){var y=w.data,v=p>y.length?y.length:p;if(y.copy(g,g.length-p,0,v),p-=v,p===0){v===y.length?(++m,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=y.slice(v));break}++m}return this.length-=m,g}},{key:c,value:function(p,g){return u(this,e({},g,{depth:0,customInspect:!1}))}}]),h}(),fy}var py,XT;function UM(){if(XT)return py;XT=1;function t(o,a){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,We.nextTick(i,this,o)):We.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!a&&d?l._writableState?l._writableState.errorEmitted?We.nextTick(r,l):(l._writableState.errorEmitted=!0,We.nextTick(e,l,d)):We.nextTick(e,l,d):a?(We.nextTick(r,l),a(d)):We.nextTick(r,l)}),this)}function e(o,a){i(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(a):o.emit("error",a)}return py={destroy:t,undestroy:n,errorOrDestroy:s},py}var my={},YT;function Sl(){if(YT)return my;YT=1;function t(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var e={};function r(a,l,u){u||(u=Error);function c(h,f,p){return typeof l=="string"?l:l(h,f,p)}var d=function(h){t(f,h);function f(p,g,w){return h.call(this,c(p,g,w))||this}return f}(u);d.prototype.name=u.name,d.prototype.code=a,e[a]=d}function n(a,l){if(Array.isArray(a)){var u=a.length;return a=a.map(function(c){return String(c)}),u>2?"one of ".concat(l," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}else return"of ".concat(l," ").concat(String(a))}function i(a,l,u){return a.substr(0,l.length)===l}function s(a,l,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-l.length,u)===l}function o(a,l,u){return typeof u!="number"&&(u=0),u+l.length>a.length?!1:a.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,l,u){var c;typeof l=="string"&&i(l,"not ")?(c="must not be",l=l.replace(/^not /,"")):c="must be";var d;if(s(a," argument"))d="The ".concat(a," ").concat(c," ").concat(n(l,"type"));else{var h=o(a,".")?"property":"argument";d='The "'.concat(a,'" ').concat(h," ").concat(c," ").concat(n(l,"type"))}return d+=". Received type ".concat(typeof u),d},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),my.codes=e,my}var gy,QT;function zM(){if(QT)return gy;QT=1;var t=Sl().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=o?s:"highWaterMark";throw new t(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return gy={getHighWaterMark:r},gy}var yy,ZT;function UG(){if(ZT)return yy;ZT=1,yy=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!$n.localStorage)return!1}catch{return!1}var n=$n.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return yy}var vy,eC;function VM(){if(eC)return vy;eC=1,vy=I;function t(J){var O=this;this.next=null,this.entry=null,this.finish=function(){ae(O,J)}}var e;I.WritableState=N;var r={deprecate:UG()},n=RM(),i=Op().Buffer,s=$n.Uint8Array||function(){};function o(J){return i.from(J)}function a(J){return i.isBuffer(J)||J instanceof s}var l=UM(),u=zM(),c=u.getHighWaterMark,d=Sl().codes,h=d.ERR_INVALID_ARG_TYPE,f=d.ERR_METHOD_NOT_IMPLEMENTED,p=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,w=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,y=d.ERR_STREAM_WRITE_AFTER_END,v=d.ERR_UNKNOWN_ENCODING,b=l.errorOrDestroy;As()(I,n);function E(){}function N(J,O,A){e=e||il(),J=J||{},typeof A!="boolean"&&(A=O instanceof e),this.objectMode=!!J.objectMode,A&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=J.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){ie(O,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}N.prototype.getBuffer=function(){for(var O=this.bufferedRequest,A=[];O;)A.push(O),O=O.next;return A},function(){try{Object.defineProperty(N.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(O){return _.call(this,O)?!0:this!==I?!1:O&&O._writableState instanceof N}})):_=function(O){return O instanceof this};function I(J){e=e||il();var O=this instanceof e;if(!O&&!_.call(I,this))return new I(J);this._writableState=new N(J,this,O),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),n.call(this)}I.prototype.pipe=function(){b(this,new g)};function R(J,O){var A=new y;b(J,A),We.nextTick(O,A)}function F(J,O,A,W){var V;return A===null?V=new m:typeof A!="string"&&!O.objectMode&&(V=new h("chunk",["string","Buffer"],A)),V?(b(J,V),We.nextTick(W,V),!1):!0}I.prototype.write=function(J,O,A){var W=this._writableState,V=!1,L=!W.objectMode&&a(J);return L&&!i.isBuffer(J)&&(J=o(J)),typeof O=="function"&&(A=O,O=null),L?O="buffer":O||(O=W.defaultEncoding),typeof A!="function"&&(A=E),W.ending?R(this,A):(L||F(this,W,J,A))&&(W.pendingcb++,V=M(this,W,L,J,O,A)),V},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&Y(this,J))},I.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new v(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ne(J,O,A){return!J.objectMode&&J.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,A)),O}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(J,O,A,W,V,L){if(!A){var j=ne(O,W,V);W!==j&&(A=!0,V="buffer",W=j)}var re=O.objectMode?1:W.length;O.length+=re;var k=O.length<O.highWaterMark;if(k||(O.needDrain=!0),O.writing||O.corked){var oe=O.lastBufferedRequest;O.lastBufferedRequest={chunk:W,encoding:V,isBuf:A,callback:L,next:null},oe?oe.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else U(J,O,!1,re,W,V,L);return k}function U(J,O,A,W,V,L,j){O.writelen=W,O.writecb=j,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new w("write")):A?J._writev(V,O.onwrite):J._write(V,L,O.onwrite),O.sync=!1}function C(J,O,A,W,V){--O.pendingcb,A?(We.nextTick(V,W),We.nextTick(Q,J,O),J._writableState.errorEmitted=!0,b(J,W)):(V(W),J._writableState.errorEmitted=!0,b(J,W),Q(J,O))}function G(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function ie(J,O){var A=J._writableState,W=A.sync,V=A.writecb;if(typeof V!="function")throw new p;if(G(A),O)C(J,A,W,O,V);else{var L=le(A)||J.destroyed;!L&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&Y(J,A),W?We.nextTick($,J,A,L,V):$(J,A,L,V)}}function $(J,O,A,W){A||K(J,O),O.pendingcb--,W(),Q(J,O)}function K(J,O){O.length===0&&O.needDrain&&(O.needDrain=!1,J.emit("drain"))}function Y(J,O){O.bufferProcessing=!0;var A=O.bufferedRequest;if(J._writev&&A&&A.next){var W=O.bufferedRequestCount,V=new Array(W),L=O.corkedRequestsFree;L.entry=A;for(var j=0,re=!0;A;)V[j]=A,A.isBuf||(re=!1),A=A.next,j+=1;V.allBuffers=re,U(J,O,!0,O.length,V,"",L.finish),O.pendingcb++,O.lastBufferedRequest=null,L.next?(O.corkedRequestsFree=L.next,L.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;A;){var k=A.chunk,oe=A.encoding,P=A.callback,S=O.objectMode?1:k.length;if(U(J,O,!1,S,k,oe,P),A=A.next,O.bufferedRequestCount--,O.writing)break}A===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=A,O.bufferProcessing=!1}I.prototype._write=function(J,O,A){A(new f("_write()"))},I.prototype._writev=null,I.prototype.end=function(J,O,A){var W=this._writableState;return typeof J=="function"?(A=J,J=null,O=null):typeof O=="function"&&(A=O,O=null),J!=null&&this.write(J,O),W.corked&&(W.corked=1,this.uncork()),W.ending||te(this,W,A),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function le(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function q(J,O){J._final(function(A){O.pendingcb--,A&&b(J,A),O.prefinished=!0,J.emit("prefinish"),Q(J,O)})}function D(J,O){!O.prefinished&&!O.finalCalled&&(typeof J._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,We.nextTick(q,J,O)):(O.prefinished=!0,J.emit("prefinish")))}function Q(J,O){var A=le(O);if(A&&(D(J,O),O.pendingcb===0&&(O.finished=!0,J.emit("finish"),O.autoDestroy))){var W=J._readableState;(!W||W.autoDestroy&&W.endEmitted)&&J.destroy()}return A}function te(J,O,A){O.ending=!0,Q(J,O),A&&(O.finished?We.nextTick(A):J.once("finish",A)),O.ended=!0,J.writable=!1}function ae(J,O,A){var W=J.entry;for(J.entry=null;W;){var V=W.callback;O.pendingcb--,V(A),W=W.next}O.corkedRequestsFree.next=J}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),I.prototype.destroy=l.destroy,I.prototype._undestroy=l.undestroy,I.prototype._destroy=function(J,O){O(J)},vy}var wy,tC;function il(){if(tC)return wy;tC=1;var t=Object.keys||function(u){var c=[];for(var d in u)c.push(d);return c};wy=o;var e=$M(),r=VM();As()(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||We.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),wy}var by={},jd={exports:{}},rC;function zG(){return rC||(rC=1,function(t,e){var r=Op(),n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,l){return n(o,a,l)}i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(jd,jd.exports)),jd.exports}var nC;function uw(){if(nC)return by;nC=1;var t=zG().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var y;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(y)return;m=(""+m).toLowerCase(),y=!0}}function n(m){var y=r(m);if(typeof y!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return y||m}by.StringDecoder=i;function i(m){this.encoding=n(m);var y;switch(this.encoding){case"utf16le":this.text=d,this.end=h,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=f,this.end=p,y=3;break;default:this.write=g,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(y)}i.prototype.write=function(m){if(m.length===0)return"";var y,v;if(this.lastNeed){if(y=this.fillLast(m),y===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<m.length?y?y+this.text(m,v):this.text(m,v):y||""},i.prototype.end=c,i.prototype.text=u,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function o(m,y,v){var b=y.length-1;if(b<v)return 0;var E=s(y[b]);return E>=0?(E>0&&(m.lastNeed=E-1),E):--b<v||E===-2?0:(E=s(y[b]),E>=0?(E>0&&(m.lastNeed=E-2),E):--b<v||E===-2?0:(E=s(y[b]),E>=0?(E>0&&(E===2?E=0:m.lastNeed=E-3),E):0))}function a(m,y,v){if((y[0]&192)!==128)return m.lastNeed=0,"";if(m.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return m.lastNeed=1,"";if(m.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return m.lastNeed=2,""}}function l(m){var y=this.lastTotal-this.lastNeed,v=a(this,m);if(v!==void 0)return v;if(this.lastNeed<=m.length)return m.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,y,0,m.length),this.lastNeed-=m.length}function u(m,y){var v=o(this,m,y);if(!this.lastNeed)return m.toString("utf8",y);this.lastTotal=v;var b=m.length-(v-this.lastNeed);return m.copy(this.lastChar,0,b),m.toString("utf8",y,b)}function c(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+"":y}function d(m,y){if((m.length-y)%2===0){var v=m.toString("utf16le",y);if(v){var b=v.charCodeAt(v.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",y,m.length-1)}function h(m){var y=m&&m.length?this.write(m):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,v)}return y}function f(m,y){var v=(m.length-y)%3;return v===0?m.toString("base64",y):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",y,m.length-v))}function p(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(m){return m.toString(this.encoding)}function w(m){return m&&m.length?this.write(m):""}return by}var Sy,iC;function Hb(){if(iC)return Sy;iC=1;var t=Sl().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||r);var l=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,c=function(){s.writable||h()},d=s._writableState&&s._writableState.finished,h=function(){u=!1,d=!0,l||a.call(s)},f=s._readableState&&s._readableState.endEmitted,p=function(){l=!1,f=!0,u||a.call(s)},g=function(v){a.call(s,v)},w=function(){var v;if(l&&!f)return(!s._readableState||!s._readableState.ended)&&(v=new t),a.call(s,v);if(u&&!d)return(!s._writableState||!s._writableState.ended)&&(v=new t),a.call(s,v)},m=function(){s.req.on("finish",h)};return n(s)?(s.on("complete",h),s.on("abort",w),s.req?m():s.on("request",m)):u&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",p),s.on("finish",h),o.error!==!1&&s.on("error",g),s.on("close",w),function(){s.removeListener("complete",h),s.removeListener("abort",w),s.removeListener("request",m),s.req&&s.req.removeListener("finish",h),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",h),s.removeListener("end",p),s.removeListener("error",g),s.removeListener("close",w)}}return Sy=i,Sy}var xy,sC;function VG(){if(sC)return xy;sC=1;var t;function e(m,y,v){return y in m?Object.defineProperty(m,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[y]=v,m}var r=Hb(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function c(m,y){return{value:m,done:y}}function d(m){var y=m[n];if(y!==null){var v=m[u].read();v!==null&&(m[a]=null,m[n]=null,m[i]=null,y(c(v,!1)))}}function h(m){We.nextTick(d,m)}function f(m,y){return function(v,b){m.then(function(){if(y[o]){v(c(void 0,!0));return}y[l](v,b)},b)}}var p=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var y=this,v=this[s];if(v!==null)return Promise.reject(v);if(this[o])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(_,I){We.nextTick(function(){y[s]?I(y[s]):_(c(void 0,!0))})});var b=this[a],E;if(b)E=new Promise(f(b,this));else{var N=this[u].read();if(N!==null)return Promise.resolve(c(N,!1));E=new Promise(this[l])}return this[a]=E,E}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var y=this;return new Promise(function(v,b){y[u].destroy(null,function(E){if(E){b(E);return}v(c(void 0,!0))})})}),t),p),w=function(y){var v,b=Object.create(g,(v={},e(v,u,{value:y,writable:!0}),e(v,n,{value:null,writable:!0}),e(v,i,{value:null,writable:!0}),e(v,s,{value:null,writable:!0}),e(v,o,{value:y._readableState.endEmitted,writable:!0}),e(v,l,{value:function(N,_){var I=b[u].read();I?(b[a]=null,b[n]=null,b[i]=null,N(c(I,!1))):(b[n]=N,b[i]=_)},writable:!0}),v));return b[a]=null,r(y,function(E){if(E&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=b[i];N!==null&&(b[a]=null,b[n]=null,b[i]=null,N(E)),b[s]=E;return}var _=b[n];_!==null&&(b[a]=null,b[n]=null,b[i]=null,_(c(void 0,!0))),b[o]=!0}),y.on("readable",h.bind(null,b)),b};return xy=w,xy}var Ey,oC;function $G(){return oC||(oC=1,Ey=function(){throw new Error("Readable.from is not available in the browser")}),Ey}var _y,aC;function $M(){if(aC)return _y;aC=1,_y=R;var t;R.ReadableState=I,Ub().EventEmitter;var e=function(j,re){return j.listeners(re).length},r=RM(),n=Op().Buffer,i=$n.Uint8Array||function(){};function s(L){return n.from(L)}function o(L){return n.isBuffer(L)||L instanceof i}var a=FM(),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var u=FG(),c=UM(),d=zM(),h=d.getHighWaterMark,f=Sl().codes,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_STREAM_PUSH_AFTER_EOF,w=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,v,b;As()(R,r);var E=c.errorOrDestroy,N=["error","close","destroy","pause","resume"];function _(L,j,re){if(typeof L.prependListener=="function")return L.prependListener(j,re);!L._events||!L._events[j]?L.on(j,re):Array.isArray(L._events[j])?L._events[j].unshift(re):L._events[j]=[re,L._events[j]]}function I(L,j,re){t=t||il(),L=L||{},typeof re!="boolean"&&(re=j instanceof t),this.objectMode=!!L.objectMode,re&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=h(this,L,"readableHighWaterMark",re),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(y||(y=uw().StringDecoder),this.decoder=new y(L.encoding),this.encoding=L.encoding)}function R(L){if(t=t||il(),!(this instanceof R))return new R(L);var j=this instanceof t;this._readableState=new I(L,this,j),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),r.call(this)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),R.prototype.destroy=c.destroy,R.prototype._undestroy=c.undestroy,R.prototype._destroy=function(L,j){j(L)},R.prototype.push=function(L,j){var re=this._readableState,k;return re.objectMode?k=!0:typeof L=="string"&&(j=j||re.defaultEncoding,j!==re.encoding&&(L=n.from(L,j),j=""),k=!0),F(this,L,j,!1,k)},R.prototype.unshift=function(L){return F(this,L,null,!0,!1)};function F(L,j,re,k,oe){l("readableAddChunk",j);var P=L._readableState;if(j===null)P.reading=!1,ie(L,P);else{var S;if(oe||(S=M(P,j)),S)E(L,S);else if(P.objectMode||j&&j.length>0)if(typeof j!="string"&&!P.objectMode&&Object.getPrototypeOf(j)!==n.prototype&&(j=s(j)),k)P.endEmitted?E(L,new m):ne(L,P,j,!0);else if(P.ended)E(L,new g);else{if(P.destroyed)return!1;P.reading=!1,P.decoder&&!re?(j=P.decoder.write(j),P.objectMode||j.length!==0?ne(L,P,j,!1):Y(L,P)):ne(L,P,j,!1)}else k||(P.reading=!1,Y(L,P))}return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function ne(L,j,re,k){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,L.emit("data",re)):(j.length+=j.objectMode?1:re.length,k?j.buffer.unshift(re):j.buffer.push(re),j.needReadable&&$(L)),Y(L,j)}function M(L,j){var re;return!o(j)&&typeof j!="string"&&j!==void 0&&!L.objectMode&&(re=new p("chunk",["string","Buffer","Uint8Array"],j)),re}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(L){y||(y=uw().StringDecoder);var j=new y(L);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,k="";re!==null;)k+=j.write(re.data),re=re.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var U=1073741824;function C(L){return L>=U?L=U:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function G(L,j){return L<=0||j.length===0&&j.ended?0:j.objectMode?1:L!==L?j.flowing&&j.length?j.buffer.head.data.length:j.length:(L>j.highWaterMark&&(j.highWaterMark=C(L)),L<=j.length?L:j.ended?j.length:(j.needReadable=!0,0))}R.prototype.read=function(L){l("read",L),L=parseInt(L,10);var j=this._readableState,re=L;if(L!==0&&(j.emittedReadable=!1),L===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return l("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?A(this):$(this),null;if(L=G(L,j),L===0&&j.ended)return j.length===0&&A(this),null;var k=j.needReadable;l("need readable",k),(j.length===0||j.length-L<j.highWaterMark)&&(k=!0,l("length less than watermark",k)),j.ended||j.reading?(k=!1,l("reading or ended",k)):k&&(l("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(L=G(re,j)));var oe;return L>0?oe=O(L,j):oe=null,oe===null?(j.needReadable=j.length<=j.highWaterMark,L=0):(j.length-=L,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),re!==L&&j.ended&&A(this)),oe!==null&&this.emit("data",oe),oe};function ie(L,j){if(l("onEofChunk"),!j.ended){if(j.decoder){var re=j.decoder.end();re&&re.length&&(j.buffer.push(re),j.length+=j.objectMode?1:re.length)}j.ended=!0,j.sync?$(L):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,K(L)))}}function $(L){var j=L._readableState;l("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(l("emitReadable",j.flowing),j.emittedReadable=!0,We.nextTick(K,L))}function K(L){var j=L._readableState;l("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(L.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,J(L)}function Y(L,j){j.readingMore||(j.readingMore=!0,We.nextTick(le,L,j))}function le(L,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var re=j.length;if(l("maybeReadMore read 0"),L.read(0),re===j.length)break}j.readingMore=!1}R.prototype._read=function(L){E(this,new w("_read()"))},R.prototype.pipe=function(L,j){var re=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=L;break;case 1:k.pipes=[k.pipes,L];break;default:k.pipes.push(L);break}k.pipesCount+=1,l("pipe count=%d opts=%j",k.pipesCount,j);var oe=(!j||j.end!==!1)&&L!==We.stdout&&L!==We.stderr,P=oe?x:be;k.endEmitted?We.nextTick(P):re.once("end",P),L.on("unpipe",S);function S(ke,Ne){l("onunpipe"),ke===re&&Ne&&Ne.hasUnpiped===!1&&(Ne.hasUnpiped=!0,X())}function x(){l("onend"),L.end()}var T=q(re);L.on("drain",T);var z=!1;function X(){l("cleanup"),L.removeListener("close",he),L.removeListener("finish",de),L.removeListener("drain",T),L.removeListener("error",ce),L.removeListener("unpipe",S),re.removeListener("end",x),re.removeListener("end",be),re.removeListener("data",H),z=!0,k.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&T()}re.on("data",H);function H(ke){l("ondata");var Ne=L.write(ke);l("dest.write",Ne),Ne===!1&&((k.pipesCount===1&&k.pipes===L||k.pipesCount>1&&V(k.pipes,L)!==-1)&&!z&&(l("false write response, pause",k.awaitDrain),k.awaitDrain++),re.pause())}function ce(ke){l("onerror",ke),be(),L.removeListener("error",ce),e(L,"error")===0&&E(L,ke)}_(L,"error",ce);function he(){L.removeListener("finish",de),be()}L.once("close",he);function de(){l("onfinish"),L.removeListener("close",he),be()}L.once("finish",de);function be(){l("unpipe"),re.unpipe(L)}return L.emit("pipe",re),k.flowing||(l("pipe resume"),re.resume()),L};function q(L){return function(){var re=L._readableState;l("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&e(L,"data")&&(re.flowing=!0,J(L))}}R.prototype.unpipe=function(L){var j=this._readableState,re={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return L&&L!==j.pipes?this:(L||(L=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,L&&L.emit("unpipe",this,re),this);if(!L){var k=j.pipes,oe=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var P=0;P<oe;P++)k[P].emit("unpipe",this,{hasUnpiped:!1});return this}var S=V(j.pipes,L);return S===-1?this:(j.pipes.splice(S,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),L.emit("unpipe",this,re),this)},R.prototype.on=function(L,j){var re=r.prototype.on.call(this,L,j),k=this._readableState;return L==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):L==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,l("on readable",k.length,k.reading),k.length?$(this):k.reading||We.nextTick(Q,this)),re},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(L,j){var re=r.prototype.removeListener.call(this,L,j);return L==="readable"&&We.nextTick(D,this),re},R.prototype.removeAllListeners=function(L){var j=r.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&We.nextTick(D,this),j};function D(L){var j=L._readableState;j.readableListening=L.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:L.listenerCount("data")>0&&L.resume()}function Q(L){l("readable nexttick read 0"),L.read(0)}R.prototype.resume=function(){var L=this._readableState;return L.flowing||(l("resume"),L.flowing=!L.readableListening,te(this,L)),L.paused=!1,this};function te(L,j){j.resumeScheduled||(j.resumeScheduled=!0,We.nextTick(ae,L,j))}function ae(L,j){l("resume",j.reading),j.reading||L.read(0),j.resumeScheduled=!1,L.emit("resume"),J(L),j.flowing&&!j.reading&&L.read(0)}R.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(L){var j=L._readableState;for(l("flow",j.flowing);j.flowing&&L.read()!==null;);}R.prototype.wrap=function(L){var j=this,re=this._readableState,k=!1;L.on("end",function(){if(l("wrapped end"),re.decoder&&!re.ended){var S=re.decoder.end();S&&S.length&&j.push(S)}j.push(null)}),L.on("data",function(S){if(l("wrapped data"),re.decoder&&(S=re.decoder.write(S)),!(re.objectMode&&S==null)&&!(!re.objectMode&&(!S||!S.length))){var x=j.push(S);x||(k=!0,L.pause())}});for(var oe in L)this[oe]===void 0&&typeof L[oe]=="function"&&(this[oe]=function(x){return function(){return L[x].apply(L,arguments)}}(oe));for(var P=0;P<N.length;P++)L.on(N[P],this.emit.bind(this,N[P]));return this._read=function(S){l("wrapped _read",S),k&&(k=!1,L.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=VG()),v(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),R._fromList=O,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(L,j){if(j.length===0)return null;var re;return j.objectMode?re=j.buffer.shift():!L||L>=j.length?(j.decoder?re=j.buffer.join(""):j.buffer.length===1?re=j.buffer.first():re=j.buffer.concat(j.length),j.buffer.clear()):re=j.buffer.consume(L,j.decoder),re}function A(L){var j=L._readableState;l("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,We.nextTick(W,j,L))}function W(L,j){if(l("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,j.readable=!1,j.emit("end"),L.autoDestroy)){var re=j._writableState;(!re||re.autoDestroy&&re.finished)&&j.destroy()}}typeof Symbol=="function"&&(R.from=function(L,j){return b===void 0&&(b=$G()),b(R,L,j)});function V(L,j){for(var re=0,k=L.length;re<k;re++)if(L[re]===j)return re;return-1}return _y}var ky,lC;function HM(){if(lC)return ky;lC=1,ky=a;var t=Sl().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=il();As()(a,s);function o(c,d){var h=this._transformState;h.transforming=!1;var f=h.writecb;if(f===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,d!=null&&this.push(d),f(c);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function a(c){if(!(this instanceof a))return new a(c);s.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function l(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,h){u(c,d,h)}):u(this,null,null)}a.prototype.push=function(c,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,d)},a.prototype._transform=function(c,d,h){h(new e("_transform()"))},a.prototype._write=function(c,d,h){var f=this._transformState;if(f.writecb=h,f.writechunk=c,f.writeencoding=d,!f.transforming){var p=this._readableState;(f.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},a.prototype._read=function(c){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},a.prototype._destroy=function(c,d){s.prototype._destroy.call(this,c,function(h){d(h)})};function u(c,d,h){if(d)return c.emit("error",d);if(h!=null&&c.push(h),c._writableState.length)throw new i;if(c._transformState.transforming)throw new n;return c.push(null)}return ky}var Ty,uC;function HG(){if(uC)return Ty;uC=1,Ty=e;var t=HM();As()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},Ty}var Cy,cC;function WG(){if(cC)return Cy;cC=1;var t;function e(h){var f=!1;return function(){f||(f=!0,h.apply(void 0,arguments))}}var r=Sl().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,f,p,g){g=e(g);var w=!1;h.on("close",function(){w=!0}),t===void 0&&(t=Hb()),t(h,{readable:f,writable:p},function(y){if(y)return g(y);w=!0,g()});var m=!1;return function(y){if(!w&&!m){if(m=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();g(y||new i("pipe"))}}}function l(h){h()}function u(h,f){return h.pipe(f)}function c(h){return!h.length||typeof h[h.length-1]!="function"?s:h.pop()}function d(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];var g=c(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new n("streams");var w,m=f.map(function(y,v){var b=v<f.length-1,E=v>0;return a(y,b,E,function(N){w||(w=N),N&&m.forEach(l),!b&&(m.forEach(l),g(w))})});return f.reduce(u)}return Cy=d,Cy}var Ay,dC;function Wb(){if(dC)return Ay;dC=1,Ay=r;var t=Ub().EventEmitter,e=As();e(r,t),r.Readable=$M(),r.Writable=VM(),r.Duplex=il(),r.Transform=HM(),r.PassThrough=HG(),r.finished=Hb(),r.pipeline=WG(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function o(f){n.writable&&n.write(f)===!1&&s.pause&&s.pause()}s.on("data",o);function a(){s.readable&&s.resume&&s.resume()}n.on("drain",a),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",u),s.on("close",c));var l=!1;function u(){l||(l=!0,n.end())}function c(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function d(f){if(h(),t.listenerCount(this,"error")===0)throw f}s.on("error",d),n.on("error",d);function h(){s.removeListener("data",o),n.removeListener("drain",a),s.removeListener("end",u),s.removeListener("close",c),s.removeListener("error",d),n.removeListener("error",d),s.removeListener("end",h),s.removeListener("close",h),n.removeListener("close",h)}return s.on("end",h),s.on("close",h),n.on("close",h),n.emit("pipe",s),n},Ay}var hC;function qG(){return hC||(hC=1,function(t){(function(e){e.parser=function(O,A){return new n(O,A)},e.SAXParser=n,e.SAXStream=c,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(O,A){if(!(this instanceof n))return new n(O,A);var W=this;s(W),W.q=W.c="",W.bufferCheckPosition=e.MAX_BUFFER_LENGTH,W.opt=A||{},W.opt.lowercase=W.opt.lowercase||W.opt.lowercasetags,W.looseCase=W.opt.lowercase?"toLowerCase":"toUpperCase",W.tags=[],W.closed=W.closedRoot=W.sawRoot=!1,W.tag=W.error=null,W.strict=!!O,W.noscript=!!(O||W.opt.noscript),W.state=R.BEGIN,W.strictEntities=W.opt.strictEntities,W.ENTITIES=W.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),W.attribList=[],W.opt.xmlns&&(W.ns=Object.create(g)),W.trackPosition=W.opt.position!==!1,W.trackPosition&&(W.position=W.line=W.column=0),ne(W,"onready")}Object.create||(Object.create=function(O){function A(){}A.prototype=O;var W=new A;return W}),Object.keys||(Object.keys=function(O){var A=[];for(var W in O)O.hasOwnProperty(W)&&A.push(W);return A});function i(O){for(var A=Math.max(e.MAX_BUFFER_LENGTH,10),W=0,V=0,L=r.length;V<L;V++){var j=O[r[V]].length;if(j>A)switch(r[V]){case"textNode":U(O);break;case"cdata":M(O,"oncdata",O.cdata),O.cdata="";break;case"script":M(O,"onscript",O.script),O.script="";break;default:G(O,"Max buffer length exceeded: "+r[V])}W=Math.max(W,j)}var re=e.MAX_BUFFER_LENGTH-W;O.bufferCheckPosition=re+O.position}function s(O){for(var A=0,W=r.length;A<W;A++)O[r[A]]=""}function o(O){U(O),O.cdata!==""&&(M(O,"oncdata",O.cdata),O.cdata=""),O.script!==""&&(M(O,"onscript",O.script),O.script="")}n.prototype={end:function(){ie(this)},write:J,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=Wb().Stream}catch{a=function(){}}var l=e.EVENTS.filter(function(O){return O!=="error"&&O!=="end"});function u(O,A){return new c(O,A)}function c(O,A){if(!(this instanceof c))return new c(O,A);a.apply(this),this._parser=new n(O,A),this.writable=!0,this.readable=!0;var W=this;this._parser.onend=function(){W.emit("end")},this._parser.onerror=function(V){W.emit("error",V),W._parser.error=null},this._decoder=null,l.forEach(function(V){Object.defineProperty(W,"on"+V,{get:function(){return W._parser["on"+V]},set:function(L){if(!L)return W.removeAllListeners(V),W._parser["on"+V]=L,L;W.on(V,L)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(a.prototype,{constructor:{value:c}}),c.prototype.write=function(O){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(O)){if(!this._decoder){var A=uw().StringDecoder;this._decoder=new A("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},c.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},c.prototype.on=function(O,A){var W=this;return!W._parser["on"+O]&&l.indexOf(O)!==-1&&(W._parser["on"+O]=function(){var V=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);V.splice(0,0,O),W.emit.apply(W,V)}),a.prototype.on.call(W,O,A)};var d="[CDATA[",h="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={xml:f,xmlns:p},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function b(O){return O===" "||O===`
`||O==="\r"||O==="	"}function E(O){return O==='"'||O==="'"}function N(O){return O===">"||b(O)}function _(O,A){return O.test(A)}function I(O,A){return!_(O,A)}var R=0;e.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(O){var A=e.ENTITIES[O],W=typeof A=="number"?String.fromCharCode(A):A;e.ENTITIES[O]=W});for(var F in e.STATE)e.STATE[e.STATE[F]]=F;R=e.STATE;function ne(O,A,W){O[A]&&O[A](W)}function M(O,A,W){O.textNode&&U(O),ne(O,A,W)}function U(O){O.textNode=C(O.opt,O.textNode),O.textNode&&ne(O,"ontext",O.textNode),O.textNode=""}function C(O,A){return O.trim&&(A=A.trim()),O.normalize&&(A=A.replace(/\s+/g," ")),A}function G(O,A){return U(O),O.trackPosition&&(A+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c),A=new Error(A),O.error=A,ne(O,"onerror",A),O}function ie(O){return O.sawRoot&&!O.closedRoot&&$(O,"Unclosed root tag"),O.state!==R.BEGIN&&O.state!==R.BEGIN_WHITESPACE&&O.state!==R.TEXT&&G(O,"Unexpected end"),U(O),O.c="",O.closed=!0,ne(O,"onend"),n.call(O,O.strict,O.opt),O}function $(O,A){if(typeof O!="object"||!(O instanceof n))throw new Error("bad call to strictFail");O.strict&&G(O,A)}function K(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var A=O.tags[O.tags.length-1]||O,W=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(W.ns=A.ns),O.attribList.length=0,M(O,"onopentagstart",W)}function Y(O,A){var W=O.indexOf(":"),V=W<0?["",O]:O.split(":"),L=V[0],j=V[1];return A&&O==="xmlns"&&(L="xmlns",j=""),{prefix:L,local:j}}function le(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),O.attribList.indexOf(O.attribName)!==-1||O.tag.attributes.hasOwnProperty(O.attribName)){O.attribName=O.attribValue="";return}if(O.opt.xmlns){var A=Y(O.attribName,!0),W=A.prefix,V=A.local;if(W==="xmlns")if(V==="xml"&&O.attribValue!==f)$(O,"xml: prefix must be bound to "+f+`
Actual: `+O.attribValue);else if(V==="xmlns"&&O.attribValue!==p)$(O,"xmlns: prefix must be bound to "+p+`
Actual: `+O.attribValue);else{var L=O.tag,j=O.tags[O.tags.length-1]||O;L.ns===j.ns&&(L.ns=Object.create(j.ns)),L.ns[V]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,M(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}function q(O,A){if(O.opt.xmlns){var W=O.tag,V=Y(O.tagName);W.prefix=V.prefix,W.local=V.local,W.uri=W.ns[V.prefix]||"",W.prefix&&!W.uri&&($(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),W.uri=V.prefix);var L=O.tags[O.tags.length-1]||O;W.ns&&L.ns!==W.ns&&Object.keys(W.ns).forEach(function(H){M(O,"onopennamespace",{prefix:H,uri:W.ns[H]})});for(var j=0,re=O.attribList.length;j<re;j++){var k=O.attribList[j],oe=k[0],P=k[1],S=Y(oe,!0),x=S.prefix,T=S.local,z=x===""?"":W.ns[x]||"",X={name:oe,value:P,prefix:x,local:T,uri:z};x&&x!=="xmlns"&&!z&&($(O,"Unbound namespace prefix: "+JSON.stringify(x)),X.uri=x),O.tag.attributes[oe]=X,M(O,"onattribute",X)}O.attribList.length=0}O.tag.isSelfClosing=!!A,O.sawRoot=!0,O.tags.push(O.tag),M(O,"onopentag",O.tag),A||(!O.noscript&&O.tagName.toLowerCase()==="script"?O.state=R.SCRIPT:O.state=R.TEXT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function D(O){if(!O.tagName){$(O,"Weird empty close tag."),O.textNode+="</>",O.state=R.TEXT;return}if(O.script){if(O.tagName!=="script"){O.script+="</"+O.tagName+">",O.tagName="",O.state=R.SCRIPT;return}M(O,"onscript",O.script),O.script=""}var A=O.tags.length,W=O.tagName;O.strict||(W=W[O.looseCase]());for(var V=W;A--;){var L=O.tags[A];if(L.name!==V)$(O,"Unexpected close tag");else break}if(A<0){$(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",O.state=R.TEXT;return}O.tagName=W;for(var j=O.tags.length;j-- >A;){var re=O.tag=O.tags.pop();O.tagName=O.tag.name,M(O,"onclosetag",O.tagName);var k={};for(var oe in re.ns)k[oe]=re.ns[oe];var P=O.tags[O.tags.length-1]||O;O.opt.xmlns&&re.ns!==P.ns&&Object.keys(re.ns).forEach(function(S){var x=re.ns[S];M(O,"onclosenamespace",{prefix:S,uri:x})})}A===0&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=R.TEXT}function Q(O){var A=O.entity,W=A.toLowerCase(),V,L="";return O.ENTITIES[A]?O.ENTITIES[A]:O.ENTITIES[W]?O.ENTITIES[W]:(A=W,A.charAt(0)==="#"&&(A.charAt(1)==="x"?(A=A.slice(2),V=parseInt(A,16),L=V.toString(16)):(A=A.slice(1),V=parseInt(A,10),L=V.toString(10))),A=A.replace(/^0+/,""),isNaN(V)||L.toLowerCase()!==A?($(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(V))}function te(O,A){A==="<"?(O.state=R.OPEN_WAKA,O.startTagPosition=O.position):b(A)||($(O,"Non-whitespace before first tag."),O.textNode=A,O.state=R.TEXT)}function ae(O,A){var W="";return A<O.length&&(W=O.charAt(A)),W}function J(O){var A=this;if(this.error)throw this.error;if(A.closed)return G(A,"Cannot write after close. Assign an onready handler.");if(O===null)return ie(A);typeof O=="object"&&(O=O.toString());for(var W=0,V="";V=ae(O,W++),A.c=V,!!V;)switch(A.trackPosition&&(A.position++,V===`
`?(A.line++,A.column=0):A.column++),A.state){case R.BEGIN:if(A.state=R.BEGIN_WHITESPACE,V==="\uFEFF")continue;te(A,V);continue;case R.BEGIN_WHITESPACE:te(A,V);continue;case R.TEXT:if(A.sawRoot&&!A.closedRoot){for(var L=W-1;V&&V!=="<"&&V!=="&";)V=ae(O,W++),V&&A.trackPosition&&(A.position++,V===`
`?(A.line++,A.column=0):A.column++);A.textNode+=O.substring(L,W-1)}V==="<"&&!(A.sawRoot&&A.closedRoot&&!A.strict)?(A.state=R.OPEN_WAKA,A.startTagPosition=A.position):(!b(V)&&(!A.sawRoot||A.closedRoot)&&$(A,"Text data outside of root node."),V==="&"?A.state=R.TEXT_ENTITY:A.textNode+=V);continue;case R.SCRIPT:V==="<"?A.state=R.SCRIPT_ENDING:A.script+=V;continue;case R.SCRIPT_ENDING:V==="/"?A.state=R.CLOSE_TAG:(A.script+="<"+V,A.state=R.SCRIPT);continue;case R.OPEN_WAKA:if(V==="!")A.state=R.SGML_DECL,A.sgmlDecl="";else if(!b(V))if(_(w,V))A.state=R.OPEN_TAG,A.tagName=V;else if(V==="/")A.state=R.CLOSE_TAG,A.tagName="";else if(V==="?")A.state=R.PROC_INST,A.procInstName=A.procInstBody="";else{if($(A,"Unencoded <"),A.startTagPosition+1<A.position){var j=A.position-A.startTagPosition;V=new Array(j).join(" ")+V}A.textNode+="<"+V,A.state=R.TEXT}continue;case R.SGML_DECL:(A.sgmlDecl+V).toUpperCase()===d?(M(A,"onopencdata"),A.state=R.CDATA,A.sgmlDecl="",A.cdata=""):A.sgmlDecl+V==="--"?(A.state=R.COMMENT,A.comment="",A.sgmlDecl=""):(A.sgmlDecl+V).toUpperCase()===h?(A.state=R.DOCTYPE,(A.doctype||A.sawRoot)&&$(A,"Inappropriately located doctype declaration"),A.doctype="",A.sgmlDecl=""):V===">"?(M(A,"onsgmldeclaration",A.sgmlDecl),A.sgmlDecl="",A.state=R.TEXT):(E(V)&&(A.state=R.SGML_DECL_QUOTED),A.sgmlDecl+=V);continue;case R.SGML_DECL_QUOTED:V===A.q&&(A.state=R.SGML_DECL,A.q=""),A.sgmlDecl+=V;continue;case R.DOCTYPE:V===">"?(A.state=R.TEXT,M(A,"ondoctype",A.doctype),A.doctype=!0):(A.doctype+=V,V==="["?A.state=R.DOCTYPE_DTD:E(V)&&(A.state=R.DOCTYPE_QUOTED,A.q=V));continue;case R.DOCTYPE_QUOTED:A.doctype+=V,V===A.q&&(A.q="",A.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:A.doctype+=V,V==="]"?A.state=R.DOCTYPE:E(V)&&(A.state=R.DOCTYPE_DTD_QUOTED,A.q=V);continue;case R.DOCTYPE_DTD_QUOTED:A.doctype+=V,V===A.q&&(A.state=R.DOCTYPE_DTD,A.q="");continue;case R.COMMENT:V==="-"?A.state=R.COMMENT_ENDING:A.comment+=V;continue;case R.COMMENT_ENDING:V==="-"?(A.state=R.COMMENT_ENDED,A.comment=C(A.opt,A.comment),A.comment&&M(A,"oncomment",A.comment),A.comment=""):(A.comment+="-"+V,A.state=R.COMMENT);continue;case R.COMMENT_ENDED:V!==">"?($(A,"Malformed comment"),A.comment+="--"+V,A.state=R.COMMENT):A.state=R.TEXT;continue;case R.CDATA:V==="]"?A.state=R.CDATA_ENDING:A.cdata+=V;continue;case R.CDATA_ENDING:V==="]"?A.state=R.CDATA_ENDING_2:(A.cdata+="]"+V,A.state=R.CDATA);continue;case R.CDATA_ENDING_2:V===">"?(A.cdata&&M(A,"oncdata",A.cdata),M(A,"onclosecdata"),A.cdata="",A.state=R.TEXT):V==="]"?A.cdata+="]":(A.cdata+="]]"+V,A.state=R.CDATA);continue;case R.PROC_INST:V==="?"?A.state=R.PROC_INST_ENDING:b(V)?A.state=R.PROC_INST_BODY:A.procInstName+=V;continue;case R.PROC_INST_BODY:if(!A.procInstBody&&b(V))continue;V==="?"?A.state=R.PROC_INST_ENDING:A.procInstBody+=V;continue;case R.PROC_INST_ENDING:V===">"?(M(A,"onprocessinginstruction",{name:A.procInstName,body:A.procInstBody}),A.procInstName=A.procInstBody="",A.state=R.TEXT):(A.procInstBody+="?"+V,A.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:_(m,V)?A.tagName+=V:(K(A),V===">"?q(A):V==="/"?A.state=R.OPEN_TAG_SLASH:(b(V)||$(A,"Invalid character in tag name"),A.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:V===">"?(q(A,!0),D(A)):($(A,"Forward-slash in opening tag not followed by >"),A.state=R.ATTRIB);continue;case R.ATTRIB:if(b(V))continue;V===">"?q(A):V==="/"?A.state=R.OPEN_TAG_SLASH:_(w,V)?(A.attribName=V,A.attribValue="",A.state=R.ATTRIB_NAME):$(A,"Invalid attribute name");continue;case R.ATTRIB_NAME:V==="="?A.state=R.ATTRIB_VALUE:V===">"?($(A,"Attribute without value"),A.attribValue=A.attribName,le(A),q(A)):b(V)?A.state=R.ATTRIB_NAME_SAW_WHITE:_(m,V)?A.attribName+=V:$(A,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if(V==="=")A.state=R.ATTRIB_VALUE;else{if(b(V))continue;$(A,"Attribute without value"),A.tag.attributes[A.attribName]="",A.attribValue="",M(A,"onattribute",{name:A.attribName,value:""}),A.attribName="",V===">"?q(A):_(w,V)?(A.attribName=V,A.state=R.ATTRIB_NAME):($(A,"Invalid attribute name"),A.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(b(V))continue;E(V)?(A.q=V,A.state=R.ATTRIB_VALUE_QUOTED):($(A,"Unquoted attribute value"),A.state=R.ATTRIB_VALUE_UNQUOTED,A.attribValue=V);continue;case R.ATTRIB_VALUE_QUOTED:if(V!==A.q){V==="&"?A.state=R.ATTRIB_VALUE_ENTITY_Q:A.attribValue+=V;continue}le(A),A.q="",A.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:b(V)?A.state=R.ATTRIB:V===">"?q(A):V==="/"?A.state=R.OPEN_TAG_SLASH:_(w,V)?($(A,"No whitespace between attributes"),A.attribName=V,A.attribValue="",A.state=R.ATTRIB_NAME):$(A,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!N(V)){V==="&"?A.state=R.ATTRIB_VALUE_ENTITY_U:A.attribValue+=V;continue}le(A),V===">"?q(A):A.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(A.tagName)V===">"?D(A):_(m,V)?A.tagName+=V:A.script?(A.script+="</"+A.tagName,A.tagName="",A.state=R.SCRIPT):(b(V)||$(A,"Invalid tagname in closing tag"),A.state=R.CLOSE_TAG_SAW_WHITE);else{if(b(V))continue;I(w,V)?A.script?(A.script+="</"+V,A.state=R.SCRIPT):$(A,"Invalid tagname in closing tag."):A.tagName=V}continue;case R.CLOSE_TAG_SAW_WHITE:if(b(V))continue;V===">"?D(A):$(A,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var re,k;switch(A.state){case R.TEXT_ENTITY:re=R.TEXT,k="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:re=R.ATTRIB_VALUE_QUOTED,k="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:re=R.ATTRIB_VALUE_UNQUOTED,k="attribValue";break}V===";"?(A[k]+=Q(A),A.entity="",A.state=re):_(A.entity.length?v:y,V)?A.entity+=V:($(A,"Invalid character in entity name"),A[k]+="&"+A.entity+V,A.entity="",A.state=re);continue;default:throw new Error(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&i(A),A}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var O=String.fromCharCode,A=Math.floor,W=function(){var V=16384,L=[],j,re,k=-1,oe=arguments.length;if(!oe)return"";for(var P="";++k<oe;){var S=Number(arguments[k]);if(!isFinite(S)||S<0||S>1114111||A(S)!==S)throw RangeError("Invalid code point: "+S);S<=65535?L.push(S):(S-=65536,j=(S>>10)+55296,re=S%1024+56320,L.push(j,re)),(k+1===oe||L.length>V)&&(P+=O.apply(null,L),L.length=0)}return P};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:W,configurable:!0,writable:!0}):String.fromCodePoint=W}()})(t)}(fg)),fg}var Ry,fC;function qb(){return fC||(fC=1,Ry={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),Ry}var Oy,pC;function Kb(){if(pC)return Oy;pC=1;var t=qb().isArray;return Oy={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},Oy}var Py,mC;function WM(){if(mC)return Py;mC=1;var t=qG(),e=Kb(),r=qb().isArray,n,i;function s(m){return n=e.copyOptions(m),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(m){var y=Number(m);if(!isNaN(y))return y;var v=m.toLowerCase();return v==="true"?!0:v==="false"?!1:m}function a(m,y){var v;if(n.compact){if(!i[n[m+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[m+"Key"])!==-1:n.alwaysArray)&&(i[n[m+"Key"]]=[]),i[n[m+"Key"]]&&!r(i[n[m+"Key"]])&&(i[n[m+"Key"]]=[i[n[m+"Key"]]]),m+"Fn"in n&&typeof y=="string"&&(y=n[m+"Fn"](y,i)),m==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(v in y)if(y.hasOwnProperty(v))if("instructionFn"in n)y[v]=n.instructionFn(y[v],v,i);else{var b=y[v];delete y[v],y[n.instructionNameFn(v,b,i)]=b}}r(i[n[m+"Key"]])?i[n[m+"Key"]].push(y):i[n[m+"Key"]]=y}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var E={};if(E[n.typeKey]=m,m==="instruction"){for(v in y)if(y.hasOwnProperty(v))break;E[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(v,y,i):v,n.instructionHasAttributes?(E[n.attributesKey]=y[v][n.attributesKey],"instructionFn"in n&&(E[n.attributesKey]=n.instructionFn(E[n.attributesKey],v,i))):("instructionFn"in n&&(y[v]=n.instructionFn(y[v],v,i)),E[n.instructionKey]=y[v])}else m+"Fn"in n&&(y=n[m+"Fn"](y,i)),E[n[m+"Key"]]=y;n.addParent&&(E[n.parentKey]=i),i[n.elementsKey].push(E)}}function l(m){if("attributesFn"in n&&m&&(m=n.attributesFn(m,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&m){var y;for(y in m)if(m.hasOwnProperty(y)&&(n.trim&&(m[y]=m[y].trim()),n.nativeTypeAttributes&&(m[y]=o(m[y])),"attributeValueFn"in n&&(m[y]=n.attributeValueFn(m[y],y,i)),"attributeNameFn"in n)){var v=m[y];delete m[y],m[n.attributeNameFn(y,m[y],i)]=v}}return m}function u(m){var y={};if(m.body&&(m.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var v=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,b;(b=v.exec(m.body))!==null;)y[b[1]]=b[2]||b[3]||b[4];y=l(y)}if(m.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(y).length&&(i[n.declarationKey][n.attributesKey]=y),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(m.body=m.body.trim());var E={};n.instructionHasAttributes&&Object.keys(y).length?(E[m.name]={},E[m.name][n.attributesKey]=y):E[m.name]=m.body,a("instruction",E)}}function c(m,y){var v;if(typeof m=="object"&&(y=m.attributes,m=m.name),y=l(y),"elementNameFn"in n&&(m=n.elementNameFn(m,i)),n.compact){if(v={},!n.ignoreAttributes&&y&&Object.keys(y).length){v[n.attributesKey]={};var b;for(b in y)y.hasOwnProperty(b)&&(v[n.attributesKey][b]=y[b])}!(m in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(m)!==-1:n.alwaysArray)&&(i[m]=[]),i[m]&&!r(i[m])&&(i[m]=[i[m]]),r(i[m])?i[m].push(v):i[m]=v}else i[n.elementsKey]||(i[n.elementsKey]=[]),v={},v[n.typeKey]="element",v[n.nameKey]=m,!n.ignoreAttributes&&y&&Object.keys(y).length&&(v[n.attributesKey]=y),n.alwaysChildren&&(v[n.elementsKey]=[]),i[n.elementsKey].push(v);v[n.parentKey]=i,i=v}function d(m){n.ignoreText||!m.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(m=m.trim()),n.nativeType&&(m=o(m)),n.sanitize&&(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",m))}function h(m){n.ignoreComment||(n.trim&&(m=m.trim()),a("comment",m))}function f(m){var y=i[n.parentKey];n.addParent||delete i[n.parentKey],i=y}function p(m){n.ignoreCdata||(n.trim&&(m=m.trim()),a("cdata",m))}function g(m){n.ignoreDoctype||(m=m.replace(/^ /,""),n.trim&&(m=m.trim()),a("doctype",m))}function w(m){m.note=m}return Py=function(m,y){var v=t.parser(!0,{}),b={};if(i=b,n=s(y),v.opt={strictEntities:!0},v.onopentag=c,v.ontext=d,v.oncomment=h,v.onclosetag=f,v.onerror=w,v.oncdata=p,v.ondoctype=g,v.onprocessinginstruction=u,v.write(m).close(),b[n.elementsKey]){var E=b[n.elementsKey];delete b[n.elementsKey],b[n.elementsKey]=E,delete b.text}return b},Py}var Ny,gC;function KG(){if(gC)return Ny;gC=1;var t=Kb(),e=WM();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return Ny=function(n,i){var s,o,a,l;return s=r(i),o=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?a=JSON.stringify(o,function(u,c){return u===l?"_":c},s.spaces):a=JSON.stringify(o,null,s.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Ny}var Iy,yC;function qM(){if(yC)return Iy;yC=1;var t=Kb(),e=qb().isArray,r,n;function i(v){var b=t.copyOptions(v);return t.ensureFlagExists("ignoreDeclaration",b),t.ensureFlagExists("ignoreInstruction",b),t.ensureFlagExists("ignoreAttributes",b),t.ensureFlagExists("ignoreText",b),t.ensureFlagExists("ignoreComment",b),t.ensureFlagExists("ignoreCdata",b),t.ensureFlagExists("ignoreDoctype",b),t.ensureFlagExists("compact",b),t.ensureFlagExists("indentText",b),t.ensureFlagExists("indentCdata",b),t.ensureFlagExists("indentAttributes",b),t.ensureFlagExists("indentInstruction",b),t.ensureFlagExists("fullTagEmptyElement",b),t.ensureFlagExists("noQuotesForNativeAttributes",b),t.ensureSpacesExists(b),typeof b.spaces=="number"&&(b.spaces=Array(b.spaces+1).join(" ")),t.ensureKeyExists("declaration",b),t.ensureKeyExists("instruction",b),t.ensureKeyExists("attributes",b),t.ensureKeyExists("text",b),t.ensureKeyExists("comment",b),t.ensureKeyExists("cdata",b),t.ensureKeyExists("doctype",b),t.ensureKeyExists("type",b),t.ensureKeyExists("name",b),t.ensureKeyExists("elements",b),t.checkFnExists("doctype",b),t.checkFnExists("instruction",b),t.checkFnExists("cdata",b),t.checkFnExists("comment",b),t.checkFnExists("text",b),t.checkFnExists("instructionName",b),t.checkFnExists("elementName",b),t.checkFnExists("attributeName",b),t.checkFnExists("attributeValue",b),t.checkFnExists("attributes",b),t.checkFnExists("fullTagEmptyElement",b),b}function s(v,b,E){return(!E&&v.spaces?`
`:"")+Array(b+1).join(v.spaces)}function o(v,b,E){if(b.ignoreAttributes)return"";"attributesFn"in b&&(v=b.attributesFn(v,n,r));var N,_,I,R,F=[];for(N in v)v.hasOwnProperty(N)&&v[N]!==null&&v[N]!==void 0&&(R=b.noQuotesForNativeAttributes&&typeof v[N]!="string"?"":'"',_=""+v[N],_=_.replace(/"/g,"&quot;"),I="attributeNameFn"in b?b.attributeNameFn(N,_,n,r):N,F.push(b.spaces&&b.indentAttributes?s(b,E+1,!1):" "),F.push(I+"="+R+("attributeValueFn"in b?b.attributeValueFn(_,N,n,r):_)+R));return v&&Object.keys(v).length&&b.spaces&&b.indentAttributes&&F.push(s(b,E,!1)),F.join("")}function a(v,b,E){return r=v,n="xml",b.ignoreDeclaration?"":"<?xml"+o(v[b.attributesKey],b,E)+"?>"}function l(v,b,E){if(b.ignoreInstruction)return"";var N;for(N in v)if(v.hasOwnProperty(N))break;var _="instructionNameFn"in b?b.instructionNameFn(N,v[N],n,r):N;if(typeof v[N]=="object")return r=v,n=_,"<?"+_+o(v[N][b.attributesKey],b,E)+"?>";var I=v[N]?v[N]:"";return"instructionFn"in b&&(I=b.instructionFn(I,N,n,r)),"<?"+_+(I?" "+I:"")+"?>"}function u(v,b){return b.ignoreComment?"":"<!--"+("commentFn"in b?b.commentFn(v,n,r):v)+"-->"}function c(v,b){return b.ignoreCdata?"":"<![CDATA["+("cdataFn"in b?b.cdataFn(v,n,r):v.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function d(v,b){return b.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in b?b.doctypeFn(v,n,r):v)+">"}function h(v,b){return b.ignoreText?"":(v=""+v,v=v.replace(/&amp;/g,"&"),v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in b?b.textFn(v,n,r):v)}function f(v,b){var E;if(v.elements&&v.elements.length)for(E=0;E<v.elements.length;++E)switch(v.elements[E][b.typeKey]){case"text":if(b.indentText)return!0;break;case"cdata":if(b.indentCdata)return!0;break;case"instruction":if(b.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function p(v,b,E){r=v,n=v.name;var N=[],_="elementNameFn"in b?b.elementNameFn(v.name,v):v.name;N.push("<"+_),v[b.attributesKey]&&N.push(o(v[b.attributesKey],b,E));var I=v[b.elementsKey]&&v[b.elementsKey].length||v[b.attributesKey]&&v[b.attributesKey]["xml:space"]==="preserve";return I||("fullTagEmptyElementFn"in b?I=b.fullTagEmptyElementFn(v.name,v):I=b.fullTagEmptyElement),I?(N.push(">"),v[b.elementsKey]&&v[b.elementsKey].length&&(N.push(g(v[b.elementsKey],b,E+1)),r=v,n=v.name),N.push(b.spaces&&f(v,b)?`
`+Array(E+1).join(b.spaces):""),N.push("</"+_+">")):N.push("/>"),N.join("")}function g(v,b,E,N){return v.reduce(function(_,I){var R=s(b,E,N&&!_);switch(I.type){case"element":return _+R+p(I,b,E);case"comment":return _+R+u(I[b.commentKey],b);case"doctype":return _+R+d(I[b.doctypeKey],b);case"cdata":return _+(b.indentCdata?R:"")+c(I[b.cdataKey],b);case"text":return _+(b.indentText?R:"")+h(I[b.textKey],b);case"instruction":var F={};return F[I[b.nameKey]]=I[b.attributesKey]?I:I[b.instructionKey],_+(b.indentInstruction?R:"")+l(F,b,E)}},"")}function w(v,b,E){var N;for(N in v)if(v.hasOwnProperty(N))switch(N){case b.parentKey:case b.attributesKey:break;case b.textKey:if(b.indentText||E)return!0;break;case b.cdataKey:if(b.indentCdata||E)return!0;break;case b.instructionKey:if(b.indentInstruction||E)return!0;break;case b.doctypeKey:case b.commentKey:return!0;default:return!0}return!1}function m(v,b,E,N,_){r=v,n=b;var I="elementNameFn"in E?E.elementNameFn(b,v):b;if(typeof v>"u"||v===null||v==="")return"fullTagEmptyElementFn"in E&&E.fullTagEmptyElementFn(b,v)||E.fullTagEmptyElement?"<"+I+"></"+I+">":"<"+I+"/>";var R=[];if(b){if(R.push("<"+I),typeof v!="object")return R.push(">"+h(v,E)+"</"+I+">"),R.join("");v[E.attributesKey]&&R.push(o(v[E.attributesKey],E,N));var F=w(v,E,!0)||v[E.attributesKey]&&v[E.attributesKey]["xml:space"]==="preserve";if(F||("fullTagEmptyElementFn"in E?F=E.fullTagEmptyElementFn(b,v):F=E.fullTagEmptyElement),F)R.push(">");else return R.push("/>"),R.join("")}return R.push(y(v,E,N+1,!1)),r=v,n=b,b&&R.push((_?s(E,N,!1):"")+"</"+I+">"),R.join("")}function y(v,b,E,N){var _,I,R,F=[];for(I in v)if(v.hasOwnProperty(I))for(R=e(v[I])?v[I]:[v[I]],_=0;_<R.length;++_){switch(I){case b.declarationKey:F.push(a(R[_],b,E));break;case b.instructionKey:F.push((b.indentInstruction?s(b,E,N):"")+l(R[_],b,E));break;case b.attributesKey:case b.parentKey:break;case b.textKey:F.push((b.indentText?s(b,E,N):"")+h(R[_],b));break;case b.cdataKey:F.push((b.indentCdata?s(b,E,N):"")+c(R[_],b));break;case b.doctypeKey:F.push(s(b,E,N)+d(R[_],b));break;case b.commentKey:F.push(s(b,E,N)+u(R[_],b));break;default:F.push(s(b,E,N)+m(R[_],I,b,E,w(R[_],b)))}N=N&&!F.length}return F.join("")}return Iy=function(v,b){b=i(b);var E=[];return r=v,n="_root_",b.compact?E.push(y(v,b,0,!0)):(v[b.declarationKey]&&E.push(a(v[b.declarationKey],b,0)),v[b.elementsKey]&&v[b.elementsKey].length&&E.push(g(v[b.elementsKey],b,0,!E.length))),E.join("")},Iy}var My,vC;function GG(){if(vC)return My;vC=1;var t=qM();return My=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},My}var Dy,wC;function JG(){if(wC)return Dy;wC=1;var t=WM(),e=KG(),r=qM(),n=GG();return Dy={xml2js:t,xml2json:e,js2xml:r,json2xml:n},Dy}var KM=JG();const Gb=t=>{switch(t.type){case void 0:case"element":const e=new YG(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=Gb(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class XG extends je{}class YG extends pe{static fromXmlString(e){const r=KM.xml2js(e,{compact:!1});return Gb(r)}constructor(e,r){super(e),r&&this.root.push(new XG(r))}push(e){this.root.push(e)}}class QG extends pe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class GM extends pe{constructor(e,r){super(e),r&&(this.root=r.root)}}const Dr=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Np=t=>{const e=Dr(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},JM=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},bC=t=>JM(t,1),XM=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},YM=t=>{const e=XM(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},sl=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return JM(e,3)},uo=t=>typeof t=="string"?XM(t):Dr(t),ZG=t=>typeof t=="string"?YM(t):Np(t),An=t=>typeof t=="string"?YM(t):Np(t),eJ=Np,tJ=Np,rJ=t=>t.toISOString();class me extends pe{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new Ot({val:r}))}}class Ly extends pe{constructor(e,r){super(e),this.root.push(new Ot({val:ZG(r)}))}}class Ba extends pe{constructor(e,r){super(e),this.root.push(new Ot({val:r}))}}const Ul=(t,e)=>new Yn({name:t,attributes:{value:{key:"w:val",value:e}}});class Au extends pe{constructor(e,r){super(e),this.root.push(new Ot({val:r}))}}class js extends pe{constructor(e,r){super(e),this.root.push(r)}}class Yn extends pe{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new Rp(r)),n&&this.root.push(...n)}}const Dn={START:"start",LEFT:"left"};class nJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}}class iJ extends pe{constructor(e){super("w:jc"),this.root.push(new nJ({val:e}))}}class Et extends pe{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new sJ({style:s,color:r===void 0?void 0:sl(r),size:n===void 0?void 0:eJ(n),space:i===void 0?void 0:tJ(i)}))}}class sJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Jb={SINGLE:"single",NONE:"none"};class oJ extends Ap{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Et("w:top",e.top)),e.bottom&&this.root.push(new Et("w:bottom",e.bottom)),e.left&&this.root.push(new Et("w:left",e.left)),e.right&&this.root.push(new Et("w:right",e.right))}}class aJ extends pe{constructor(){super("w:pBdr");const e=new Et("w:bottom",{color:"auto",space:1,style:Jb.SINGLE,size:6});this.root.push(e)}}class lJ extends pe{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new Rp({start:{key:"w:start",value:e===void 0?void 0:uo(e)},end:{key:"w:end",value:r===void 0?void 0:uo(r)},left:{key:"w:left",value:n===void 0?void 0:uo(n)},right:{key:"w:right",value:i===void 0?void 0:uo(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:An(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:An(o)}}))}}let uJ=class extends pe{constructor(){super("w:br")}};const Xb={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Yb extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Bd extends pe{constructor(e){super("w:fldChar"),this.root.push(new Yb({type:Xb.BEGIN,dirty:e}))}}class Fd extends pe{constructor(e){super("w:fldChar"),this.root.push(new Yb({type:Xb.SEPARATE,dirty:e}))}}class Ud extends pe{constructor(e){super("w:fldChar"),this.root.push(new Yb({type:Xb.END,dirty:e}))}}const ol={DEFAULT:"default",PRESERVE:"preserve"};class al extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{space:"xml:space"})}}class cJ extends pe{constructor(){super("w:instrText"),this.root.push(new al({space:ol.PRESERVE})),this.root.push("PAGE")}}class dJ extends pe{constructor(){super("w:instrText"),this.root.push(new al({space:ol.PRESERVE})),this.root.push("NUMPAGES")}}class hJ extends pe{constructor(){super("w:instrText"),this.root.push(new al({space:ol.PRESERVE})),this.root.push("SECTIONPAGES")}}class fJ extends pe{constructor(){super("w:instrText"),this.root.push(new al({space:ol.PRESERVE})),this.root.push("SECTION")}}class pJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class QM extends pe{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new pJ({fill:e===void 0?void 0:sl(e),color:r===void 0?void 0:sl(r),type:n}))}}class mJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const gJ={DOT:"dot"};class yJ extends pe{constructor(e){super("w:em"),this.root.push(new Ot({val:e}))}}class vJ extends yJ{constructor(e=gJ.DOT){super(e)}}class wJ extends pe{constructor(e){super("w:spacing"),this.root.push(new Ot({val:uo(e)}))}}class bJ extends pe{constructor(e){super("w:color"),this.root.push(new Ot({val:sl(e)}))}}class SJ extends pe{constructor(e){super("w:highlight"),this.root.push(new Ot({val:e}))}}class xJ extends pe{constructor(e){super("w:highlightCs"),this.root.push(new Ot({val:e}))}}const EJ=t=>new Yn({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class SC extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class jy extends pe{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new SC({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new SC(n))}}}let ZM=class extends pe{constructor(e){super("w:vertAlign"),this.root.push(new Ot({val:e}))}};class _J extends ZM{constructor(){super("superscript")}}class kJ extends ZM{constructor(){super("subscript")}}const eD={SINGLE:"single"};class TJ extends pe{constructor(e=eD.SINGLE,r){super("w:u"),this.root.push(new Ot({val:e,color:r===void 0?void 0:sl(r)}))}}class Do extends Ap{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Ba("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new jy(e.font)):"name"in e.font?this.push(new jy(e.font.name,e.font.hint)):this.push(new jy(e.font))),e.bold!==void 0&&this.push(new me("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new me("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new me("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new me("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new me("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new me("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new me("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new me("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new me("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new me("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new me("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new me("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new me("w:vanish",e.vanish)),e.color&&this.push(new bJ(e.color)),e.characterSpacing&&this.push(new wJ(e.characterSpacing)),e.scale!==void 0&&this.push(new Au("w:w",e.scale)),e.kern&&this.push(new Ly("w:kern",e.kern)),e.position&&this.push(new Ba("w:position",e.position)),e.size!==void 0&&this.push(new Ly("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Ly("w:szCs",i)),e.highlight&&this.push(new SJ(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new xJ(s)),e.underline&&this.push(new TJ(e.underline.type,e.underline.color)),e.effect&&this.push(new Ba("w:effect",e.effect)),e.border&&this.push(new Et("w:bdr",e.border)),e.shading&&this.push(new QM(e.shading)),e.subScript&&this.push(new kJ),e.superScript&&this.push(new _J),e.rightToLeft!==void 0&&this.push(new me("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new vJ(e.emphasisMark.type)),e.language&&this.push(EJ(e.language)),e.specVanish&&this.push(new me("w:specVanish",e.vanish)),e.math&&this.push(new me("w:oMath",e.math)),e.revision&&this.push(new CJ(e.revision))}push(e){this.root.push(e)}}class CJ extends pe{constructor(e){super("w:rPrChange"),this.root.push(new mJ({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Do(e))}}class xC extends pe{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new al({space:ol.PRESERVE})),this.root.push(e)):(this.root.push(new al({space:(r=e.space)!=null?r:ol.DEFAULT})),this.root.push(e.text))}}const zd={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Ip extends pe{constructor(e){if(super("w:r"),fe(this,"properties"),this.properties=new Do(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new uJ);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case zd.CURRENT:this.root.push(new Bd),this.root.push(new cJ),this.root.push(new Fd),this.root.push(new Ud);break;case zd.TOTAL_PAGES:this.root.push(new Bd),this.root.push(new dJ),this.root.push(new Fd),this.root.push(new Ud);break;case zd.TOTAL_PAGES_IN_SECTION:this.root.push(new Bd),this.root.push(new hJ),this.root.push(new Fd),this.root.push(new Ud);break;case zd.CURRENT_SECTION:this.root.push(new Bd),this.root.push(new fJ),this.root.push(new Fd),this.root.push(new Ud);break;default:this.root.push(new xC(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new xC(e.text))}}class cw extends Ip{constructor(e){super(typeof e=="string"?{text:e}:e)}}var By={},rt={},Fy,EC;function jc(){if(EC)return Fy;EC=1,Fy=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},Fy}var _C;function Qn(){if(_C)return rt;_C=1;var t=jc(),e=As();rt.inherits=e;function r(M,U){return(M.charCodeAt(U)&64512)!==55296||U<0||U+1>=M.length?!1:(M.charCodeAt(U+1)&64512)===56320}function n(M,U){if(Array.isArray(M))return M.slice();if(!M)return[];var C=[];if(typeof M=="string")if(U){if(U==="hex")for(M=M.replace(/[^a-z0-9]+/ig,""),M.length%2!==0&&(M="0"+M),ie=0;ie<M.length;ie+=2)C.push(parseInt(M[ie]+M[ie+1],16))}else for(var G=0,ie=0;ie<M.length;ie++){var $=M.charCodeAt(ie);$<128?C[G++]=$:$<2048?(C[G++]=$>>6|192,C[G++]=$&63|128):r(M,ie)?($=65536+(($&1023)<<10)+(M.charCodeAt(++ie)&1023),C[G++]=$>>18|240,C[G++]=$>>12&63|128,C[G++]=$>>6&63|128,C[G++]=$&63|128):(C[G++]=$>>12|224,C[G++]=$>>6&63|128,C[G++]=$&63|128)}else for(ie=0;ie<M.length;ie++)C[ie]=M[ie]|0;return C}rt.toArray=n;function i(M){for(var U="",C=0;C<M.length;C++)U+=a(M[C].toString(16));return U}rt.toHex=i;function s(M){var U=M>>>24|M>>>8&65280|M<<8&16711680|(M&255)<<24;return U>>>0}rt.htonl=s;function o(M,U){for(var C="",G=0;G<M.length;G++){var ie=M[G];U==="little"&&(ie=s(ie)),C+=l(ie.toString(16))}return C}rt.toHex32=o;function a(M){return M.length===1?"0"+M:M}rt.zero2=a;function l(M){return M.length===7?"0"+M:M.length===6?"00"+M:M.length===5?"000"+M:M.length===4?"0000"+M:M.length===3?"00000"+M:M.length===2?"000000"+M:M.length===1?"0000000"+M:M}rt.zero8=l;function u(M,U,C,G){var ie=C-U;t(ie%4===0);for(var $=new Array(ie/4),K=0,Y=U;K<$.length;K++,Y+=4){var le;G==="big"?le=M[Y]<<24|M[Y+1]<<16|M[Y+2]<<8|M[Y+3]:le=M[Y+3]<<24|M[Y+2]<<16|M[Y+1]<<8|M[Y],$[K]=le>>>0}return $}rt.join32=u;function c(M,U){for(var C=new Array(M.length*4),G=0,ie=0;G<M.length;G++,ie+=4){var $=M[G];U==="big"?(C[ie]=$>>>24,C[ie+1]=$>>>16&255,C[ie+2]=$>>>8&255,C[ie+3]=$&255):(C[ie+3]=$>>>24,C[ie+2]=$>>>16&255,C[ie+1]=$>>>8&255,C[ie]=$&255)}return C}rt.split32=c;function d(M,U){return M>>>U|M<<32-U}rt.rotr32=d;function h(M,U){return M<<U|M>>>32-U}rt.rotl32=h;function f(M,U){return M+U>>>0}rt.sum32=f;function p(M,U,C){return M+U+C>>>0}rt.sum32_3=p;function g(M,U,C,G){return M+U+C+G>>>0}rt.sum32_4=g;function w(M,U,C,G,ie){return M+U+C+G+ie>>>0}rt.sum32_5=w;function m(M,U,C,G){var ie=M[U],$=M[U+1],K=G+$>>>0,Y=(K<G?1:0)+C+ie;M[U]=Y>>>0,M[U+1]=K}rt.sum64=m;function y(M,U,C,G){var ie=U+G>>>0,$=(ie<U?1:0)+M+C;return $>>>0}rt.sum64_hi=y;function v(M,U,C,G){var ie=U+G;return ie>>>0}rt.sum64_lo=v;function b(M,U,C,G,ie,$,K,Y){var le=0,q=U;q=q+G>>>0,le+=q<U?1:0,q=q+$>>>0,le+=q<$?1:0,q=q+Y>>>0,le+=q<Y?1:0;var D=M+C+ie+K+le;return D>>>0}rt.sum64_4_hi=b;function E(M,U,C,G,ie,$,K,Y){var le=U+G+$+Y;return le>>>0}rt.sum64_4_lo=E;function N(M,U,C,G,ie,$,K,Y,le,q){var D=0,Q=U;Q=Q+G>>>0,D+=Q<U?1:0,Q=Q+$>>>0,D+=Q<$?1:0,Q=Q+Y>>>0,D+=Q<Y?1:0,Q=Q+q>>>0,D+=Q<q?1:0;var te=M+C+ie+K+le+D;return te>>>0}rt.sum64_5_hi=N;function _(M,U,C,G,ie,$,K,Y,le,q){var D=U+G+$+Y+q;return D>>>0}rt.sum64_5_lo=_;function I(M,U,C){var G=U<<32-C|M>>>C;return G>>>0}rt.rotr64_hi=I;function R(M,U,C){var G=M<<32-C|U>>>C;return G>>>0}rt.rotr64_lo=R;function F(M,U,C){return M>>>C}rt.shr64_hi=F;function ne(M,U,C){var G=M<<32-C|U>>>C;return G>>>0}return rt.shr64_lo=ne,rt}var Uy={},kC;function Bc(){if(kC)return Uy;kC=1;var t=Qn(),e=jc();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Uy.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=i>>>24&255,a[l++]=i>>>16&255,a[l++]=i>>>8&255,a[l++]=i&255}else for(a[l++]=i&255,a[l++]=i>>>8&255,a[l++]=i>>>16&255,a[l++]=i>>>24&255,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,u=8;u<this.padLength;u++)a[l++]=0;return a},Uy}var Bs={},Mn={},TC;function tD(){if(TC)return Mn;TC=1;var t=Qn(),e=t.rotr32;function r(c,d,h,f){if(c===0)return n(d,h,f);if(c===1||c===3)return s(d,h,f);if(c===2)return i(d,h,f)}Mn.ft_1=r;function n(c,d,h){return c&d^~c&h}Mn.ch32=n;function i(c,d,h){return c&d^c&h^d&h}Mn.maj32=i;function s(c,d,h){return c^d^h}Mn.p32=s;function o(c){return e(c,2)^e(c,13)^e(c,22)}Mn.s0_256=o;function a(c){return e(c,6)^e(c,11)^e(c,25)}Mn.s1_256=a;function l(c){return e(c,7)^e(c,18)^c>>>3}Mn.g0_256=l;function u(c){return e(c,17)^e(c,19)^c>>>10}return Mn.g1_256=u,Mn}var zy,CC;function AJ(){if(CC)return zy;CC=1;var t=Qn(),e=Bc(),r=tD(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,a),zy=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(d,h){for(var f=this.W,p=0;p<16;p++)f[p]=d[h+p];for(;p<f.length;p++)f[p]=n(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);var g=this.h[0],w=this.h[1],m=this.h[2],y=this.h[3],v=this.h[4];for(p=0;p<f.length;p++){var b=~~(p/20),E=s(n(g,5),o(b,w,m,y),v,f[p],l[b]);v=y,y=m,m=n(w,30),w=g,g=E}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],w),this.h[2]=i(this.h[2],m),this.h[3]=i(this.h[3],y),this.h[4]=i(this.h[4],v)},u.prototype._digest=function(d){return d==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},zy}var Vy,AC;function rD(){if(AC)return Vy;AC=1;var t=Qn(),e=Bc(),r=tD(),n=jc(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,d=r.g0_256,h=r.g1_256,f=e.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return t.inherits(g,f),Vy=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(m,y){for(var v=this.W,b=0;b<16;b++)v[b]=m[y+b];for(;b<v.length;b++)v[b]=s(h(v[b-2]),v[b-7],d(v[b-15]),v[b-16]);var E=this.h[0],N=this.h[1],_=this.h[2],I=this.h[3],R=this.h[4],F=this.h[5],ne=this.h[6],M=this.h[7];for(n(this.k.length===v.length),b=0;b<v.length;b++){var U=o(M,c(R),a(R,F,ne),this.k[b],v[b]),C=i(u(E),l(E,N,_));M=ne,ne=F,F=R,R=i(I,U),I=_,_=N,N=E,E=i(U,C)}this.h[0]=i(this.h[0],E),this.h[1]=i(this.h[1],N),this.h[2]=i(this.h[2],_),this.h[3]=i(this.h[3],I),this.h[4]=i(this.h[4],R),this.h[5]=i(this.h[5],F),this.h[6]=i(this.h[6],ne),this.h[7]=i(this.h[7],M)},g.prototype._digest=function(m){return m==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Vy}var $y,RC;function RJ(){if(RC)return $y;RC=1;var t=Qn(),e=rD();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),$y=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},$y}var Hy,OC;function nD(){if(OC)return Hy;OC=1;var t=Qn(),e=Bc(),r=jc(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,l=t.sum64_hi,u=t.sum64_lo,c=t.sum64_4_hi,d=t.sum64_4_lo,h=t.sum64_5_hi,f=t.sum64_5_lo,p=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(w,p),Hy=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(C,G){for(var ie=this.W,$=0;$<32;$++)ie[$]=C[G+$];for(;$<ie.length;$+=2){var K=ne(ie[$-4],ie[$-3]),Y=M(ie[$-4],ie[$-3]),le=ie[$-14],q=ie[$-13],D=R(ie[$-30],ie[$-29]),Q=F(ie[$-30],ie[$-29]),te=ie[$-32],ae=ie[$-31];ie[$]=c(K,Y,le,q,D,Q,te,ae),ie[$+1]=d(K,Y,le,q,D,Q,te,ae)}},w.prototype._update=function(C,G){this._prepareBlock(C,G);var ie=this.W,$=this.h[0],K=this.h[1],Y=this.h[2],le=this.h[3],q=this.h[4],D=this.h[5],Q=this.h[6],te=this.h[7],ae=this.h[8],J=this.h[9],O=this.h[10],A=this.h[11],W=this.h[12],V=this.h[13],L=this.h[14],j=this.h[15];r(this.k.length===ie.length);for(var re=0;re<ie.length;re+=2){var k=L,oe=j,P=_(ae,J),S=I(ae,J),x=m(ae,J,O,A,W),T=y(ae,J,O,A,W,V),z=this.k[re],X=this.k[re+1],H=ie[re],ce=ie[re+1],he=h(k,oe,P,S,x,T,z,X,H,ce),de=f(k,oe,P,S,x,T,z,X,H,ce);k=E($,K),oe=N($,K),P=v($,K,Y,le,q),S=b($,K,Y,le,q,D);var be=l(k,oe,P,S),ke=u(k,oe,P,S);L=W,j=V,W=O,V=A,O=ae,A=J,ae=l(Q,te,he,de),J=u(te,te,he,de),Q=q,te=D,q=Y,D=le,Y=$,le=K,$=l(he,de,be,ke),K=u(he,de,be,ke)}a(this.h,0,$,K),a(this.h,2,Y,le),a(this.h,4,q,D),a(this.h,6,Q,te),a(this.h,8,ae,J),a(this.h,10,O,A),a(this.h,12,W,V),a(this.h,14,L,j)},w.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function m(U,C,G,ie,$){var K=U&G^~U&$;return K<0&&(K+=4294967296),K}function y(U,C,G,ie,$,K){var Y=C&ie^~C&K;return Y<0&&(Y+=4294967296),Y}function v(U,C,G,ie,$){var K=U&G^U&$^G&$;return K<0&&(K+=4294967296),K}function b(U,C,G,ie,$,K){var Y=C&ie^C&K^ie&K;return Y<0&&(Y+=4294967296),Y}function E(U,C){var G=n(U,C,28),ie=n(C,U,2),$=n(C,U,7),K=G^ie^$;return K<0&&(K+=4294967296),K}function N(U,C){var G=i(U,C,28),ie=i(C,U,2),$=i(C,U,7),K=G^ie^$;return K<0&&(K+=4294967296),K}function _(U,C){var G=n(U,C,14),ie=n(U,C,18),$=n(C,U,9),K=G^ie^$;return K<0&&(K+=4294967296),K}function I(U,C){var G=i(U,C,14),ie=i(U,C,18),$=i(C,U,9),K=G^ie^$;return K<0&&(K+=4294967296),K}function R(U,C){var G=n(U,C,1),ie=n(U,C,8),$=s(U,C,7),K=G^ie^$;return K<0&&(K+=4294967296),K}function F(U,C){var G=i(U,C,1),ie=i(U,C,8),$=o(U,C,7),K=G^ie^$;return K<0&&(K+=4294967296),K}function ne(U,C){var G=n(U,C,19),ie=n(C,U,29),$=s(U,C,6),K=G^ie^$;return K<0&&(K+=4294967296),K}function M(U,C){var G=i(U,C,19),ie=i(C,U,29),$=o(U,C,6),K=G^ie^$;return K<0&&(K+=4294967296),K}return Hy}var Wy,PC;function OJ(){if(PC)return Wy;PC=1;var t=Qn(),e=nD();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Wy=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Wy}var NC;function PJ(){return NC||(NC=1,Bs.sha1=AJ(),Bs.sha224=RJ(),Bs.sha256=rD(),Bs.sha384=OJ(),Bs.sha512=nD()),Bs}var qy={},IC;function NJ(){if(IC)return qy;IC=1;var t=Qn(),e=Bc(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),qy.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(w,m){for(var y=this.h[0],v=this.h[1],b=this.h[2],E=this.h[3],N=this.h[4],_=y,I=v,R=b,F=E,ne=N,M=0;M<80;M++){var U=n(r(s(y,l(M,v,b,E),w[d[M]+m],u(M)),f[M]),N);y=N,N=E,E=r(b,10),b=v,v=U,U=n(r(s(_,l(79-M,I,R,F),w[h[M]+m],c(M)),p[M]),ne),_=ne,ne=F,F=r(R,10),R=I,I=U}U=i(this.h[1],b,F),this.h[1]=i(this.h[2],E,ne),this.h[2]=i(this.h[3],N,_),this.h[3]=i(this.h[4],y,I),this.h[4]=i(this.h[0],v,R),this.h[0]=U},a.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(g,w,m,y){return g<=15?w^m^y:g<=31?w&m|~w&y:g<=47?(w|~m)^y:g<=63?w&y|m&~y:w^(m|~y)}function u(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function c(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return qy}var Ky,MC;function IJ(){if(MC)return Ky;MC=1;var t=Qn(),e=jc();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return Ky=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Ky}var DC;function MJ(){return DC||(DC=1,function(t){var e=t;e.utils=Qn(),e.common=Bc(),e.sha=PJ(),e.ripemd=NJ(),e.hmac=IJ(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(By)),By}MJ();let DJ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",LJ=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},jJ=(t=21)=>{let e="",r=t|0;for(;r--;)e+=DJ[Math.random()*64|0];return e};const vn=t=>Math.floor(t*72*20),Qb=(t=0)=>{let e=t;return()=>++e},BJ=()=>Qb(),FJ=()=>Qb(1),UJ=()=>Qb(),zJ=()=>jJ().toLowerCase(),zl=t=>LJ("1234567890abcdef",t)(),VJ=()=>`${zl(8)}-${zl(4)}-${zl(4)}-${zl(4)}-${zl(12)}`;class $J extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns"})}}class HJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const WJ={EXTERNAL:"External"};class qJ extends pe{constructor(e,r,n,i){super("Relationship"),this.root.push(new HJ({id:e,type:r,target:n,targetMode:i}))}}class Lo extends pe{constructor(){super("Relationships"),this.root.push(new $J({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const s=new qJ(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class KJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class GJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class JJ extends pe{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new KJ({id:e,initials:r,author:n,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class XJ extends pe{constructor({children:e}){super("w:comments"),fe(this,"relationships"),this.root.push(new GJ({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new JJ(r));this.relationships=new Lo}get Relationships(){return this.relationships}}class YJ extends pe{constructor(){super("w:pageBreakBefore")}}const dw={AUTO:"auto"};class QJ extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class ZJ extends pe{constructor(e){super("w:spacing"),this.root.push(new QJ(e))}}const LC={HEADING_2:"Heading2",HEADING_3:"Heading3"};let Vd=class extends pe{constructor(e){super("w:pStyle"),this.root.push(new Ot({val:e}))}};class eX extends pe{constructor(e){super("w:tabs");for(const r of e)this.root.push(new rX(r))}}const jC={LEFT:"left",RIGHT:"right"};class tX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class rX extends pe{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new tX({val:e,pos:r,leader:n}))}}class Gy extends pe{constructor(e,r){super("w:numPr"),this.root.push(new nX(r)),this.root.push(new iX(e))}}class nX extends pe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ot({val:e}))}}class iX extends pe{constructor(e){super("w:numId"),this.root.push(new Ot({val:typeof e=="string"?`{${e}}`:e}))}}class sX extends pe{constructor(){super(...arguments),fe(this,"fileChild",Symbol())}}class oX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class aX extends pe{constructor(e,r,n){super("w:hyperlink"),fe(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new oX(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class lX extends pe{constructor(e){super("w:externalHyperlink"),this.options=e}}class uX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class cX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id"})}}class dX{constructor(e){fe(this,"bookmarkUniqueNumericId",UJ()),fe(this,"start"),fe(this,"children"),fe(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new hX(e.id,r),this.children=e.children,this.end=new fX(r)}}class hX extends pe{constructor(e,r){super("w:bookmarkStart");const n=new uX({name:e,id:r});this.root.push(n)}}class fX extends pe{constructor(e){super("w:bookmarkEnd");const r=new cX({id:e});this.root.push(r)}}class pX extends pe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Ot({val:e}))}}const mX={TOP:"top",CENTER:"center",BOTTOM:"bottom"};nl(Ge({},mX),{BOTH:"both"});class gX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{verticalAlign:"w:val"})}}class yX extends pe{constructor(e){super("w:vAlign"),this.root.push(new gX({verticalAlign:e}))}}class vX extends pe{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Rp({space:{key:"w:space",value:e===void 0?void 0:An(e)},count:{key:"w:num",value:r===void 0?void 0:Dr(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const wX=({type:t,linePitch:e,charSpace:r})=>new Yn({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Dr(e)},charSpace:{key:"w:charSpace",value:r?Dr(r):void 0}}}),Fa={DEFAULT:"default",FIRST:"first",EVEN:"even"};class bX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const BC={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Jy extends pe{constructor(e,r){super(e),this.root.push(new bX({type:r.type||Fa.DEFAULT,id:`rId${r.id}`}))}}const SX=({countBy:t,start:e,restart:r,distance:n})=>new Yn({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Dr(t)},start:{key:"w:start",value:e===void 0?void 0:Dr(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:An(n)}}});class FC extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class xX extends Ap{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new FC({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new FC({})),e.pageBorderTop&&this.root.push(new Et("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Et("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Et("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Et("w:right",e.pageBorderRight))}}class EX extends pe{constructor(e,r,n,i,s,o,a){super("w:pgMar"),this.root.push(new Rp({top:{key:"w:top",value:uo(e)},right:{key:"w:right",value:An(r)},bottom:{key:"w:bottom",value:uo(n)},left:{key:"w:left",value:An(i)},header:{key:"w:header",value:An(s)},footer:{key:"w:footer",value:An(o)},gutter:{key:"w:gutter",value:An(a)}}))}}class _X extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class kX extends pe{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new _X({start:e===void 0?void 0:Dr(e),formatType:r,separator:n}))}}const hw={PORTRAIT:"portrait",LANDSCAPE:"landscape"},TX=({width:t,height:e,orientation:r,code:n})=>{const i=An(t),s=An(e);return new Yn({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===hw.LANDSCAPE?s:i},height:{key:"w:h",value:r===hw.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class CX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}}class AX extends pe{constructor(e){super("w:textDirection"),this.root.push(new CX({val:e}))}}class RX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}}class OX extends pe{constructor(e){super("w:type"),this.root.push(new RX({val:e}))}}const Fs={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Xy={WIDTH:11906,HEIGHT:16838,ORIENTATION:hw.PORTRAIT};class PX extends pe{constructor({page:{size:{width:e=Xy.WIDTH,height:r=Xy.HEIGHT,orientation:n=Xy.ORIENTATION}={},margin:{top:i=Fs.TOP,right:s=Fs.RIGHT,bottom:o=Fs.BOTTOM,left:a=Fs.LEFT,header:l=Fs.HEADER,footer:u=Fs.FOOTER,gutter:c=Fs.GUTTER}={},pageNumbers:d={},borders:h,textDirection:f}={},grid:{linePitch:p=360,charSpace:g,type:w}={},headerWrapperGroup:m={},footerWrapperGroup:y={},lineNumbers:v,titlePage:b,verticalAlign:E,column:N,type:_}={}){super("w:sectPr"),this.addHeaderFooterGroup(BC.HEADER,m),this.addHeaderFooterGroup(BC.FOOTER,y),_&&this.root.push(new OX(_)),this.root.push(TX({width:e,height:r,orientation:n})),this.root.push(new EX(i,s,o,a,l,u,c)),h&&this.root.push(new xX(h)),v&&this.root.push(SX(v)),this.root.push(new kX(d)),N&&this.root.push(new vX(N)),E&&this.root.push(new yX(E)),b!==void 0&&this.root.push(new me("w:titlePg",b)),f&&this.root.push(new AX(f)),this.root.push(wX({linePitch:p,charSpace:g,type:w}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new Jy(e,{type:Fa.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Jy(e,{type:Fa.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Jy(e,{type:Fa.EVEN,id:r.even.View.ReferenceId}))}}class NX extends pe{constructor(){super("w:body"),fe(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new PX(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new Ua({}),n=new ll({});return n.push(e),r.addChildElement(n),r}}const UC={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Mp extends je{constructor(e,r){super(Ge({Ignorable:r},Object.fromEntries(e.map(n=>[n,UC[n]])))),fe(this,"xmlKeys",Ge({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(UC).map(n=>[n,`xmlns:${n}`]))))}}class IX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class MX extends pe{constructor(e){super("w:background"),this.root.push(new IX({color:e.color===void 0?void 0:sl(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:bC(e.themeShade),themeTint:e.themeTint===void 0?void 0:bC(e.themeTint)}))}}class DX extends pe{constructor(e){super("w:document"),fe(this,"body"),this.root.push(new Mp(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new NX,e.background&&this.root.push(new MX(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class iD{constructor(e){fe(this,"document"),fe(this,"relationships"),this.document=new DX(e),this.relationships=new Lo}get View(){return this.document}get Relationships(){return this.relationships}}class LX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}}class jX extends pe{constructor(){super("w:wordWrap"),this.root.push(new LX({val:0}))}}const BX=t=>{var e,r;return new Yn({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class ll extends Ap{constructor(e){var r,n;if(super("w:pPr"),fe(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Vd(e.heading)),e.bullet&&this.push(new Vd("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Vd("ListParagraph"))),e.style&&this.push(new Vd(e.style)),e.keepNext!==void 0&&this.push(new me("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new me("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new YJ),e.frame&&this.push(BX(e.frame)),e.widowControl!==void 0&&this.push(new me("w:widowControl",e.widowControl)),e.bullet&&this.push(new Gy(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Gy(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new Gy(0,0)),e.border&&this.push(new oJ(e.border)),e.thematicBreak&&this.push(new aJ),e.shading&&this.push(new QM(e.shading)),e.wordWrap&&this.push(new jX),e.overflowPunctuation&&this.push(new me("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:jC.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:jC.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new eX(i)),e.bidirectional!==void 0&&this.push(new me("w:bidi",e.bidirectional)),e.spacing&&this.push(new ZJ(e.spacing)),e.indent&&this.push(new lJ(e.indent)),e.contextualSpacing!==void 0&&this.push(new me("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new iJ(e.alignment)),e.outlineLevel!==void 0&&this.push(new pX(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new me("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new me("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Do(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof iD)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class Ua extends sX{constructor(e){if(super("w:p"),fe(this,"properties"),typeof e=="string")return this.properties=new ll({}),this.root.push(this.properties),this.root.push(new cw(e)),this;if(this.properties=new ll(e),this.root.push(this.properties),e.text&&this.root.push(new cw(e.text)),e.children)for(const r of e.children){if(r instanceof dX){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof lX){const n=this.root.indexOf(r),i=new aX(r.options.children,zJ());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,WJ.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const Zo={style:Jb.NONE,size:0,color:"auto"},ea={style:Jb.SINGLE,size:4,color:"auto"};class FX extends pe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Et("w:top",e.top)):this.root.push(new Et("w:top",ea)),e.left?this.root.push(new Et("w:left",e.left)):this.root.push(new Et("w:left",ea)),e.bottom?this.root.push(new Et("w:bottom",e.bottom)):this.root.push(new Et("w:bottom",ea)),e.right?this.root.push(new Et("w:right",e.right)):this.root.push(new Et("w:right",ea)),e.insideHorizontal?this.root.push(new Et("w:insideH",e.insideHorizontal)):this.root.push(new Et("w:insideH",ea)),e.insideVertical?this.root.push(new Et("w:insideV",e.insideVertical)):this.root.push(new Et("w:insideV",ea))}}fe(FX,"NONE",{top:Zo,bottom:Zo,left:Zo,right:Zo,insideHorizontal:Zo,insideVertical:Zo});class UX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class zX extends pe{constructor(){super("Properties"),this.root.push(new UX({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class VX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns"})}}class $X extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class si extends pe{constructor(e,r){super("Default"),this.root.push(new $X({contentType:e,extension:r}))}}class HX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Qr extends pe{constructor(e,r){super("Override"),this.root.push(new HX({contentType:e,partName:r}))}}class WX extends pe{constructor(){super("Types"),this.root.push(new VX({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new si("image/png","png")),this.root.push(new si("image/jpeg","jpeg")),this.root.push(new si("image/jpeg","jpg")),this.root.push(new si("image/bmp","bmp")),this.root.push(new si("image/gif","gif")),this.root.push(new si("image/svg+xml","svg")),this.root.push(new si("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new si("application/xml","xml")),this.root.push(new si("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Qr("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Qr("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class qX extends pe{constructor(e){super("cp:coreProperties"),this.root.push(new Mp(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new js("dc:title",e.title)),e.subject&&this.root.push(new js("dc:subject",e.subject)),e.creator&&this.root.push(new js("dc:creator",e.creator)),e.keywords&&this.root.push(new js("cp:keywords",e.keywords)),e.description&&this.root.push(new js("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new js("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new js("cp:revision",String(e.revision))),this.root.push(new zC("dcterms:created")),this.root.push(new zC("dcterms:modified"))}}class KX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"xsi:type"})}}class zC extends pe{constructor(e){super(e),this.root.push(new KX({type:"dcterms:W3CDTF"})),this.root.push(rJ(new Date))}}class GX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class JX extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class XX extends pe{constructor(e,r){super("property"),this.root.push(new JX({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new YX(r.value))}}class YX extends pe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class QX extends pe{constructor(e){super("Properties"),fe(this,"nextId"),fe(this,"properties",[]),this.root.push(new GX({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new XX(this.nextId++,e))}}const $d=({id:t,fontKey:e,subsetted:r},n)=>new Yn({name:n,attributes:Ge({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new me("w:subsetted",r)]:[]]}),ZX=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:o,sig:a,embedRegular:l,embedBold:u,embedItalic:c,embedBoldItalic:d})=>new Yn({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Ul("w:altName",e)]:[],...r?[Ul("w:panose1",r)]:[],...n?[Ul("w:charset",n)]:[],Ul("w:family",i),...s?[new me("w:notTrueType",s)]:[],Ul("w:pitch",o),...a?[new Yn({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:a.usb0},usb1:{key:"w:usb1",value:a.usb1},usb2:{key:"w:usb2",value:a.usb2},usb3:{key:"w:usb3",value:a.usb3},csb0:{key:"w:csb0",value:a.csb0},csb1:{key:"w:csb1",value:a.csb1}}})]:[],...l?[$d(l,"w:embedRegular")]:[],...u?[$d(u,"w:embedBold")]:[],...c?[$d(c,"w:embedItalic")]:[],...d?[$d(d,"w:embedBoldItalic")]:[]]}),eY=({name:t,index:e,fontKey:r,characterSet:n})=>ZX({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),tY=t=>new Yn({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>eY({name:e.name,index:r+1,fontKey:e.fontKey}))});class rY{constructor(e){fe(this,"fontTable"),fe(this,"relationships"),fe(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>nl(Ge({},r),{fontKey:VJ()})),this.fontTable=tY(this.fontOptionsWithKey),this.relationships=new Lo;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class nY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let iY=class extends GM{constructor(e,r){super("w:ftr",r),fe(this,"refId"),this.refId=e,r||this.root.push(new nY({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class sY{constructor(e,r,n){fe(this,"footer"),fe(this,"relationships"),this.media=e,this.footer=new iY(r,n),this.relationships=new Lo}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class oY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class aY extends pe{constructor(){super("w:footnoteRef")}}class lY extends Ip{constructor(){super({style:"FootnoteReference"}),this.root.push(new aY)}}const VC={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Yy extends pe{constructor(e){super("w:footnote"),this.root.push(new oY({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new lY),this.root.push(n)}}}class uY extends pe{constructor(){super("w:continuationSeparator")}}class cY extends Ip{constructor(){super({}),this.root.push(new uY)}}class dY extends pe{constructor(){super("w:separator")}}class hY extends Ip{constructor(){super({}),this.root.push(new dY)}}class fY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class pY extends pe{constructor(){super("w:footnotes"),this.root.push(new fY({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Yy({id:-1,type:VC.SEPERATOR,children:[new Ua({spacing:{after:0,line:240,lineRule:dw.AUTO},children:[new hY]})]});this.root.push(e);const r=new Yy({id:0,type:VC.CONTINUATION_SEPERATOR,children:[new Ua({spacing:{after:0,line:240,lineRule:dw.AUTO},children:[new cY]})]});this.root.push(r)}createFootNote(e,r){const n=new Yy({id:e,children:r});this.root.push(n)}}class mY{constructor(){fe(this,"footnotess"),fe(this,"relationships"),this.footnotess=new pY,this.relationships=new Lo}get View(){return this.footnotess}get Relationships(){return this.relationships}}class gY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let yY=class extends GM{constructor(e,r){super("w:hdr",r),fe(this,"refId"),this.refId=e,r||this.root.push(new gY({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class vY{constructor(e,r,n){fe(this,"header"),fe(this,"relationships"),this.media=e,this.header=new yY(r,n),this.relationships=new Lo}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class wY{constructor(){fe(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const oi={BULLET:"bullet"};class bY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class SY extends pe{constructor(e){super("w:numFmt"),this.root.push(new Ot({val:e}))}}class xY extends pe{constructor(e){super("w:lvlText"),this.root.push(new Ot({val:e}))}}class EY extends pe{constructor(e){super("w:lvlJc"),this.root.push(new Ot({val:e}))}}class _Y extends pe{constructor(e){super("w:suff"),this.root.push(new Ot({val:e}))}}class kY extends pe{constructor(){super("w:isLgl")}}class TY extends pe{constructor({level:e,format:r,text:n,alignment:i=Dn.START,start:s=1,style:o,suffix:a,isLegalNumberingStyle:l}){if(super("w:lvl"),fe(this,"paragraphProperties"),fe(this,"runProperties"),this.root.push(new Au("w:start",Dr(s))),r&&this.root.push(new SY(r)),a&&this.root.push(new _Y(a)),l&&this.root.push(new kY),n&&this.root.push(new xY(n)),this.root.push(new EY(i)),this.paragraphProperties=new ll(o&&o.paragraph),this.runProperties=new Do(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new bY({ilvl:Dr(e),tentative:1}))}}class CY extends TY{}class AY extends pe{constructor(e){super("w:multiLevelType"),this.root.push(new Ot({val:e}))}}class RY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class $C extends pe{constructor(e,r){super("w:abstractNum"),fe(this,"id"),this.root.push(new RY({abstractNumId:Dr(e),restartNumberingAfterBreak:0})),this.root.push(new AY("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new CY(n))}}class OY extends pe{constructor(e){super("w:abstractNumId"),this.root.push(new Ot({val:e}))}}class PY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{numId:"w:numId"})}}class HC extends pe{constructor(e){if(super("w:num"),fe(this,"numId"),fe(this,"reference"),fe(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new PY({numId:Dr(e.numId)})),this.root.push(new OY(Dr(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new IY(r.num,r.start))}}class NY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class IY extends pe{constructor(e,r){super("w:lvlOverride"),this.root.push(new NY({ilvl:e})),r!==void 0&&this.root.push(new DY(r))}}class MY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}}class DY extends pe{constructor(e){super("w:startOverride"),this.root.push(new MY({val:e}))}}class LY extends pe{constructor(e){super("w:numbering"),fe(this,"abstractNumberingMap",new Map),fe(this,"concreteNumberingMap",new Map),fe(this,"referenceConfigMap",new Map),fe(this,"abstractNumUniqueNumericId",BJ()),fe(this,"concreteNumUniqueNumericId",FJ()),this.root.push(new Mp(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new $C(this.abstractNumUniqueNumericId(),[{level:0,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:vn(.5),hanging:vn(.25)}}}},{level:1,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:vn(1),hanging:vn(.25)}}}},{level:2,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:2160,hanging:vn(.25)}}}},{level:3,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:2880,hanging:vn(.25)}}}},{level:4,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:3600,hanging:vn(.25)}}}},{level:5,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:4320,hanging:vn(.25)}}}},{level:6,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:5040,hanging:vn(.25)}}}},{level:7,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:5760,hanging:vn(.25)}}}},{level:8,format:oi.BULLET,text:"",alignment:Dn.LEFT,style:{paragraph:{indent:{left:6480,hanging:vn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new HC({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new $C(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new HC(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class jY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class BY extends pe{constructor(e){super("w:compatSetting"),this.root.push(new jY({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class FY extends pe{constructor(e){super("w:compat"),e.version&&this.root.push(new BY(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new me("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new me("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new me("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new me("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new me("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new me("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new me("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new me("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new me("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new me("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new me("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new me("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new me("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new me("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new me("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new me("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new me("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new me("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new me("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new me("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new me("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new me("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new me("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new me("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new me("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new me("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new me("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new me("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new me("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new me("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new me("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new me("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new me("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new me("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new me("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new me("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new me("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new me("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new me("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new me("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new me("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new me("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new me("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new me("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new me("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new me("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new me("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new me("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new me("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new me("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new me("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new me("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new me("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new me("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new me("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new me("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new me("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new me("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new me("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new me("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new me("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new me("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new me("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new me("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new me("w:cachedColBalance",e.cachedColumnBalance))}}class UY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class zY extends pe{constructor(e){var r,n,i,s,o,a,l,u;super("w:settings"),this.root.push(new UY({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new me("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new me("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new me("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new me("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Au("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new me("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Au("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Au("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new me("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new FY(nl(Ge({},(o=e.compatibility)!=null?o:{}),{version:(u=(l=(a=e.compatibility)==null?void 0:a.version)!=null?l:e.compatibilityModeVersion)!=null?u:15})))}}class sD extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}}class VY extends pe{constructor(e){super("w:name"),this.root.push(new sD({val:e}))}}class $Y extends pe{constructor(e){super("w:uiPriority"),this.root.push(new sD({val:Dr(e)}))}}class HY extends je{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class oD extends pe{constructor(e,r){super("w:style"),this.root.push(new HY(e)),r.name&&this.root.push(new VY(r.name)),r.basedOn&&this.root.push(new Ba("w:basedOn",r.basedOn)),r.next&&this.root.push(new Ba("w:next",r.next)),r.link&&this.root.push(new Ba("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new $Y(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new me("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new me("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new me("w:qFormat",r.quickFormat))}}class Dp extends oD{constructor(e){super({type:"paragraph",styleId:e.id},e),fe(this,"paragraphProperties"),fe(this,"runProperties"),this.paragraphProperties=new ll(e.paragraph),this.runProperties=new Do(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Lp extends oD{constructor(e){super({type:"character",styleId:e.id},Ge({uiPriority:99,unhideWhenUsed:!0},e)),fe(this,"runProperties"),this.runProperties=new Do(e.run),this.root.push(this.runProperties)}}class Rs extends Dp{constructor(e){super(Ge({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class WY extends Rs{constructor(e){super(Ge({id:"Title",name:"Title"},e))}}class qY extends Rs{constructor(e){super(Ge({id:"Heading1",name:"Heading 1"},e))}}class KY extends Rs{constructor(e){super(Ge({id:"Heading2",name:"Heading 2"},e))}}class GY extends Rs{constructor(e){super(Ge({id:"Heading3",name:"Heading 3"},e))}}class JY extends Rs{constructor(e){super(Ge({id:"Heading4",name:"Heading 4"},e))}}class XY extends Rs{constructor(e){super(Ge({id:"Heading5",name:"Heading 5"},e))}}class YY extends Rs{constructor(e){super(Ge({id:"Heading6",name:"Heading 6"},e))}}class QY extends Rs{constructor(e){super(Ge({id:"Strong",name:"Strong"},e))}}class ZY extends Dp{constructor(e){super(Ge({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class eQ extends Dp{constructor(e){super(Ge({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:dw.AUTO}},run:{size:20}},e))}}class tQ extends Lp{constructor(e){super(Ge({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class rQ extends Lp{constructor(e){super(Ge({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class nQ extends Lp{constructor(e){super(Ge({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:eD.SINGLE}}},e))}}class fw extends pe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new Dp(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new Lp(r))}}class iQ extends pe{constructor(e){super("w:pPrDefault"),this.root.push(new ll(e))}}class sQ extends pe{constructor(e){super("w:rPrDefault"),this.root.push(new Do(e))}}class oQ extends pe{constructor(e){super("w:docDefaults"),fe(this,"runPropertiesDefaults"),fe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new sQ(e.run),this.paragraphPropertiesDefaults=new iQ(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class aQ{newInstance(e){const r=KM.xml2js(e,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new fw({initialStyles:new QG(n.attributes),importedStyles:i.map(o=>Gb(o))})}}class WC{newInstance(e={}){var r;return{initialStyles:new Mp(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new oQ((r=e.document)!=null?r:{}),new WY(Ge({run:{size:56}},e.title)),new qY(Ge({run:{color:"2E74B5",size:32}},e.heading1)),new KY(Ge({run:{color:"2E74B5",size:26}},e.heading2)),new GY(Ge({run:{color:"1F4D78",size:24}},e.heading3)),new JY(Ge({run:{color:"2E74B5",italics:!0}},e.heading4)),new XY(Ge({run:{color:"2E74B5"}},e.heading5)),new YY(Ge({run:{color:"1F4D78"}},e.heading6)),new QY(Ge({run:{bold:!0}},e.strong)),new ZY(e.listParagraph||{}),new nQ(e.hyperlink||{}),new tQ(e.footnoteReference||{}),new eQ(e.footnoteText||{}),new rQ(e.footnoteTextChar||{})]}}}class lQ{constructor(e){fe(this,"currentRelationshipId",1),fe(this,"documentWrapper"),fe(this,"headers",[]),fe(this,"footers",[]),fe(this,"coreProperties"),fe(this,"numbering"),fe(this,"media"),fe(this,"fileRelationships"),fe(this,"footnotesWrapper"),fe(this,"settings"),fe(this,"contentTypes"),fe(this,"customProperties"),fe(this,"appProperties"),fe(this,"styles"),fe(this,"comments"),fe(this,"fontWrapper");var r,n,i,s,o,a,l,u,c,d,h,f;if(this.coreProperties=new qX(nl(Ge({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new LY(e.numbering?e.numbering:{config:[]}),this.comments=new XJ((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Lo,this.customProperties=new QX((o=e.customProperties)!=null?o:[]),this.appProperties=new zX,this.footnotesWrapper=new mY,this.contentTypes=new WX,this.documentWrapper=new iD({background:e.background}),this.settings=new zY({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(a=e.features)==null?void 0:a.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(c=e.hyphenation)==null?void 0:c.hyphenationZone,consecutiveHyphenLimit:(d=e.hyphenation)==null?void 0:d.consecutiveHyphenLimit,doNotHyphenateCaps:(h=e.hyphenation)==null?void 0:h.doNotHyphenateCaps}}),this.media=new wY,e.externalStyles!==void 0){const p=new aQ;this.styles=p.newInstance(e.externalStyles)}else if(e.styles){const g=new WC().newInstance(e.styles.default);this.styles=new fw(Ge(Ge({},g),e.styles))}else{const p=new WC;this.styles=new fw(p.newInstance())}this.addDefaultRelationships();for(const p of e.sections)this.addSection(p);if(e.footnotes)for(const p in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(p),e.footnotes[p].children);this.fontWrapper=new rY((f=e.fonts)!=null?f:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(nl(Ge({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const r=new vY(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new sY(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Fa.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Fa.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var uQ=Wb();function Hd(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qy={exports:{}},qC;function cQ(){return qC||(qC=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function o(u,c){if(!i[u]){if(!n[u]){var d=typeof Hd=="function"&&Hd;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[u]={exports:{}};n[u][0].call(f.exports,function(p){var g=n[u][1][p];return o(g||p)},f,f.exports,r,n,i,s)}return i[u].exports}for(var a=typeof Hd=="function"&&Hd,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,h,f,p,g,w=[],m=0,y=l.length,v=y,b=s.getTypeOf(l)!=="string";m<l.length;)v=y-m,d=b?(u=l[m++],c=m<y?l[m++]:0,m<y?l[m++]:0):(u=l.charCodeAt(m++),c=m<y?l.charCodeAt(m++):0,m<y?l.charCodeAt(m++):0),h=u>>2,f=(3&u)<<4|c>>4,p=1<v?(15&c)<<2|d>>6:64,g=2<v?63&d:64,w.push(a.charAt(h)+a.charAt(f)+a.charAt(p)+a.charAt(g));return w.join("")},i.decode=function(l){var u,c,d,h,f,p,g=0,w=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var y,v=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&v--,l.charAt(l.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|v):new Array(0|v);g<l.length;)u=a.indexOf(l.charAt(g++))<<2|(h=a.indexOf(l.charAt(g++)))>>4,c=(15&h)<<4|(f=a.indexOf(l.charAt(g++)))>>2,d=(3&f)<<6|(p=a.indexOf(l.charAt(g++))),y[w++]=u,f!==64&&(y[w++]=c),p!==64&&(y[w++]=d);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,d,h,f,p){this.compressedSize=c,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,h){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,d,h){var f=o,p=h+d;u^=-1;for(var g=h;g<p;g++)u=u>>>8^f[255&(u^c[g])];return-1^u}(0|l,a,a.length,0):function(u,c,d,h){var f=o,p=h+d;u^=-1;for(var g=h;g<p;g++)u=u>>>8^f[255&(u^c.charCodeAt(g))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(f,p){var g,w="";for(g=0;g<p;g++)w+=String.fromCharCode(255&f),f>>>=8;return w}function o(f,p,g,w,m,y){var v,b,E=f.file,N=f.compression,_=y!==u.utf8encode,I=a.transformTo("string",y(E.name)),R=a.transformTo("string",u.utf8encode(E.name)),F=E.comment,ne=a.transformTo("string",y(F)),M=a.transformTo("string",u.utf8encode(F)),U=R.length!==E.name.length,C=M.length!==F.length,G="",ie="",$="",K=E.dir,Y=E.date,le={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(le.crc32=f.crc32,le.compressedSize=f.compressedSize,le.uncompressedSize=f.uncompressedSize);var q=0;p&&(q|=8),_||!U&&!C||(q|=2048);var D=0,Q=0;K&&(D|=16),m==="UNIX"?(Q=798,D|=function(ae,J){var O=ae;return ae||(O=J?16893:33204),(65535&O)<<16}(E.unixPermissions,K)):(Q=20,D|=function(ae){return 63&(ae||0)}(E.dosPermissions)),v=Y.getUTCHours(),v<<=6,v|=Y.getUTCMinutes(),v<<=5,v|=Y.getUTCSeconds()/2,b=Y.getUTCFullYear()-1980,b<<=4,b|=Y.getUTCMonth()+1,b<<=5,b|=Y.getUTCDate(),U&&(ie=s(1,1)+s(c(I),4)+R,G+="up"+s(ie.length,2)+ie),C&&($=s(1,1)+s(c(ne),4)+M,G+="uc"+s($.length,2)+$);var te="";return te+=`
\0`,te+=s(q,2),te+=N.magic,te+=s(v,2),te+=s(b,2),te+=s(le.crc32,4),te+=s(le.compressedSize,4),te+=s(le.uncompressedSize,4),te+=s(I.length,2),te+=s(G.length,2),{fileRecord:d.LOCAL_FILE_HEADER+te+I+G,dirRecord:d.CENTRAL_FILE_HEADER+s(Q,2)+te+s(ne.length,2)+"\0\0\0\0"+s(D,4)+s(w,4)+I+G+ne}}var a=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),d=r("../signature");function h(f,p,g,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=w,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(f){var p=f.meta.percent||0,g=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-w-1))/g:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var g=o(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,g=o(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(w){return d.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-f,w=function(m,y,v,b,E){var N=a.transformTo("string",E(b));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(y,4)+s(v,4)+s(N.length,2)+N}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(g){p.processChunk(g)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(g){p.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var g=0;g<p.length;g++)try{p[g].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(h,f){d++;var p=function(y,v){var b=y||v,E=s[b];if(!E)throw new Error(b+" is not a valid compression method !");return E}(f.options.compression,l.compression),g=f.options.compressionOptions||l.compressionOptions||{},w=f.dir,m=f.date;f._compressWorker(p,g).withStreamInfo("file",{name:h,dir:w,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function d(h){return new o.Promise(function(f,p){var g=h.decompressed.getContentWorker().pipe(new u);g.on("error",function(w){p(w)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(h,f){var p=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(g){var w=new l(f);return w.load(g),w}).then(function(g){var w=[o.Promise.resolve(g)],m=g.files;if(f.checkCRC32)for(var y=0;y<m.length;y++)w.push(d(m[y]));return o.Promise.all(w)}).then(function(g){for(var w=g.shift(),m=w.files,y=0;y<m.length;y++){var v=m[y],b=v.fileNameStr,E=s.resolve(v.fileNameStr);p.file(E,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:f.createFolders}),v.dir||(p.file(E).unsafeOriginalName=b)}return w.zipComment.length&&(p.comment=w.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(d,h){c.push(d)||c._helper.pause(),u&&u(h)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(E,N,_){var I,R=a.getTypeOf(N),F=a.extend(_||{},c);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(E=m(E)),F.createFolders&&(I=w(E))&&y.call(this,I,!0);var ne=R==="string"&&F.binary===!1&&F.base64===!1;_&&_.binary!==void 0||(F.binary=!ne),(N instanceof d&&N.uncompressedSize===0||F.dir||!N||N.length===0)&&(F.base64=!1,F.binary=!0,N="",F.compression="STORE",R="string");var M=null;M=N instanceof d||N instanceof l?N:p.isNode&&p.isStream(N)?new g(E,N):a.prepareContent(E,N,F.binary,F.optimizedBinaryString,F.base64);var U=new h(E,M,F);this.files[E]=U}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),d=r("./compressedObject"),h=r("./zipObject"),f=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),w=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var N=E.lastIndexOf("/");return 0<N?E.substring(0,N):""},m=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},y=function(E,N){return N=N!==void 0?N:c.createFolders,E=m(E),this.files[E]||s.call(this,E,null,{dir:!0,createFolders:N}),this.files[E]};function v(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var N,_,I;for(N in this.files)I=this.files[N],(_=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&E(_,I)},filter:function(E){var N=[];return this.forEach(function(_,I){E(_,I)&&N.push(I)}),N},file:function(E,N,_){if(arguments.length!==1)return E=this.root+E,s.call(this,E,N,_),this;if(v(E)){var I=E;return this.filter(function(F,ne){return!ne.dir&&I.test(F)})}var R=this.files[this.root+E];return R&&!R.dir?R:null},folder:function(E){if(!E)return this;if(v(E))return this.filter(function(R,F){return F.dir&&E.test(R)});var N=this.root+E,_=y.call(this,N),I=this.clone();return I.root=_.name,I},remove:function(E){E=this.root+E;var N=this.files[E];if(N||(E.slice(-1)!=="/"&&(E+="/"),N=this.files[E]),N&&!N.dir)delete this.files[E];else for(var _=this.filter(function(R,F){return F.name.slice(0,E.length)===E}),I=0;I<_.length;I++)delete this.files[_[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var N,_={};try{if((_=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");a.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var I=_.comment||this.comment||"";N=f.generateWorker(this,_,I)}catch(R){(N=new l("error")).error(R)}return new u(N,_.type||"string",_.mimeType)},generateAsync:function(E,N){return this.generateInternalStream(E).accumulate(N)},generateNodeStream:function(E,N){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(N)}};n.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===c&&this.data[h+3]===d)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&c===h[2]&&d===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(d){var h=s.getTypeOf(d);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(d):o.uint8array?new c(s.transformTo("uint8array",d)):new a(s.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),d=null;if(u.nodestream)try{d=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,g){return new c.Promise(function(w,m){var y=[],v=p._internalType,b=p._outputType,E=p._mimeType;p.on("data",function(N,_){y.push(N),g&&g(_)}).on("error",function(N){y=[],m(N)}).on("end",function(){try{var N=function(_,I,R){switch(_){case"blob":return s.newBlob(s.transformTo("arraybuffer",I),R);case"base64":return l.encode(I);default:return s.transformTo(_,I)}}(b,function(_,I){var R,F=0,ne=null,M=0;for(R=0;R<I.length;R++)M+=I[R].length;switch(_){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(ne=new Uint8Array(M),R=0;R<I.length;R++)ne.set(I[R],F),F+=I[R].length;return ne;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+_+"'")}}(v,y),E);w(N)}catch(_){m(_)}y=[]}).resume()})}function f(p,g,w){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=w,s.checkSupport(m),this._worker=p.pipe(new o(m)),p.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}f.prototype={accumulate:function(p){return h(this,p)},on:function(p,g){var w=this;return p==="data"?this._worker.on(p,function(m){g.call(w,m.data,m.meta)}):this._worker.on(p,function(){s.delay(g,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(p){var g,w,m,y,v,b=p.length,E=0;for(y=0;y<b;y++)(64512&(w=p.charCodeAt(y)))==55296&&y+1<b&&(64512&(m=p.charCodeAt(y+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),y++),E+=w<128?1:w<2048?2:w<65536?3:4;for(g=o.uint8array?new Uint8Array(E):new Array(E),y=v=0;v<E;y++)(64512&(w=p.charCodeAt(y)))==55296&&y+1<b&&(64512&(m=p.charCodeAt(y+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),y++),w<128?g[v++]=w:(w<2048?g[v++]=192|w>>>6:(w<65536?g[v++]=224|w>>>12:(g[v++]=240|w>>>18,g[v++]=128|w>>>12&63),g[v++]=128|w>>>6&63),g[v++]=128|63&w);return g}(f)},i.utf8decode=function(f){return o.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(p){var g,w,m,y,v=p.length,b=new Array(2*v);for(g=w=0;g<v;)if((m=p[g++])<128)b[w++]=m;else if(4<(y=u[m]))b[w++]=65533,g+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&g<v;)m=m<<6|63&p[g++],y--;1<y?b[w++]=65533:m<65536?b[w++]=m:(m-=65536,b[w++]=55296|m>>10&1023,b[w++]=56320|1023&m)}return b.length!==w&&(b.subarray?b=b.subarray(0,w):b.length=w),s.applyFromCharCode(b)}(f=s.transformTo(o.uint8array?"uint8array":"array",f))},s.inherits(d,l),d.prototype.processChunk=function(f){var p=s.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var w=function(y,v){var b;for((v=v||y.length)>y.length&&(v=y.length),b=v-1;0<=b&&(192&y[b])==128;)b--;return b<0||b===0?v:b+u[y[b]]>v?b:v}(p),m=p;w!==p.length&&(o.uint8array?(m=p.subarray(0,w),this.leftOver=p.subarray(w,p.length)):(m=p.slice(0,w),this.leftOver=p.slice(w,p.length))),this.push({data:i.utf8decode(m),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function u(g){return g}function c(g,w){for(var m=0;m<g.length;++m)w[m]=255&g.charCodeAt(m);return w}r("setimmediate"),i.newBlob=function(g,w){i.checkSupport("blob");try{return new Blob([g],{type:w})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(g,w,m){var y=[],v=0,b=g.length;if(b<=m)return String.fromCharCode.apply(null,g);for(;v<b;)w==="array"||w==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(v,Math.min(v+m,b)))):y.push(String.fromCharCode.apply(null,g.subarray(v,Math.min(v+m,b)))),v+=m;return y.join("")},stringifyByChar:function(g){for(var w="",m=0;m<g.length;m++)w+=String.fromCharCode(g[m]);return w},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var w=65536,m=i.getTypeOf(g),y=!0;if(m==="uint8array"?y=d.applyCanBeUsed.uint8array:m==="nodebuffer"&&(y=d.applyCanBeUsed.nodebuffer),y)for(;1<w;)try{return d.stringifyByChunk(g,m,w)}catch{w=Math.floor(w/2)}return d.stringifyByChar(g)}function f(g,w){for(var m=0;m<g.length;m++)w[m]=g[m];return w}i.applyFromCharCode=h;var p={};p.string={string:u,array:function(g){return c(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return c(g,new Uint8Array(g.length))},nodebuffer:function(g){return c(g,a.allocBuffer(g.length))}},p.array={string:h,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},p.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return a.newBufferFrom(g)}},p.nodebuffer={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,w){if(w=w||"",!g)return w;i.checkSupport(g);var m=i.getTypeOf(w);return p[m][g](w)},i.resolve=function(g){for(var w=g.split("/"),m=[],y=0;y<w.length;y++){var v=w[y];v==="."||v===""&&y!==0&&y!==w.length-1||(v===".."?m.pop():m.push(v))}return m.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var w,m,y="";for(m=0;m<(g||"").length;m++)y+="\\x"+((w=g.charCodeAt(m))<16?"0":"")+w.toString(16).toUpperCase();return y},i.delay=function(g,w,m){setImmediate(function(){g.apply(m||null,w||[])})},i.inherits=function(g,w){function m(){}m.prototype=w.prototype,g.prototype=new m},i.extend=function(){var g,w,m={};for(g=0;g<arguments.length;g++)for(w in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],w)&&m[w]===void 0&&(m[w]=arguments[g][w]);return m},i.prepareContent=function(g,w,m,y,v){return l.Promise.resolve(w).then(function(b){return s.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,N){var _=new FileReader;_.onload=function(I){E(I.target.result)},_.onerror=function(I){N(I.target.error)},_.readAsArrayBuffer(b)}):b}).then(function(b){var E=i.getTypeOf(b);return E?(E==="arraybuffer"?b=i.transformTo("uint8array",b):E==="string"&&(v?b=o.decode(b):m&&y!==!0&&(b=function(N){return c(N,s.uint8array?new Uint8Array(N.length):new Array(N.length))}(b))),b):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===h;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",f=o.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=h-f;if(0<p)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),d=r("./support");function h(f,p){this.options=f,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(w){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===w)return c[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,g,w,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)p=f.readInt(2),g=f.readInt(2),w=f.readData(g),this.extraFields[p]={id:p,length:g,value:w};f.setIndex(m)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var m=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=s(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=s(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(p,g,w){this.name=p,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=g,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,w="string";try{if(!p)throw new Error("No output type specified.");var m=(w=p.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&m&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(v){(g=new c("error")).error(v)}return new o(g,w,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(w,p,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)s.prototype[d[f]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(p),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),o=function(){d.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var h=new s.MessageChannel;h.port1.onmessage=p,o=function(){h.port2.postMessage(0)}}var f=[];function p(){var g,w;a=!0;for(var m=f.length;m;){for(w=f,f=[],g=-1;++g<m;)w[g]();m=f.length}a=!1}n.exports=function(g){f.push(g)!==1||a||o()}}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==o&&g(this,m)}function h(m,y,v){this.promise=m,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function f(m,y,v){s(function(){var b;try{b=y(v)}catch(E){return a.reject(m,E)}b===m?a.reject(m,new TypeError("Cannot resolve promise with itself")):a.resolve(m,b)})}function p(m){var y=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof y=="function")return function(){y.apply(m,arguments)}}function g(m,y){var v=!1;function b(_){v||(v=!0,a.reject(m,_))}function E(_){v||(v=!0,a.resolve(m,_))}var N=w(function(){y(E,b)});N.status==="error"&&b(N.value)}function w(m,y){var v={};try{v.value=m(y),v.status="success"}catch(b){v.status="error",v.value=b}return v}(n.exports=d).prototype.finally=function(m){if(typeof m!="function")return this;var y=this.constructor;return this.then(function(v){return y.resolve(m()).then(function(){return v})},function(v){return y.resolve(m()).then(function(){throw v})})},d.prototype.catch=function(m){return this.then(null,m)},d.prototype.then=function(m,y){if(typeof m!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var v=new this.constructor(o);return this.state!==c?f(v,this.state===u?m:y,this.outcome):this.queue.push(new h(v,m,y)),v},h.prototype.callFulfilled=function(m){a.resolve(this.promise,m)},h.prototype.otherCallFulfilled=function(m){f(this.promise,this.onFulfilled,m)},h.prototype.callRejected=function(m){a.reject(this.promise,m)},h.prototype.otherCallRejected=function(m){f(this.promise,this.onRejected,m)},a.resolve=function(m,y){var v=w(p,y);if(v.status==="error")return a.reject(m,v.value);var b=v.value;if(b)g(m,b);else{m.state=u,m.outcome=y;for(var E=-1,N=m.queue.length;++E<N;)m.queue[E].callFulfilled(y)}return m},a.reject=function(m,y){m.state=l,m.outcome=y;for(var v=-1,b=m.queue.length;++v<b;)m.queue[v].callRejected(y);return m},d.resolve=function(m){return m instanceof this?m:a.resolve(new this(o),m)},d.reject=function(m){var y=new this(o);return a.reject(y,m)},d.all=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=m.length,b=!1;if(!v)return this.resolve([]);for(var E=new Array(v),N=0,_=-1,I=new this(o);++_<v;)R(m[_],_);return I;function R(F,ne){y.resolve(F).then(function(M){E[ne]=M,++N!==v||b||(b=!0,a.resolve(I,E))},function(M){b||(b=!0,a.reject(I,M))})}},d.race=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=m.length,b=!1;if(!v)return this.resolve([]);for(var E=-1,N=new this(o);++E<v;)_=m[E],y.resolve(_).then(function(I){b||(b=!0,a.resolve(N,I))},function(I){b||(b=!0,a.reject(N,I))});var _;return N}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,d=0,h=-1,f=0,p=8;function g(m){if(!(this instanceof g))return new g(m);this.options=o.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},m||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(v!==d)throw new Error(l[v]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(b=typeof y.dictionary=="string"?a.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(v=s.deflateSetDictionary(this.strm,b))!==d)throw new Error(l[v]);this._dict_set=!0}}function w(m,y){var v=new g(y);if(v.push(m,!0),v.err)throw v.msg||l[v.err];return v.result}g.prototype.push=function(m,y){var v,b,E=this.strm,N=this.options.chunkSize;if(this.ended)return!1;b=y===~~y?y:y===!0?4:0,typeof m=="string"?E.input=a.string2buf(m):c.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(N),E.next_out=0,E.avail_out=N),(v=s.deflate(E,b))!==1&&v!==d)return this.onEnd(v),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(E.output,E.next_out))):this.onData(o.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&v!==1);return b===4?(v=s.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===d):b!==2||(this.onEnd(d),!(E.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=g,i.deflate=w,i.deflateRaw=function(m,y){return(y=y||{}).raw=!0,w(m,y)},i.gzip=function(m,y){return(y=y||{}).gzip=!0,w(m,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),d=r("./zlib/gzheader"),h=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||g&&g.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,w.windowBits);if(m!==l.Z_OK)throw new Error(u[m]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function p(g,w){var m=new f(w);if(m.push(g,!0),m.err)throw m.msg||u[m.err];return m.result}f.prototype.push=function(g,w){var m,y,v,b,E,N,_=this.strm,I=this.options.chunkSize,R=this.options.dictionary,F=!1;if(this.ended)return!1;y=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?_.input=a.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(I),_.next_out=0,_.avail_out=I),(m=s.inflate(_,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(N=typeof R=="string"?a.string2buf(R):h.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,m=s.inflateSetDictionary(this.strm,N)),m===l.Z_BUF_ERROR&&F===!0&&(m=l.Z_OK,F=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&m!==l.Z_STREAM_END&&(_.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(_.output,_.next_out),b=_.next_out-v,E=a.buf2string(_.output,v),_.next_out=b,_.avail_out=I-b,b&&o.arraySet(_.output,_.output,v,b,0),this.onData(E)):this.onData(o.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(F=!0)}while((0<_.avail_in||_.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(_.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=f,i.inflate=p,i.inflateRaw=function(g,w){return(w=w||{}).raw=!0,p(g,w)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,d,h){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),h);else for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){var u,c,d,h,f,p;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(p=new Uint8Array(d),u=h=0,c=l.length;u<c;u++)f=l[u],p.set(f,h),h+=f.length;return p}},a={arraySet:function(l,u,c,d,h){for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,h){if(h<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(d,h));for(var f="",p=0;p<h;p++)f+=String.fromCharCode(d[p]);return f}l[254]=l[254]=1,i.string2buf=function(d){var h,f,p,g,w,m=d.length,y=0;for(g=0;g<m;g++)(64512&(f=d.charCodeAt(g)))==55296&&g+1<m&&(64512&(p=d.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),y+=f<128?1:f<2048?2:f<65536?3:4;for(h=new s.Buf8(y),g=w=0;w<y;g++)(64512&(f=d.charCodeAt(g)))==55296&&g+1<m&&(64512&(p=d.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),f<128?h[w++]=f:(f<2048?h[w++]=192|f>>>6:(f<65536?h[w++]=224|f>>>12:(h[w++]=240|f>>>18,h[w++]=128|f>>>12&63),h[w++]=128|f>>>6&63),h[w++]=128|63&f);return h},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var h=new s.Buf8(d.length),f=0,p=h.length;f<p;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,p,g,w,m=h||d.length,y=new Array(2*m);for(f=p=0;f<m;)if((g=d[f++])<128)y[p++]=g;else if(4<(w=l[g]))y[p++]=65533,f+=w-1;else{for(g&=w===2?31:w===3?15:7;1<w&&f<m;)g=g<<6|63&d[f++],w--;1<w?y[p++]=65533:g<65536?y[p++]=g:(g-=65536,y[p++]=55296|g>>10&1023,y[p++]=56320|1023&g)}return c(y,p)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var c=s,d=u+l;o^=-1;for(var h=u;h<d;h++)o=o>>>8^c[255&(o^a[h])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),d=0,h=4,f=0,p=-2,g=-1,w=4,m=2,y=8,v=9,b=286,E=30,N=19,_=2*b+1,I=15,R=3,F=258,ne=F+R+1,M=42,U=113,C=1,G=2,ie=3,$=4;function K(k,oe){return k.msg=c[oe],oe}function Y(k){return(k<<1)-(4<k?9:0)}function le(k){for(var oe=k.length;0<=--oe;)k[oe]=0}function q(k){var oe=k.state,P=oe.pending;P>k.avail_out&&(P=k.avail_out),P!==0&&(o.arraySet(k.output,oe.pending_buf,oe.pending_out,P,k.next_out),k.next_out+=P,oe.pending_out+=P,k.total_out+=P,k.avail_out-=P,oe.pending-=P,oe.pending===0&&(oe.pending_out=0))}function D(k,oe){a._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,oe),k.block_start=k.strstart,q(k.strm)}function Q(k,oe){k.pending_buf[k.pending++]=oe}function te(k,oe){k.pending_buf[k.pending++]=oe>>>8&255,k.pending_buf[k.pending++]=255&oe}function ae(k,oe){var P,S,x=k.max_chain_length,T=k.strstart,z=k.prev_length,X=k.nice_match,H=k.strstart>k.w_size-ne?k.strstart-(k.w_size-ne):0,ce=k.window,he=k.w_mask,de=k.prev,be=k.strstart+F,ke=ce[T+z-1],Ne=ce[T+z];k.prev_length>=k.good_match&&(x>>=2),X>k.lookahead&&(X=k.lookahead);do if(ce[(P=oe)+z]===Ne&&ce[P+z-1]===ke&&ce[P]===ce[T]&&ce[++P]===ce[T+1]){T+=2,P++;do;while(ce[++T]===ce[++P]&&ce[++T]===ce[++P]&&ce[++T]===ce[++P]&&ce[++T]===ce[++P]&&ce[++T]===ce[++P]&&ce[++T]===ce[++P]&&ce[++T]===ce[++P]&&ce[++T]===ce[++P]&&T<be);if(S=F-(be-T),T=be-F,z<S){if(k.match_start=oe,X<=(z=S))break;ke=ce[T+z-1],Ne=ce[T+z]}}while((oe=de[oe&he])>H&&--x!=0);return z<=k.lookahead?z:k.lookahead}function J(k){var oe,P,S,x,T,z,X,H,ce,he,de=k.w_size;do{if(x=k.window_size-k.lookahead-k.strstart,k.strstart>=de+(de-ne)){for(o.arraySet(k.window,k.window,de,de,0),k.match_start-=de,k.strstart-=de,k.block_start-=de,oe=P=k.hash_size;S=k.head[--oe],k.head[oe]=de<=S?S-de:0,--P;);for(oe=P=de;S=k.prev[--oe],k.prev[oe]=de<=S?S-de:0,--P;);x+=de}if(k.strm.avail_in===0)break;if(z=k.strm,X=k.window,H=k.strstart+k.lookahead,ce=x,he=void 0,he=z.avail_in,ce<he&&(he=ce),P=he===0?0:(z.avail_in-=he,o.arraySet(X,z.input,z.next_in,he,H),z.state.wrap===1?z.adler=l(z.adler,X,he,H):z.state.wrap===2&&(z.adler=u(z.adler,X,he,H)),z.next_in+=he,z.total_in+=he,he),k.lookahead+=P,k.lookahead+k.insert>=R)for(T=k.strstart-k.insert,k.ins_h=k.window[T],k.ins_h=(k.ins_h<<k.hash_shift^k.window[T+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[T+R-1])&k.hash_mask,k.prev[T&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=T,T++,k.insert--,!(k.lookahead+k.insert<R)););}while(k.lookahead<ne&&k.strm.avail_in!==0)}function O(k,oe){for(var P,S;;){if(k.lookahead<ne){if(J(k),k.lookahead<ne&&oe===d)return C;if(k.lookahead===0)break}if(P=0,k.lookahead>=R&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,P=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),P!==0&&k.strstart-P<=k.w_size-ne&&(k.match_length=ae(k,P)),k.match_length>=R)if(S=a._tr_tally(k,k.strstart-k.match_start,k.match_length-R),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=R){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,P=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else S=a._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(S&&(D(k,!1),k.strm.avail_out===0))return C}return k.insert=k.strstart<R-1?k.strstart:R-1,oe===h?(D(k,!0),k.strm.avail_out===0?ie:$):k.last_lit&&(D(k,!1),k.strm.avail_out===0)?C:G}function A(k,oe){for(var P,S,x;;){if(k.lookahead<ne){if(J(k),k.lookahead<ne&&oe===d)return C;if(k.lookahead===0)break}if(P=0,k.lookahead>=R&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,P=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=R-1,P!==0&&k.prev_length<k.max_lazy_match&&k.strstart-P<=k.w_size-ne&&(k.match_length=ae(k,P),k.match_length<=5&&(k.strategy===1||k.match_length===R&&4096<k.strstart-k.match_start)&&(k.match_length=R-1)),k.prev_length>=R&&k.match_length<=k.prev_length){for(x=k.strstart+k.lookahead-R,S=a._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-R),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=x&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,P=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=R-1,k.strstart++,S&&(D(k,!1),k.strm.avail_out===0))return C}else if(k.match_available){if((S=a._tr_tally(k,0,k.window[k.strstart-1]))&&D(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return C}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(S=a._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<R-1?k.strstart:R-1,oe===h?(D(k,!0),k.strm.avail_out===0?ie:$):k.last_lit&&(D(k,!1),k.strm.avail_out===0)?C:G}function W(k,oe,P,S,x){this.good_length=k,this.max_lazy=oe,this.nice_length=P,this.max_chain=S,this.func=x}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*_),this.dyn_dtree=new o.Buf16(2*(2*E+1)),this.bl_tree=new o.Buf16(2*(2*N+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(I+1),this.heap=new o.Buf16(2*b+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*b+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(k){var oe;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=m,(oe=k.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?M:U,k.adler=oe.wrap===2?0:1,oe.last_flush=d,a._tr_init(oe),f):K(k,p)}function j(k){var oe=L(k);return oe===f&&function(P){P.window_size=2*P.w_size,le(P.head),P.max_lazy_match=s[P.level].max_lazy,P.good_match=s[P.level].good_length,P.nice_match=s[P.level].nice_length,P.max_chain_length=s[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=R-1,P.match_available=0,P.ins_h=0}(k.state),oe}function re(k,oe,P,S,x,T){if(!k)return p;var z=1;if(oe===g&&(oe=6),S<0?(z=0,S=-S):15<S&&(z=2,S-=16),x<1||v<x||P!==y||S<8||15<S||oe<0||9<oe||T<0||w<T)return K(k,p);S===8&&(S=9);var X=new V;return(k.state=X).strm=k,X.wrap=z,X.gzhead=null,X.w_bits=S,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=x+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+R-1)/R),X.window=new o.Buf8(2*X.w_size),X.head=new o.Buf16(X.hash_size),X.prev=new o.Buf16(X.w_size),X.lit_bufsize=1<<x+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new o.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=oe,X.strategy=T,X.method=P,j(k)}s=[new W(0,0,0,0,function(k,oe){var P=65535;for(P>k.pending_buf_size-5&&(P=k.pending_buf_size-5);;){if(k.lookahead<=1){if(J(k),k.lookahead===0&&oe===d)return C;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var S=k.block_start+P;if((k.strstart===0||k.strstart>=S)&&(k.lookahead=k.strstart-S,k.strstart=S,D(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-ne&&(D(k,!1),k.strm.avail_out===0))return C}return k.insert=0,oe===h?(D(k,!0),k.strm.avail_out===0?ie:$):(k.strstart>k.block_start&&(D(k,!1),k.strm.avail_out),C)}),new W(4,4,8,4,O),new W(4,5,16,8,O),new W(4,6,32,32,O),new W(4,4,16,16,A),new W(8,16,32,32,A),new W(8,16,128,128,A),new W(8,32,128,256,A),new W(32,128,258,1024,A),new W(32,258,258,4096,A)],i.deflateInit=function(k,oe){return re(k,oe,y,15,8,0)},i.deflateInit2=re,i.deflateReset=j,i.deflateResetKeep=L,i.deflateSetHeader=function(k,oe){return k&&k.state?k.state.wrap!==2?p:(k.state.gzhead=oe,f):p},i.deflate=function(k,oe){var P,S,x,T;if(!k||!k.state||5<oe||oe<0)return k?K(k,p):p;if(S=k.state,!k.output||!k.input&&k.avail_in!==0||S.status===666&&oe!==h)return K(k,k.avail_out===0?-5:p);if(S.strm=k,P=S.last_flush,S.last_flush=oe,S.status===M)if(S.wrap===2)k.adler=0,Q(S,31),Q(S,139),Q(S,8),S.gzhead?(Q(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),Q(S,255&S.gzhead.time),Q(S,S.gzhead.time>>8&255),Q(S,S.gzhead.time>>16&255),Q(S,S.gzhead.time>>24&255),Q(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),Q(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(Q(S,255&S.gzhead.extra.length),Q(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(k.adler=u(k.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(Q(S,0),Q(S,0),Q(S,0),Q(S,0),Q(S,0),Q(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),Q(S,3),S.status=U);else{var z=y+(S.w_bits-8<<4)<<8;z|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(z|=32),z+=31-z%31,S.status=U,te(S,z),S.strstart!==0&&(te(S,k.adler>>>16),te(S,65535&k.adler)),k.adler=1}if(S.status===69)if(S.gzhead.extra){for(x=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>x&&(k.adler=u(k.adler,S.pending_buf,S.pending-x,x)),q(k),x=S.pending,S.pending!==S.pending_buf_size));)Q(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>x&&(k.adler=u(k.adler,S.pending_buf,S.pending-x,x)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){x=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>x&&(k.adler=u(k.adler,S.pending_buf,S.pending-x,x)),q(k),x=S.pending,S.pending===S.pending_buf_size)){T=1;break}T=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,Q(S,T)}while(T!==0);S.gzhead.hcrc&&S.pending>x&&(k.adler=u(k.adler,S.pending_buf,S.pending-x,x)),T===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){x=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>x&&(k.adler=u(k.adler,S.pending_buf,S.pending-x,x)),q(k),x=S.pending,S.pending===S.pending_buf_size)){T=1;break}T=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,Q(S,T)}while(T!==0);S.gzhead.hcrc&&S.pending>x&&(k.adler=u(k.adler,S.pending_buf,S.pending-x,x)),T===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&q(k),S.pending+2<=S.pending_buf_size&&(Q(S,255&k.adler),Q(S,k.adler>>8&255),k.adler=0,S.status=U)):S.status=U),S.pending!==0){if(q(k),k.avail_out===0)return S.last_flush=-1,f}else if(k.avail_in===0&&Y(oe)<=Y(P)&&oe!==h)return K(k,-5);if(S.status===666&&k.avail_in!==0)return K(k,-5);if(k.avail_in!==0||S.lookahead!==0||oe!==d&&S.status!==666){var X=S.strategy===2?function(H,ce){for(var he;;){if(H.lookahead===0&&(J(H),H.lookahead===0)){if(ce===d)return C;break}if(H.match_length=0,he=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,he&&(D(H,!1),H.strm.avail_out===0))return C}return H.insert=0,ce===h?(D(H,!0),H.strm.avail_out===0?ie:$):H.last_lit&&(D(H,!1),H.strm.avail_out===0)?C:G}(S,oe):S.strategy===3?function(H,ce){for(var he,de,be,ke,Ne=H.window;;){if(H.lookahead<=F){if(J(H),H.lookahead<=F&&ce===d)return C;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=R&&0<H.strstart&&(de=Ne[be=H.strstart-1])===Ne[++be]&&de===Ne[++be]&&de===Ne[++be]){ke=H.strstart+F;do;while(de===Ne[++be]&&de===Ne[++be]&&de===Ne[++be]&&de===Ne[++be]&&de===Ne[++be]&&de===Ne[++be]&&de===Ne[++be]&&de===Ne[++be]&&be<ke);H.match_length=F-(ke-be),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=R?(he=a._tr_tally(H,1,H.match_length-R),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(he=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),he&&(D(H,!1),H.strm.avail_out===0))return C}return H.insert=0,ce===h?(D(H,!0),H.strm.avail_out===0?ie:$):H.last_lit&&(D(H,!1),H.strm.avail_out===0)?C:G}(S,oe):s[S.level].func(S,oe);if(X!==ie&&X!==$||(S.status=666),X===C||X===ie)return k.avail_out===0&&(S.last_flush=-1),f;if(X===G&&(oe===1?a._tr_align(S):oe!==5&&(a._tr_stored_block(S,0,0,!1),oe===3&&(le(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),q(k),k.avail_out===0))return S.last_flush=-1,f}return oe!==h?f:S.wrap<=0?1:(S.wrap===2?(Q(S,255&k.adler),Q(S,k.adler>>8&255),Q(S,k.adler>>16&255),Q(S,k.adler>>24&255),Q(S,255&k.total_in),Q(S,k.total_in>>8&255),Q(S,k.total_in>>16&255),Q(S,k.total_in>>24&255)):(te(S,k.adler>>>16),te(S,65535&k.adler)),q(k),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?f:1)},i.deflateEnd=function(k){var oe;return k&&k.state?(oe=k.state.status)!==M&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==U&&oe!==666?K(k,p):(k.state=null,oe===U?K(k,-3):f):p},i.deflateSetDictionary=function(k,oe){var P,S,x,T,z,X,H,ce,he=oe.length;if(!k||!k.state||(T=(P=k.state).wrap)===2||T===1&&P.status!==M||P.lookahead)return p;for(T===1&&(k.adler=l(k.adler,oe,he,0)),P.wrap=0,he>=P.w_size&&(T===0&&(le(P.head),P.strstart=0,P.block_start=0,P.insert=0),ce=new o.Buf8(P.w_size),o.arraySet(ce,oe,he-P.w_size,P.w_size,0),oe=ce,he=P.w_size),z=k.avail_in,X=k.next_in,H=k.input,k.avail_in=he,k.next_in=0,k.input=oe,J(P);P.lookahead>=R;){for(S=P.strstart,x=P.lookahead-(R-1);P.ins_h=(P.ins_h<<P.hash_shift^P.window[S+R-1])&P.hash_mask,P.prev[S&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=S,S++,--x;);P.strstart=S,P.lookahead=R-1,J(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=R-1,P.match_available=0,k.next_in=X,k.input=H,k.avail_in=z,P.wrap=T,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var a,l,u,c,d,h,f,p,g,w,m,y,v,b,E,N,_,I,R,F,ne,M,U,C,G;a=s.state,l=s.next_in,C=s.input,u=l+(s.avail_in-5),c=s.next_out,G=s.output,d=c-(o-s.avail_out),h=c+(s.avail_out-257),f=a.dmax,p=a.wsize,g=a.whave,w=a.wnext,m=a.window,y=a.hold,v=a.bits,b=a.lencode,E=a.distcode,N=(1<<a.lenbits)-1,_=(1<<a.distbits)-1;e:do{v<15&&(y+=C[l++]<<v,v+=8,y+=C[l++]<<v,v+=8),I=b[y&N];t:for(;;){if(y>>>=R=I>>>24,v-=R,(R=I>>>16&255)===0)G[c++]=65535&I;else{if(!(16&R)){if(!(64&R)){I=b[(65535&I)+(y&(1<<R)-1)];continue t}if(32&R){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}F=65535&I,(R&=15)&&(v<R&&(y+=C[l++]<<v,v+=8),F+=y&(1<<R)-1,y>>>=R,v-=R),v<15&&(y+=C[l++]<<v,v+=8,y+=C[l++]<<v,v+=8),I=E[y&_];r:for(;;){if(y>>>=R=I>>>24,v-=R,!(16&(R=I>>>16&255))){if(!(64&R)){I=E[(65535&I)+(y&(1<<R)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(ne=65535&I,v<(R&=15)&&(y+=C[l++]<<v,(v+=8)<R&&(y+=C[l++]<<v,v+=8)),f<(ne+=y&(1<<R)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=R,v-=R,(R=c-d)<ne){if(g<(R=ne-R)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(U=m,(M=0)===w){if(M+=p-R,R<F){for(F-=R;G[c++]=m[M++],--R;);M=c-ne,U=G}}else if(w<R){if(M+=p+w-R,(R-=w)<F){for(F-=R;G[c++]=m[M++],--R;);if(M=0,w<F){for(F-=R=w;G[c++]=m[M++],--R;);M=c-ne,U=G}}}else if(M+=w-R,R<F){for(F-=R;G[c++]=m[M++],--R;);M=c-ne,U=G}for(;2<F;)G[c++]=U[M++],G[c++]=U[M++],G[c++]=U[M++],F-=3;F&&(G[c++]=U[M++],1<F&&(G[c++]=U[M++]))}else{for(M=c-ne;G[c++]=G[M++],G[c++]=G[M++],G[c++]=G[M++],2<(F-=3););F&&(G[c++]=G[M++],1<F&&(G[c++]=G[M++]))}break}}break}}while(l<u&&c<h);l-=F=v>>3,y&=(1<<(v-=F<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<h?h-c+257:257-(c-h),a.hold=y,a.bits=v}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,d=2,h=0,f=-2,p=1,g=852,w=592;function m(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(M){var U;return M&&M.state?(U=M.state,M.total_in=M.total_out=U.total=0,M.msg="",U.wrap&&(M.adler=1&U.wrap),U.mode=p,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(w),U.sane=1,U.back=-1,h):f}function b(M){var U;return M&&M.state?((U=M.state).wsize=0,U.whave=0,U.wnext=0,v(M)):f}function E(M,U){var C,G;return M&&M.state?(G=M.state,U<0?(C=0,U=-U):(C=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?f:(G.window!==null&&G.wbits!==U&&(G.window=null),G.wrap=C,G.wbits=U,b(M))):f}function N(M,U){var C,G;return M?(G=new y,(M.state=G).window=null,(C=E(M,U))!==h&&(M.state=null),C):f}var _,I,R=!0;function F(M){if(R){var U;for(_=new s.Buf32(512),I=new s.Buf32(32),U=0;U<144;)M.lens[U++]=8;for(;U<256;)M.lens[U++]=9;for(;U<280;)M.lens[U++]=7;for(;U<288;)M.lens[U++]=8;for(u(c,M.lens,0,288,_,0,M.work,{bits:9}),U=0;U<32;)M.lens[U++]=5;u(d,M.lens,0,32,I,0,M.work,{bits:5}),R=!1}M.lencode=_,M.lenbits=9,M.distcode=I,M.distbits=5}function ne(M,U,C,G){var ie,$=M.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new s.Buf8($.wsize)),G>=$.wsize?(s.arraySet($.window,U,C-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(G<(ie=$.wsize-$.wnext)&&(ie=G),s.arraySet($.window,U,C-G,ie,$.wnext),(G-=ie)?(s.arraySet($.window,U,C-G,G,0),$.wnext=G,$.whave=$.wsize):($.wnext+=ie,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=ie))),0}i.inflateReset=b,i.inflateReset2=E,i.inflateResetKeep=v,i.inflateInit=function(M){return N(M,15)},i.inflateInit2=N,i.inflate=function(M,U){var C,G,ie,$,K,Y,le,q,D,Q,te,ae,J,O,A,W,V,L,j,re,k,oe,P,S,x=0,T=new s.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return f;(C=M.state).mode===12&&(C.mode=13),K=M.next_out,ie=M.output,le=M.avail_out,$=M.next_in,G=M.input,Y=M.avail_in,q=C.hold,D=C.bits,Q=Y,te=le,oe=h;e:for(;;)switch(C.mode){case p:if(C.wrap===0){C.mode=13;break}for(;D<16;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(2&C.wrap&&q===35615){T[C.check=0]=255&q,T[1]=q>>>8&255,C.check=a(C.check,T,2,0),D=q=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&q)<<8)+(q>>8))%31){M.msg="incorrect header check",C.mode=30;break}if((15&q)!=8){M.msg="unknown compression method",C.mode=30;break}if(D-=4,k=8+(15&(q>>>=4)),C.wbits===0)C.wbits=k;else if(k>C.wbits){M.msg="invalid window size",C.mode=30;break}C.dmax=1<<k,M.adler=C.check=1,C.mode=512&q?10:12,D=q=0;break;case 2:for(;D<16;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(C.flags=q,(255&C.flags)!=8){M.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){M.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=q>>8&1),512&C.flags&&(T[0]=255&q,T[1]=q>>>8&255,C.check=a(C.check,T,2,0)),D=q=0,C.mode=3;case 3:for(;D<32;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}C.head&&(C.head.time=q),512&C.flags&&(T[0]=255&q,T[1]=q>>>8&255,T[2]=q>>>16&255,T[3]=q>>>24&255,C.check=a(C.check,T,4,0)),D=q=0,C.mode=4;case 4:for(;D<16;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}C.head&&(C.head.xflags=255&q,C.head.os=q>>8),512&C.flags&&(T[0]=255&q,T[1]=q>>>8&255,C.check=a(C.check,T,2,0)),D=q=0,C.mode=5;case 5:if(1024&C.flags){for(;D<16;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}C.length=q,C.head&&(C.head.extra_len=q),512&C.flags&&(T[0]=255&q,T[1]=q>>>8&255,C.check=a(C.check,T,2,0)),D=q=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(Y<(ae=C.length)&&(ae=Y),ae&&(C.head&&(k=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),s.arraySet(C.head.extra,G,$,ae,k)),512&C.flags&&(C.check=a(C.check,G,ae,$)),Y-=ae,$+=ae,C.length-=ae),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(Y===0)break e;for(ae=0;k=G[$+ae++],C.head&&k&&C.length<65536&&(C.head.name+=String.fromCharCode(k)),k&&ae<Y;);if(512&C.flags&&(C.check=a(C.check,G,ae,$)),Y-=ae,$+=ae,k)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(Y===0)break e;for(ae=0;k=G[$+ae++],C.head&&k&&C.length<65536&&(C.head.comment+=String.fromCharCode(k)),k&&ae<Y;);if(512&C.flags&&(C.check=a(C.check,G,ae,$)),Y-=ae,$+=ae,k)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;D<16;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(q!==(65535&C.check)){M.msg="header crc mismatch",C.mode=30;break}D=q=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),M.adler=C.check=0,C.mode=12;break;case 10:for(;D<32;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}M.adler=C.check=m(q),D=q=0,C.mode=11;case 11:if(C.havedict===0)return M.next_out=K,M.avail_out=le,M.next_in=$,M.avail_in=Y,C.hold=q,C.bits=D,2;M.adler=C.check=1,C.mode=12;case 12:if(U===5||U===6)break e;case 13:if(C.last){q>>>=7&D,D-=7&D,C.mode=27;break}for(;D<3;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}switch(C.last=1&q,D-=1,3&(q>>>=1)){case 0:C.mode=14;break;case 1:if(F(C),C.mode=20,U!==6)break;q>>>=2,D-=2;break e;case 2:C.mode=17;break;case 3:M.msg="invalid block type",C.mode=30}q>>>=2,D-=2;break;case 14:for(q>>>=7&D,D-=7&D;D<32;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if((65535&q)!=(q>>>16^65535)){M.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&q,D=q=0,C.mode=15,U===6)break e;case 15:C.mode=16;case 16:if(ae=C.length){if(Y<ae&&(ae=Y),le<ae&&(ae=le),ae===0)break e;s.arraySet(ie,G,$,ae,K),Y-=ae,$+=ae,le-=ae,K+=ae,C.length-=ae;break}C.mode=12;break;case 17:for(;D<14;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(C.nlen=257+(31&q),q>>>=5,D-=5,C.ndist=1+(31&q),q>>>=5,D-=5,C.ncode=4+(15&q),q>>>=4,D-=4,286<C.nlen||30<C.ndist){M.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;D<3;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}C.lens[z[C.have++]]=7&q,q>>>=3,D-=3}for(;C.have<19;)C.lens[z[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,P={bits:C.lenbits},oe=u(0,C.lens,0,19,C.lencode,0,C.work,P),C.lenbits=P.bits,oe){M.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;W=(x=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,V=65535&x,!((A=x>>>24)<=D);){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(V<16)q>>>=A,D-=A,C.lens[C.have++]=V;else{if(V===16){for(S=A+2;D<S;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(q>>>=A,D-=A,C.have===0){M.msg="invalid bit length repeat",C.mode=30;break}k=C.lens[C.have-1],ae=3+(3&q),q>>>=2,D-=2}else if(V===17){for(S=A+3;D<S;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}D-=A,k=0,ae=3+(7&(q>>>=A)),q>>>=3,D-=3}else{for(S=A+7;D<S;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}D-=A,k=0,ae=11+(127&(q>>>=A)),q>>>=7,D-=7}if(C.have+ae>C.nlen+C.ndist){M.msg="invalid bit length repeat",C.mode=30;break}for(;ae--;)C.lens[C.have++]=k}}if(C.mode===30)break;if(C.lens[256]===0){M.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,P={bits:C.lenbits},oe=u(c,C.lens,0,C.nlen,C.lencode,0,C.work,P),C.lenbits=P.bits,oe){M.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,P={bits:C.distbits},oe=u(d,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,P),C.distbits=P.bits,oe){M.msg="invalid distances set",C.mode=30;break}if(C.mode=20,U===6)break e;case 20:C.mode=21;case 21:if(6<=Y&&258<=le){M.next_out=K,M.avail_out=le,M.next_in=$,M.avail_in=Y,C.hold=q,C.bits=D,l(M,te),K=M.next_out,ie=M.output,le=M.avail_out,$=M.next_in,G=M.input,Y=M.avail_in,q=C.hold,D=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;W=(x=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,V=65535&x,!((A=x>>>24)<=D);){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(W&&!(240&W)){for(L=A,j=W,re=V;W=(x=C.lencode[re+((q&(1<<L+j)-1)>>L)])>>>16&255,V=65535&x,!(L+(A=x>>>24)<=D);){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}q>>>=L,D-=L,C.back+=L}if(q>>>=A,D-=A,C.back+=A,C.length=V,W===0){C.mode=26;break}if(32&W){C.back=-1,C.mode=12;break}if(64&W){M.msg="invalid literal/length code",C.mode=30;break}C.extra=15&W,C.mode=22;case 22:if(C.extra){for(S=C.extra;D<S;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}C.length+=q&(1<<C.extra)-1,q>>>=C.extra,D-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;W=(x=C.distcode[q&(1<<C.distbits)-1])>>>16&255,V=65535&x,!((A=x>>>24)<=D);){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(!(240&W)){for(L=A,j=W,re=V;W=(x=C.distcode[re+((q&(1<<L+j)-1)>>L)])>>>16&255,V=65535&x,!(L+(A=x>>>24)<=D);){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}q>>>=L,D-=L,C.back+=L}if(q>>>=A,D-=A,C.back+=A,64&W){M.msg="invalid distance code",C.mode=30;break}C.offset=V,C.extra=15&W,C.mode=24;case 24:if(C.extra){for(S=C.extra;D<S;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}C.offset+=q&(1<<C.extra)-1,q>>>=C.extra,D-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){M.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(le===0)break e;if(ae=te-le,C.offset>ae){if((ae=C.offset-ae)>C.whave&&C.sane){M.msg="invalid distance too far back",C.mode=30;break}J=ae>C.wnext?(ae-=C.wnext,C.wsize-ae):C.wnext-ae,ae>C.length&&(ae=C.length),O=C.window}else O=ie,J=K-C.offset,ae=C.length;for(le<ae&&(ae=le),le-=ae,C.length-=ae;ie[K++]=O[J++],--ae;);C.length===0&&(C.mode=21);break;case 26:if(le===0)break e;ie[K++]=C.length,le--,C.mode=21;break;case 27:if(C.wrap){for(;D<32;){if(Y===0)break e;Y--,q|=G[$++]<<D,D+=8}if(te-=le,M.total_out+=te,C.total+=te,te&&(M.adler=C.check=C.flags?a(C.check,ie,te,K-te):o(C.check,ie,te,K-te)),te=le,(C.flags?q:m(q))!==C.check){M.msg="incorrect data check",C.mode=30;break}D=q=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;D<32;){if(Y===0)break e;Y--,q+=G[$++]<<D,D+=8}if(q!==(4294967295&C.total)){M.msg="incorrect length check",C.mode=30;break}D=q=0}C.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return f}return M.next_out=K,M.avail_out=le,M.next_in=$,M.avail_in=Y,C.hold=q,C.bits=D,(C.wsize||te!==M.avail_out&&C.mode<30&&(C.mode<27||U!==4))&&ne(M,M.output,M.next_out,te-M.avail_out)?(C.mode=31,-4):(Q-=M.avail_in,te-=M.avail_out,M.total_in+=Q,M.total_out+=te,C.total+=te,C.wrap&&te&&(M.adler=C.check=C.flags?a(C.check,ie,te,M.next_out-te):o(C.check,ie,te,M.next_out-te)),M.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(Q==0&&te===0||U===4)&&oe===h&&(oe=-5),oe)},i.inflateEnd=function(M){if(!M||!M.state)return f;var U=M.state;return U.window&&(U.window=null),M.state=null,h},i.inflateGetHeader=function(M,U){var C;return M&&M.state&&2&(C=M.state).wrap?((C.head=U).done=!1,h):f},i.inflateSetDictionary=function(M,U){var C,G=U.length;return M&&M.state?(C=M.state).wrap!==0&&C.mode!==11?f:C.mode===11&&o(1,U,G,0)!==C.check?-3:ne(M,U,G,G)?(C.mode=31,-4):(C.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,d,h,f,p,g,w,m){var y,v,b,E,N,_,I,R,F,ne=m.bits,M=0,U=0,C=0,G=0,ie=0,$=0,K=0,Y=0,le=0,q=0,D=null,Q=0,te=new s.Buf16(16),ae=new s.Buf16(16),J=null,O=0;for(M=0;M<=15;M++)te[M]=0;for(U=0;U<f;U++)te[d[h+U]]++;for(ie=ne,G=15;1<=G&&te[G]===0;G--);if(G<ie&&(ie=G),G===0)return p[g++]=20971520,p[g++]=20971520,m.bits=1,0;for(C=1;C<G&&te[C]===0;C++);for(ie<C&&(ie=C),M=Y=1;M<=15;M++)if(Y<<=1,(Y-=te[M])<0)return-1;if(0<Y&&(c===0||G!==1))return-1;for(ae[1]=0,M=1;M<15;M++)ae[M+1]=ae[M]+te[M];for(U=0;U<f;U++)d[h+U]!==0&&(w[ae[d[h+U]]++]=U);if(_=c===0?(D=J=w,19):c===1?(D=o,Q-=257,J=a,O-=257,256):(D=l,J=u,-1),M=C,N=g,K=U=q=0,b=-1,E=(le=1<<($=ie))-1,c===1&&852<le||c===2&&592<le)return 1;for(;;){for(I=M-K,F=w[U]<_?(R=0,w[U]):w[U]>_?(R=J[O+w[U]],D[Q+w[U]]):(R=96,0),y=1<<M-K,C=v=1<<$;p[N+(q>>K)+(v-=y)]=I<<24|R<<16|F|0,v!==0;);for(y=1<<M-1;q&y;)y>>=1;if(y!==0?(q&=y-1,q+=y):q=0,U++,--te[M]==0){if(M===G)break;M=d[h+w[U]]}if(ie<M&&(q&E)!==b){for(K===0&&(K=ie),N+=C,Y=1<<($=M-K);$+K<G&&!((Y-=te[$+K])<=0);)$++,Y<<=1;if(le+=1<<$,c===1&&852<le||c===2&&592<le)return 1;p[b=q&E]=ie<<24|$<<16|N-g|0}}return q!==0&&(p[N+q]=M-K<<24|64<<16|0),m.bits=ie,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,a=1;function l(x){for(var T=x.length;0<=--T;)x[T]=0}var u=0,c=29,d=256,h=d+1+c,f=30,p=19,g=2*h+1,w=15,m=16,y=7,v=256,b=16,E=17,N=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(h+2));l(ne);var M=new Array(2*f);l(M);var U=new Array(512);l(U);var C=new Array(256);l(C);var G=new Array(c);l(G);var ie,$,K,Y=new Array(f);function le(x,T,z,X,H){this.static_tree=x,this.extra_bits=T,this.extra_base=z,this.elems=X,this.max_length=H,this.has_stree=x&&x.length}function q(x,T){this.dyn_tree=x,this.max_code=0,this.stat_desc=T}function D(x){return x<256?U[x]:U[256+(x>>>7)]}function Q(x,T){x.pending_buf[x.pending++]=255&T,x.pending_buf[x.pending++]=T>>>8&255}function te(x,T,z){x.bi_valid>m-z?(x.bi_buf|=T<<x.bi_valid&65535,Q(x,x.bi_buf),x.bi_buf=T>>m-x.bi_valid,x.bi_valid+=z-m):(x.bi_buf|=T<<x.bi_valid&65535,x.bi_valid+=z)}function ae(x,T,z){te(x,z[2*T],z[2*T+1])}function J(x,T){for(var z=0;z|=1&x,x>>>=1,z<<=1,0<--T;);return z>>>1}function O(x,T,z){var X,H,ce=new Array(w+1),he=0;for(X=1;X<=w;X++)ce[X]=he=he+z[X-1]<<1;for(H=0;H<=T;H++){var de=x[2*H+1];de!==0&&(x[2*H]=J(ce[de]++,de))}}function A(x){var T;for(T=0;T<h;T++)x.dyn_ltree[2*T]=0;for(T=0;T<f;T++)x.dyn_dtree[2*T]=0;for(T=0;T<p;T++)x.bl_tree[2*T]=0;x.dyn_ltree[2*v]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function W(x){8<x.bi_valid?Q(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function V(x,T,z,X){var H=2*T,ce=2*z;return x[H]<x[ce]||x[H]===x[ce]&&X[T]<=X[z]}function L(x,T,z){for(var X=x.heap[z],H=z<<1;H<=x.heap_len&&(H<x.heap_len&&V(T,x.heap[H+1],x.heap[H],x.depth)&&H++,!V(T,X,x.heap[H],x.depth));)x.heap[z]=x.heap[H],z=H,H<<=1;x.heap[z]=X}function j(x,T,z){var X,H,ce,he,de=0;if(x.last_lit!==0)for(;X=x.pending_buf[x.d_buf+2*de]<<8|x.pending_buf[x.d_buf+2*de+1],H=x.pending_buf[x.l_buf+de],de++,X===0?ae(x,H,T):(ae(x,(ce=C[H])+d+1,T),(he=_[ce])!==0&&te(x,H-=G[ce],he),ae(x,ce=D(--X),z),(he=I[ce])!==0&&te(x,X-=Y[ce],he)),de<x.last_lit;);ae(x,v,T)}function re(x,T){var z,X,H,ce=T.dyn_tree,he=T.stat_desc.static_tree,de=T.stat_desc.has_stree,be=T.stat_desc.elems,ke=-1;for(x.heap_len=0,x.heap_max=g,z=0;z<be;z++)ce[2*z]!==0?(x.heap[++x.heap_len]=ke=z,x.depth[z]=0):ce[2*z+1]=0;for(;x.heap_len<2;)ce[2*(H=x.heap[++x.heap_len]=ke<2?++ke:0)]=1,x.depth[H]=0,x.opt_len--,de&&(x.static_len-=he[2*H+1]);for(T.max_code=ke,z=x.heap_len>>1;1<=z;z--)L(x,ce,z);for(H=be;z=x.heap[1],x.heap[1]=x.heap[x.heap_len--],L(x,ce,1),X=x.heap[1],x.heap[--x.heap_max]=z,x.heap[--x.heap_max]=X,ce[2*H]=ce[2*z]+ce[2*X],x.depth[H]=(x.depth[z]>=x.depth[X]?x.depth[z]:x.depth[X])+1,ce[2*z+1]=ce[2*X+1]=H,x.heap[1]=H++,L(x,ce,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(Ne,at){var gn,fr,Os,Ze,Ps,jo,Jr=at.dyn_tree,Fc=at.max_code,Uc=at.stat_desc.static_tree,Bo=at.stat_desc.has_stree,zc=at.stat_desc.extra_bits,Fo=at.stat_desc.extra_base,Zn=at.stat_desc.max_length,Uo=0;for(Ze=0;Ze<=w;Ze++)Ne.bl_count[Ze]=0;for(Jr[2*Ne.heap[Ne.heap_max]+1]=0,gn=Ne.heap_max+1;gn<g;gn++)Zn<(Ze=Jr[2*Jr[2*(fr=Ne.heap[gn])+1]+1]+1)&&(Ze=Zn,Uo++),Jr[2*fr+1]=Ze,Fc<fr||(Ne.bl_count[Ze]++,Ps=0,Fo<=fr&&(Ps=zc[fr-Fo]),jo=Jr[2*fr],Ne.opt_len+=jo*(Ze+Ps),Bo&&(Ne.static_len+=jo*(Uc[2*fr+1]+Ps)));if(Uo!==0){do{for(Ze=Zn-1;Ne.bl_count[Ze]===0;)Ze--;Ne.bl_count[Ze]--,Ne.bl_count[Ze+1]+=2,Ne.bl_count[Zn]--,Uo-=2}while(0<Uo);for(Ze=Zn;Ze!==0;Ze--)for(fr=Ne.bl_count[Ze];fr!==0;)Fc<(Os=Ne.heap[--gn])||(Jr[2*Os+1]!==Ze&&(Ne.opt_len+=(Ze-Jr[2*Os+1])*Jr[2*Os],Jr[2*Os+1]=Ze),fr--)}}(x,T),O(ce,ke,x.bl_count)}function k(x,T,z){var X,H,ce=-1,he=T[1],de=0,be=7,ke=4;for(he===0&&(be=138,ke=3),T[2*(z+1)+1]=65535,X=0;X<=z;X++)H=he,he=T[2*(X+1)+1],++de<be&&H===he||(de<ke?x.bl_tree[2*H]+=de:H!==0?(H!==ce&&x.bl_tree[2*H]++,x.bl_tree[2*b]++):de<=10?x.bl_tree[2*E]++:x.bl_tree[2*N]++,ce=H,ke=(de=0)===he?(be=138,3):H===he?(be=6,3):(be=7,4))}function oe(x,T,z){var X,H,ce=-1,he=T[1],de=0,be=7,ke=4;for(he===0&&(be=138,ke=3),X=0;X<=z;X++)if(H=he,he=T[2*(X+1)+1],!(++de<be&&H===he)){if(de<ke)for(;ae(x,H,x.bl_tree),--de!=0;);else H!==0?(H!==ce&&(ae(x,H,x.bl_tree),de--),ae(x,b,x.bl_tree),te(x,de-3,2)):de<=10?(ae(x,E,x.bl_tree),te(x,de-3,3)):(ae(x,N,x.bl_tree),te(x,de-11,7));ce=H,ke=(de=0)===he?(be=138,3):H===he?(be=6,3):(be=7,4)}}l(Y);var P=!1;function S(x,T,z,X){te(x,(u<<1)+(X?1:0),3),function(H,ce,he,de){W(H),Q(H,he),Q(H,~he),s.arraySet(H.pending_buf,H.window,ce,he,H.pending),H.pending+=he}(x,T,z)}i._tr_init=function(x){P||(function(){var T,z,X,H,ce,he=new Array(w+1);for(H=X=0;H<c-1;H++)for(G[H]=X,T=0;T<1<<_[H];T++)C[X++]=H;for(C[X-1]=H,H=ce=0;H<16;H++)for(Y[H]=ce,T=0;T<1<<I[H];T++)U[ce++]=H;for(ce>>=7;H<f;H++)for(Y[H]=ce<<7,T=0;T<1<<I[H]-7;T++)U[256+ce++]=H;for(z=0;z<=w;z++)he[z]=0;for(T=0;T<=143;)ne[2*T+1]=8,T++,he[8]++;for(;T<=255;)ne[2*T+1]=9,T++,he[9]++;for(;T<=279;)ne[2*T+1]=7,T++,he[7]++;for(;T<=287;)ne[2*T+1]=8,T++,he[8]++;for(O(ne,h+1,he),T=0;T<f;T++)M[2*T+1]=5,M[2*T]=J(T,5);ie=new le(ne,_,d+1,h,w),$=new le(M,I,0,f,w),K=new le(new Array(0),R,0,p,y)}(),P=!0),x.l_desc=new q(x.dyn_ltree,ie),x.d_desc=new q(x.dyn_dtree,$),x.bl_desc=new q(x.bl_tree,K),x.bi_buf=0,x.bi_valid=0,A(x)},i._tr_stored_block=S,i._tr_flush_block=function(x,T,z,X){var H,ce,he=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(de){var be,ke=4093624447;for(be=0;be<=31;be++,ke>>>=1)if(1&ke&&de.dyn_ltree[2*be]!==0)return o;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return a;for(be=32;be<d;be++)if(de.dyn_ltree[2*be]!==0)return a;return o}(x)),re(x,x.l_desc),re(x,x.d_desc),he=function(de){var be;for(k(de,de.dyn_ltree,de.l_desc.max_code),k(de,de.dyn_dtree,de.d_desc.max_code),re(de,de.bl_desc),be=p-1;3<=be&&de.bl_tree[2*F[be]+1]===0;be--);return de.opt_len+=3*(be+1)+5+5+4,be}(x),H=x.opt_len+3+7>>>3,(ce=x.static_len+3+7>>>3)<=H&&(H=ce)):H=ce=z+5,z+4<=H&&T!==-1?S(x,T,z,X):x.strategy===4||ce===H?(te(x,2+(X?1:0),3),j(x,ne,M)):(te(x,4+(X?1:0),3),function(de,be,ke,Ne){var at;for(te(de,be-257,5),te(de,ke-1,5),te(de,Ne-4,4),at=0;at<Ne;at++)te(de,de.bl_tree[2*F[at]+1],3);oe(de,de.dyn_ltree,be-1),oe(de,de.dyn_dtree,ke-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,he+1),j(x,x.dyn_ltree,x.dyn_dtree)),A(x),X&&W(x)},i._tr_tally=function(x,T,z){return x.pending_buf[x.d_buf+2*x.last_lit]=T>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&T,x.pending_buf[x.l_buf+x.last_lit]=255&z,x.last_lit++,T===0?x.dyn_ltree[2*z]++:(x.matches++,T--,x.dyn_ltree[2*(C[z]+d+1)]++,x.dyn_dtree[2*D(T)]++),x.last_lit===x.lit_bufsize-1},i._tr_align=function(x){te(x,2,3),ae(x,v,ne),function(T){T.bi_valid===16?(Q(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,d,h=1,f={},p=!1,g=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,l={}.toString.call(o.process)==="[object process]"?function(b){We.nextTick(function(){y(b)})}:function(){if(o.postMessage&&!o.importScripts){var b=!0,E=o.onmessage;return o.onmessage=function(){b=!1},o.postMessage("","*"),o.onmessage=E,b}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",v,!1):o.attachEvent("onmessage",v),function(b){o.postMessage(d+b,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(b){y(b.data)},function(b){c.port2.postMessage(b)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(b){var E=g.createElement("script");E.onreadystatechange=function(){y(b),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(b){setTimeout(y,0,b)},w.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var E=new Array(arguments.length-1),N=0;N<E.length;N++)E[N]=arguments[N+1];var _={callback:b,args:E};return f[h]=_,l(h),h++},w.clearImmediate=m}function m(b){delete f[b]}function y(b){if(p)setTimeout(y,0,b);else{var E=f[b];if(E){p=!0;try{(function(N){var _=N.callback,I=N.args;switch(I.length){case 0:_();break;case 1:_(I[0]);break;case 2:_(I[0],I[1]);break;case 3:_(I[0],I[1],I[2]);break;default:_.apply(a,I)}})(E)}finally{m(b),p=!1}}}}function v(b){b.source===o&&typeof b.data=="string"&&b.data.indexOf(d)===0&&y(+b.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Qy)),Qy.exports}var dQ=cQ();const hQ=_M(dQ);var Vl={exports:{}},Zy,KC;function fQ(){if(KC)return Zy;KC=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return Zy=e,Zy}var GC;function pQ(){if(GC)return Vl.exports;GC=1;var t=fQ(),e=Wb().Stream,r="    ";function n(u,c){typeof c!="object"&&(c={indent:c});var d=c.stream?new e:null,h="",f=!1,p=c.indent?c.indent===!0?r:c.indent:"",g=!0;function w(E){g?We.nextTick(E):E()}function m(E,N){if(N!==void 0&&(h+=N),E&&!f&&(d=d||new e,f=!0),E&&f){var _=h;w(function(){d.emit("data",_)}),h=""}}function y(E,N){a(m,o(E,p,p?1:0),N)}function v(){if(d){var E=h;w(function(){d.emit("data",E),d.emit("end"),d.readable=!1,d.emit("close")})}}function b(E){var N=E.encoding||"UTF-8",_={version:"1.0",encoding:N};E.standalone&&(_.standalone=E.standalone),y({"?xml":{_attr:_}}),h=h.replace("/>","?>")}return w(function(){g=!1}),c.declaration&&b(c.declaration),u&&u.forEach?u.forEach(function(E,N){var _;N+1===u.length&&(_=v),y(E,_)}):y(u,v),d?(d.readable=!0,d):h}function i(){var u=Array.prototype.slice.call(arguments),c={_elem:o(u)};return c.push=function(d){if(!this.append)throw new Error("not assigned to a parent!");var h=this,f=this._elem.indent;a(this.append,o(d,f,this._elem.icount+(f?1:0)),function(){h.append(!0)})},c.close=function(d){d!==void 0&&this.push(d),this.end&&this.end()},c}function s(u,c){return new Array(c||0).join(u||"")}function o(u,c,d){d=d||0;var h=s(c,d),f,p=u,g=!1;if(typeof u=="object"){var w=Object.keys(u);if(f=w[0],p=u[f],p&&p._elem)return p._elem.name=f,p._elem.icount=d,p._elem.indent=c,p._elem.indents=h,p._elem.interrupt=p,p._elem}var m=[],y=[],v;function b(E){var N=Object.keys(E);N.forEach(function(_){m.push(l(_,E[_]))})}switch(typeof p){case"object":if(p===null)break;p._attr&&b(p._attr),p._cdata&&y.push(("<![CDATA["+p._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),p.forEach&&(v=!1,y.push(""),p.forEach(function(E){if(typeof E=="object"){var N=Object.keys(E)[0];N=="_attr"?b(E._attr):y.push(o(E,c,d+1))}else y.pop(),v=!0,y.push(t(E))}),v||y.push(""));break;default:y.push(t(p))}return{name:f,interrupt:g,attributes:m,content:y,icount:d,indents:h,indent:c}}function a(u,c,d){if(typeof c!="object")return u(!1,c);var h=c.interrupt?1:c.content.length;function f(){for(;c.content.length;){var g=c.content.shift();if(g!==void 0){if(p(g))return;a(u,g)}}u(!1,(h>1?c.indents:"")+(c.name?"</"+c.name+">":"")+(c.indent&&!d?`
`:"")),d&&d()}function p(g){return g.interrupt?(g.interrupt.append=u,g.interrupt.end=f,g.interrupt=!1,u(!0),!0):!1}if(u(!1,c.indents+(c.name?"<"+c.name:"")+(c.attributes.length?" "+c.attributes.join(" "):"")+(h?c.name?">":"":c.name?"/>":"")+(c.indent&&h>1?`
`:"")),!h)return u(!1,c.indent?`
`:"");p(c)||f()}function l(u,c){return u+'="'+t(c)+'"'}return Vl.exports=n,Vl.exports.element=Vl.exports.Element=i,Vl.exports}var mQ=pQ();const xt=_M(mQ),$l=0,e0=32,gQ=32,yQ=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==gQ)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const o=t.slice($l,e0).map((l,u)=>l^i[u%i.length]),a=new Uint8Array($l+o.length+Math.max(0,t.length-e0));return a.set(t.slice(0,$l)),a.set(o,$l),a.set(t.slice(e0),$l+o.length),a};class vQ{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class wQ{replace(e,r,n){let i=e;return r.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class bQ{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class SQ{constructor(){fe(this,"formatter"),fe(this,"imageReplacer"),fe(this,"numberingReplacer"),this.formatter=new vQ,this.imageReplacer=new wQ,this.numberingReplacer=new bQ}compile(e,r,n=[]){const i=new hQ,s=this.xmlifyFile(e,r),o=new Map(Object.entries(s));for(const[,a]of o)if(Array.isArray(a))for(const l of a)i.file(l.path,l.data);else i.file(a.path,a.data);for(const a of n)i.file(a.path,a.data);for(const a of e.Media.Array)a.type!=="svg"?i.file(`word/media/${a.fileName}`,a.data):(i.file(`word/media/${a.fileName}`,a.data),i.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:l,fontKey:u}of e.FontTable.fontOptionsWithKey){const[c]=l.split(".");i.file(`word/fonts/${c}.odttf`,yQ(a,u))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=xt(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,o=xt(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(a.forEach((u,c)=>{e.Document.Relationships.createRelationship(n+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),xt(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(i,a,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=xt(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:xt(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:xt(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:xt(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,c)=>{const d=xt(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(d,e.Media).forEach((f,p)=>{u.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:xt(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${c+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,c)=>{const d=xt(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(d,e.Media).forEach((f,p)=>{u.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:xt(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${c+1}.xml.rels`}}),Headers:e.Headers.map((u,c)=>{const d=xt(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),h=this.imageReplacer.getMediaData(d,e.Media),f=this.imageReplacer.replace(d,h,0);return{data:this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering),path:`word/header${c+1}.xml`}}),Footers:e.Footers.map((u,c)=>{const d=xt(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),h=this.imageReplacer.getMediaData(d,e.Media),f=this.imageReplacer.replace(d,h,0);return{data:this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering),path:`word/footer${c+1}.xml`}}),ContentTypes:{data:xt(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:xt(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:xt(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:xt(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:xt(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:xt(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(o,l,s);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((u,c)=>{e.Comments.Relationships.createRelationship(s+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),xt(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:xt(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:xt(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const xQ={WITH_2_BLANKS:"  "},JC=t=>t===!0?xQ.WITH_2_BLANKS:t===!1?void 0:t,aD=class aa{static pack(e,r,n){return YK(this,arguments,function*(i,s,o,a=[]){return this.compiler.compile(i,JC(o),a).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return aa.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return aa.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return aa.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return aa.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return aa.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new uQ.Stream;return this.compiler.compile(e,JC(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};fe(aD,"compiler",new SQ);let EQ=aD;function _Q(){const{setContent:t,content:e,pushVersion:r,setModalidade:n,modalidade:i,versions:s}=Cu();ee.useRef(null);const[o,a]=ee.useState([]),l=ee.useCallback(E=>{const N=document.querySelector(".ProseMirror");if(!N)return;const _=document.createElement("p");_.textContent=E,N.appendChild(_),t(N.innerHTML)},[t]),u=E=>l(E),c=E=>{E&&(E.type==="insert"&&l(E.payload),E.type==="template"&&d(E.payload),E.type==="style"&&w(E.payload),E.type==="generate"&&m())};function d(E){n(E.modalidade);const N=`
      <h3>Achados</h3>
      <p>${E.conteudo.achados}</p>
      <h3>Concluso</h3>
      <p>${E.conteudo.conclusao}</p>`;t(N)}function h(E){n(null);const N=`
      <h3>Achados</h3>
      <p>${Id.achados}</p>
      <h3>Concluso</h3>
      <p>${Id.conclusao}</p>`;t(N)}async function f(){const E=new lQ({sections:[{children:[new Ua({text:`Laudo  ${i??"Modalidade"}`,heading:LC.HEADING_2}),...p(e)]}]}),N=await EQ.toBlob(E),_=document.createElement("a");_.href=URL.createObjectURL(N),_.download="laudo.docx",_.click()}function p(E){const N=document.createElement("div");N.innerHTML=E;const _=[];return N.querySelectorAll("h3,p,li").forEach(I=>{const R=I.textContent||"";I.tagName==="H3"?_.push(new Ua({text:R,heading:LC.HEADING_3})):_.push(new Ua({children:[new cw(R)]}))}),_}function g(){window.print()}function w(E){const N=document.createElement("div");N.innerHTML=e;const _=Array.from(N.querySelectorAll("p"));E.includes("objetivo")&&_.forEach(I=>I.textContent=(I.textContent||"").replace(/\s+/g," ").replace(/\.$/,"")+"."),E.includes("expandido")&&_.forEach(I=>I.textContent=(I.textContent||"")+" "),t(N.innerHTML)}function m(){var R;const E=document.createElement("div");E.innerHTML=e;const N=((R=Array.from(E.querySelectorAll("h3 + p"))[0])==null?void 0:R.textContent)||"",_=y(N),I=Array.from(E.querySelectorAll("h3")).find(F=>{var ne;return(ne=F.textContent)==null?void 0:ne.toLowerCase().includes("conclus")});if(I){const F=I.nextElementSibling;F&&(F.textContent=_)}t(E.innerHTML)}function y(E){return E.trim()?/sem altera(es|coes)|sem achados/i.test(E)?"Estudo sem alteraes significativas.":"Achados descritos, correlacionar clinicamente. Recomenda-se acompanhar conforme protocolo.":"Concluso a critrio do radiologista, conforme correlao clnica."}const v=ee.useMemo(()=>EM,[]),b=ee.useMemo(()=>o.length?o:xM,[o]);return ee.useEffect(()=>{(async()=>{try{await Nr.init(),await Nr.delta();const N=(await Nr.getTemplates()).map(_=>{var I,R,F,ne,M,U;return{id:_.template_id,titulo:_.title||"Template",modalidade:_.modality,conteudo:{achados:((F=(R=(I=_.structure_json)==null?void 0:I.sections)==null?void 0:R.find(C=>/achad/i.test(C.title)))==null?void 0:F.content)||Id.achados,conclusao:((U=(M=(ne=_.structure_json)==null?void 0:ne.sections)==null?void 0:M.find(C=>/conclus/i.test(C.title)))==null?void 0:U.content)||Id.conclusao}}});N.length&&a(N)}catch{}})()},[]),B.jsxs("div",{className:"app",children:[B.jsxs("aside",{className:"sidebar",children:[B.jsxs("div",{children:[B.jsx("div",{className:"title",children:"RadReport AI"}),B.jsx("div",{className:"small",children:"Sem PII  Editor assistido"})]}),B.jsxs("div",{children:[B.jsx("div",{className:"section-header",children:"Aes"}),B.jsxs("div",{className:"twoCol",children:[B.jsx("button",{className:"btn",onClick:()=>h(),children:"Novo vazio"}),B.jsx(WK,{onText:u,onCommand:c})]})]}),B.jsxs("div",{children:[B.jsx("div",{className:"section-header",children:"Templates"}),B.jsx("div",{className:"list",children:b.map(E=>B.jsxs("div",{className:"item",onClick:()=>d(E),children:[B.jsx("div",{className:"title",children:E.titulo}),B.jsx("div",{className:"small",children:E.modalidade})]},E.id))})]}),B.jsxs("div",{children:[B.jsx("div",{className:"section-header",children:"Macros"}),B.jsx("div",{className:"list",children:v.map(E=>B.jsxs("div",{className:"item",onClick:()=>l(E.texto),children:[B.jsx("div",{className:"title",children:E.chave}),B.jsx("div",{className:"small",children:E.modalidade??"Geral"})]},E.id))})]}),B.jsxs("div",{children:[B.jsx("div",{className:"section-header",children:"Verses"}),B.jsx("div",{className:"list",children:s.map(E=>B.jsx("div",{className:"item",onClick:()=>t(E.content),children:B.jsx("div",{children:new Date(E.ts).toLocaleString()})},E.id))}),B.jsx("button",{className:"btn",onClick:r,children:"Salvar verso"})]})]}),B.jsxs("main",{children:[B.jsx($K,{onGenerateConclusion:m}),B.jsxs("div",{className:"footer",children:[B.jsxs("span",{className:"pill",children:["Modalidade: ",i??""]}),B.jsx("button",{className:"btn",onClick:g,children:"Imprimir/PDF"}),B.jsx("button",{className:"btn",onClick:f,children:"Exportar DOCX"})]})]})]})}function kQ(){const{isAuthenticated:t}=rp();return B.jsxs(R6,{children:[B.jsx(na,{path:"/login",element:B.jsx(dI,{})}),B.jsx(na,{path:"/signup",element:B.jsx(hI,{})}),B.jsx(na,{path:"/auth/callback",element:B.jsx(fI,{})}),B.jsx(na,{path:"/app",element:t?B.jsx(_Q,{}):B.jsx(iE,{to:"/login",replace:!0})}),B.jsx(na,{path:"/",element:B.jsx(iE,{to:t?"/app":"/login",replace:!0})})]})}const TQ=L6([{path:"/",element:B.jsx(aV,{})},{path:"/login",element:B.jsx(dI,{})},{path:"/signup",element:B.jsx(hI,{})},{path:"/auth/callback",element:B.jsx(fI,{})},{path:"/app",element:B.jsx(kQ,{})}]);function CQ(){return B.jsx(W6,{router:TQ})}const AQ=uO(document.getElementById("root"));AQ.render(B.jsx(m4,{children:B.jsx(CQ,{})}));
